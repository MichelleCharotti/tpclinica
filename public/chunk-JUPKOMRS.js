import{Sa as e,bb as u,j as a,n as o}from"./chunk-CITMPR77.js";var n=class r{constructor(s,t){this.db=s;this.auth=t}datos=void 0;sub;obtenerDatos(){return new Promise((s,t)=>{this.db.obtenerDatosUsuario(this.auth.currentUser?.uid).then(i=>{i.exists()&&(this.datos=i.data(),s(this.datos))}).catch(i=>t(i))})}cerrarSesion(){this.datos=void 0,this.auth.signOut(),this.sub&&(this.sub.unsubscribe(),this.sub=void 0)}actualizarHorarios(){if(this.datos?.tipo=="especialista"&&this.datos.horarios)return this.db.actualizarHorarios(this.datos.id,this.datos.horarios);throw new Error("no es especialista")}static \u0275fac=function(t){return new(t||r)(o(u),o(e))};static \u0275prov=a({token:r,factory:r.\u0275fac,providedIn:"root"})};export{n as a};
