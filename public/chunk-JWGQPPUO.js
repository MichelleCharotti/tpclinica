var Ew=Object.defineProperty,SN=Object.defineProperties;var AN=Object.getOwnPropertyDescriptors;var Iw=Object.getOwnPropertySymbols,RN=Object.getPrototypeOf,NN=Object.prototype.hasOwnProperty,MN=Object.prototype.propertyIsEnumerable,xN=Reflect.get;var ww=(t,e,n)=>e in t?Ew(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,U=(t,e)=>{for(var n in e||={})NN.call(e,n)&&ww(t,n,e[n]);if(Iw)for(var n of Iw(e))MN.call(e,n)&&ww(t,n,e[n]);return t},Ee=(t,e)=>SN(t,AN(e));var PN=(t,e)=>{for(var n in e)Ew(t,n,{get:e[n],enumerable:!0})};var dr=(t,e,n)=>xN(RN(t),n,e);var _=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(l){i(l)}},o=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});function Tw(t,e){return Object.is(t,e)}var $e=null,nu=!1,ru=1,Sn=Symbol("SIGNAL");function pe(t){let e=$e;return $e=t,e}function Dw(){return $e}var Go={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function hf(t){if(nu)throw new Error("");if($e===null)return;$e.consumerOnSignalRead(t);let e=$e.nextProducerIndex++;if(au($e),e<$e.producerNode.length&&$e.producerNode[e]!==t&&zo($e)){let n=$e.producerNode[e];ou(n,$e.producerIndexOfThis[e])}$e.producerNode[e]!==t&&($e.producerNode[e]=t,$e.producerIndexOfThis[e]=zo($e)?Aw(t,$e,e):0),$e.producerLastReadVersion[e]=t.version}function ON(){ru++}function bw(t){if(!(zo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===ru)){if(!t.producerMustRecompute(t)&&!pf(t)){t.dirty=!1,t.lastCleanEpoch=ru;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=ru}}function Cw(t){if(t.liveConsumerNode===void 0)return;let e=nu;nu=!0;try{for(let n of t.liveConsumerNode)n.dirty||kN(n)}finally{nu=e}}function Sw(){return $e?.consumerAllowSignalWrites!==!1}function kN(t){t.dirty=!0,Cw(t),t.consumerMarkedDirty?.(t)}function su(t){return t&&(t.nextProducerIndex=0),pe(t)}function ff(t,e){if(pe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(zo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ou(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function pf(t){au(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(bw(n),r!==n.version))return!0}return!1}function gf(t){if(au(t),zo(t))for(let e=0;e<t.producerNode.length;e++)ou(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Aw(t,e,n){if(Rw(t),t.liveConsumerNode.length===0&&Nw(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Aw(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function ou(t,e){if(Rw(t),t.liveConsumerNode.length===1&&Nw(t))for(let r=0;r<t.producerNode.length;r++)ou(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];au(i),i.producerIndexOfThis[r]=e}}function zo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function au(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Rw(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Nw(t){return t.producerNode!==void 0}function Mw(t){let e=Object.create(LN);e.computation=t;let n=()=>{if(bw(e),hf(e),e.value===iu)throw e.error;return e.value};return n[Sn]=e,n}var lf=Symbol("UNSET"),df=Symbol("COMPUTING"),iu=Symbol("ERRORED"),LN=Ee(U({},Go),{value:lf,dirty:!0,error:null,equal:Tw,producerMustRecompute(t){return t.value===lf||t.value===df},producerRecomputeValue(t){if(t.value===df)throw new Error("Detected cycle in computations.");let e=t.value;t.value=df;let n=su(t),r;try{r=t.computation()}catch(i){r=iu,t.error=i}finally{ff(t,n)}if(e!==lf&&e!==iu&&r!==iu&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function FN(){throw new Error}var xw=FN;function Pw(){xw()}function Ow(t){xw=t}var VN=null;function kw(t){let e=Object.create(Fw);e.value=t;let n=()=>(hf(e),e.value);return n[Sn]=e,n}function mf(t,e){Sw()||Pw(),t.equal(t.value,e)||(t.value=e,UN(t))}function Lw(t,e){Sw()||Pw(),mf(t,e(t.value))}var Fw=Ee(U({},Go),{equal:Tw,value:void 0});function UN(t){t.version++,ON(),Cw(t),VN?.()}function ee(t){return typeof t=="function"}function Wi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var cu=Wi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ei(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Pe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ee(r))try{r()}catch(s){e=s instanceof cu?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Vw(s)}catch(o){e=e??[],o instanceof cu?e=[...e,...o.errors]:e.push(o)}}if(e)throw new cu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Vw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ei(n,e)}remove(e){let{_finalizers:n}=this;n&&ei(n,e),e instanceof t&&e._removeParent(this)}};Pe.EMPTY=(()=>{let t=new Pe;return t.closed=!0,t})();var yf=Pe.EMPTY;function uu(t){return t instanceof Pe||t&&"closed"in t&&ee(t.remove)&&ee(t.add)&&ee(t.unsubscribe)}function Vw(t){ee(t)?t():t.unsubscribe()}var zt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ki={setTimeout(t,e,...n){let{delegate:r}=Ki;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Ki;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function lu(t){Ki.setTimeout(()=>{let{onUnhandledError:e}=zt;if(e)e(t);else throw t})}function Wo(){}var Uw=vf("C",void 0,void 0);function jw(t){return vf("E",void 0,t)}function Bw(t){return vf("N",t,void 0)}function vf(t,e,n){return{kind:t,value:e,error:n}}var ti=null;function Qi(t){if(zt.useDeprecatedSynchronousErrorHandling){let e=!ti;if(e&&(ti={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ti;if(ti=null,n)throw r}}else t()}function $w(t){zt.useDeprecatedSynchronousErrorHandling&&ti&&(ti.errorThrown=!0,ti.error=t)}var ni=class extends Pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,uu(e)&&e.add(this)):this.destination=$N}static create(e,n,r){return new Yi(e,n,r)}next(e){this.isStopped?If(Bw(e),this):this._next(e)}error(e){this.isStopped?If(jw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?If(Uw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},jN=Function.prototype.bind;function _f(t,e){return jN.call(t,e)}var wf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){du(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){du(r)}else du(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){du(n)}}},Yi=class extends ni{constructor(e,n,r){super();let i;if(ee(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&zt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&_f(e.next,s),error:e.error&&_f(e.error,s),complete:e.complete&&_f(e.complete,s)}):i=e}this.destination=new wf(i)}};function du(t){zt.useDeprecatedSynchronousErrorHandling?$w(t):lu(t)}function BN(t){throw t}function If(t,e){let{onStoppedNotification:n}=zt;n&&Ki.setTimeout(()=>n(t,e))}var $N={closed:!0,next:Wo,error:BN,complete:Wo};var Ji=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ct(t){return t}function hu(...t){return Ef(t)}function Ef(t){return t.length===0?Ct:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ie=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=qN(n)?n:new Yi(n,r,i);return Qi(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Hw(r),new r((i,s)=>{let o=new Yi({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ji](){return this}pipe(...n){return Ef(n)(this)}toPromise(n){return n=Hw(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Hw(t){var e;return(e=t??zt.Promise)!==null&&e!==void 0?e:Promise}function HN(t){return t&&ee(t.next)&&ee(t.error)&&ee(t.complete)}function qN(t){return t&&t instanceof ni||HN(t)&&uu(t)}function Tf(t){return ee(t?.lift)}function de(t){return e=>{if(Tf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(t,e,n,r,i){return new Df(t,e,n,r,i)}var Df=class extends ni{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Zi(){return de((t,e)=>{let n=null;t._refCount++;let r=ue(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Xi=class extends ie{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Tf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pe;let n=this.getSubject();e.add(this.source.subscribe(ue(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pe.EMPTY)}return e}refCount(){return Zi()(this)}};var qw=Wi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var rt=(()=>{class t extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new fu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new qw}next(n){Qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Qi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?yf:(this.currentObservers=null,s.push(n),new Pe(()=>{this.currentObservers=null,ei(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ie;return n.source=this,n}}return t.create=(e,n)=>new fu(e,n),t})(),fu=class extends rt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:yf}};var Qe=class extends rt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var bf={now(){return(bf.delegate||Date).now()},delegate:void 0};var pu=class extends Pe{constructor(e,n){super()}schedule(e,n=0){return this}};var Ko={setInterval(t,e,...n){let{delegate:r}=Ko;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ko;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var es=class extends pu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Ko.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ko.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ei(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ts=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ts.now=bf.now;var ns=class extends ts{constructor(e,n=ts.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Cf=new ns(es);var gu=class extends es{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var mu=class extends ns{};var Sf=new mu(gu);var St=new ie(t=>t.complete());function zw(t){return t&&ee(t.schedule)}function Gw(t){return t[t.length-1]}function yu(t){return ee(Gw(t))?t.pop():void 0}function hr(t){return zw(Gw(t))?t.pop():void 0}function Af(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Kw(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function Ww(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ri(t){return this instanceof ri?(this.v=t,this):new ri(t)}function Qw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(D){return Promise.resolve(D).then(y,p)}}function a(y,D){r[y]&&(i[y]=function(R){return new Promise(function(S,P){s.push([y,R,S,P])>1||u(y,R)})},D&&(i[y]=D(i[y])))}function u(y,D){try{l(r[y](D))}catch(R){m(s[0][3],R)}}function l(y){y.value instanceof ri?Promise.resolve(y.value.v).then(h,p):m(s[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,D){y(D),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Yw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Ww=="function"?Ww(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var vu=t=>t&&typeof t.length=="number"&&typeof t!="function";function _u(t){return ee(t?.then)}function Iu(t){return ee(t[Ji])}function wu(t){return Symbol.asyncIterator&&ee(t?.[Symbol.asyncIterator])}function Eu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function zN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Tu=zN();function Du(t){return ee(t?.[Tu])}function bu(t){return Qw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ri(n.read());if(i)return yield ri(void 0);yield yield ri(r)}}finally{n.releaseLock()}})}function Cu(t){return ee(t?.getReader)}function Le(t){if(t instanceof ie)return t;if(t!=null){if(Iu(t))return GN(t);if(vu(t))return WN(t);if(_u(t))return KN(t);if(wu(t))return Jw(t);if(Du(t))return QN(t);if(Cu(t))return YN(t)}throw Eu(t)}function GN(t){return new ie(e=>{let n=t[Ji]();if(ee(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function WN(t){return new ie(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function KN(t){return new ie(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,lu)})}function QN(t){return new ie(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Jw(t){return new ie(e=>{JN(t,e).catch(n=>e.error(n))})}function YN(t){return Jw(bu(t))}function JN(t,e){var n,r,i,s;return Kw(this,void 0,void 0,function*(){try{for(n=Yw(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function It(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function fr(t,e=0){return de((n,r)=>{n.subscribe(ue(r,i=>It(r,t,()=>r.next(i),e),()=>It(r,t,()=>r.complete(),e),i=>It(r,t,()=>r.error(i),e)))})}function pr(t,e=0){return de((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Zw(t,e){return Le(t).pipe(pr(e),fr(e))}function Xw(t,e){return Le(t).pipe(pr(e),fr(e))}function eE(t,e){return new ie(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function tE(t,e){return new ie(n=>{let r;return It(n,e,()=>{r=t[Tu](),It(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>ee(r?.return)&&r.return()})}function Su(t,e){if(!t)throw new Error("Iterable cannot be null");return new ie(n=>{It(n,e,()=>{let r=t[Symbol.asyncIterator]();It(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function nE(t,e){return Su(bu(t),e)}function rE(t,e){if(t!=null){if(Iu(t))return Zw(t,e);if(vu(t))return eE(t,e);if(_u(t))return Xw(t,e);if(wu(t))return Su(t,e);if(Du(t))return tE(t,e);if(Cu(t))return nE(t,e)}throw Eu(t)}function Se(t,e){return e?rE(t,e):Le(t)}function Q(...t){let e=hr(t);return Se(t,e)}function rs(t,e){let n=ee(t)?t:()=>t,r=i=>i.error(n());return new ie(e?i=>e.schedule(r,0,i):r)}function Rf(t){return!!t&&(t instanceof ie||ee(t.lift)&&ee(t.subscribe))}var An=Wi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Z(t,e){return de((n,r)=>{let i=0;n.subscribe(ue(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:ZN}=Array;function XN(t,e){return ZN(e)?t(...e):t(e)}function Au(t){return Z(e=>XN(t,e))}var{isArray:eM}=Array,{getPrototypeOf:tM,prototype:nM,keys:rM}=Object;function Ru(t){if(t.length===1){let e=t[0];if(eM(e))return{args:e,keys:null};if(iM(e)){let n=rM(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function iM(t){return t&&typeof t=="object"&&tM(t)===nM}function Nu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Qo(...t){let e=hr(t),n=yu(t),{args:r,keys:i}=Ru(t);if(r.length===0)return Se([],e);let s=new ie(sM(r,e,i?o=>Nu(i,o):Ct));return n?s.pipe(Au(n)):s}function sM(t,e,n=Ct){return r=>{iE(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)iE(e,()=>{let l=Se(t[u],e),h=!1;l.subscribe(ue(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function iE(t,e,n){t?It(n,t,e):e()}function sE(t,e,n,r,i,s,o,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=R=>l<r?D(R):u.push(R),D=R=>{s&&e.next(R),l++;let S=!1;Le(n(R,h++)).subscribe(ue(e,P=>{i?.(P),s?y(P):e.next(P)},()=>{S=!0},void 0,()=>{if(S)try{for(l--;u.length&&l<r;){let P=u.shift();o?It(e,o,()=>D(P)):D(P)}m()}catch(P){e.error(P)}}))};return t.subscribe(ue(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Fe(t,e,n=1/0){return ee(e)?Fe((r,i)=>Z((s,o)=>e(r,s,i,o))(Le(t(r,i))),n):(typeof e=="number"&&(n=e),de((r,i)=>sE(r,i,t,n)))}function is(t=1/0){return Fe(Ct,t)}function oE(){return is(1)}function ss(...t){return oE()(Se(t,hr(t)))}function Mu(t){return new ie(e=>{Le(t()).subscribe(e)})}function oM(...t){let e=yu(t),{args:n,keys:r}=Ru(t),i=new ie(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;Le(n[h]).subscribe(ue(s,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?Nu(r,a):a),s.complete())}))}});return e?i.pipe(Au(e)):i}function pt(t,e){return de((n,r)=>{let i=0;n.subscribe(ue(r,s=>t.call(e,s,i++)&&r.next(s)))})}function gr(t){return de((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ue(n,void 0,void 0,o=>{s=Le(t(o,gr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function aE(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(ue(o,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Rn(t,e){return ee(e)?Fe(t,e,1):Fe(t,1)}function mr(t){return de((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Nn(t){return t<=0?()=>St:de((e,n)=>{let r=0;e.subscribe(ue(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Nf(t){return Z(()=>t)}function xu(t=aM){return de((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function aM(){return new An}function ii(t){return de((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function sn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?pt((i,s)=>t(i,s,r)):Ct,Nn(1),n?mr(e):xu(()=>new An))}function os(t){return t<=0?()=>St:de((e,n)=>{let r=[];e.subscribe(ue(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Mf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?pt((i,s)=>t(i,s,r)):Ct,os(1),n?mr(e):xu(()=>new An))}function Pu(t,e){return de(aE(t,e,arguments.length>=2,!0))}function Ou(...t){let e=hr(t);return de((n,r)=>{(e?ss(t,n,e):ss(t,n)).subscribe(r)})}function wt(t,e){return de((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(ue(r,u=>{i?.unsubscribe();let l=0,h=s++;Le(t(u,h)).subscribe(i=ue(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function xf(t){return de((e,n)=>{Le(t).subscribe(ue(n,()=>n.complete(),Wo)),!n.closed&&e.subscribe(n)})}function Ve(t,e,n){let r=ee(t)||e||n?{next:t,error:e,complete:n}:t;return r?de((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ue(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ct}var WE="https://g.co/ng/security#xss",z=class extends Error{constructor(e,n){super(gl(e,n)),this.code=e}};function gl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ia(t){return{toString:t}.toString()}var ku="__parameters__";function cM(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function KE(t,e,n){return ia(()=>{let r=cM(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,h){let p=u.hasOwnProperty(ku)?u[ku]:Object.defineProperty(u,ku,{value:[]})[ku];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Gf=globalThis;function we(t){for(let e in t)if(t[e]===we)return e;throw Error("Could not find renamed property on target object.")}function uM(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function mt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(mt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function cE(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var lM=we({__forward_ref__:we});function QE(t){return t.__forward_ref__=QE,t.toString=function(){return mt(this())},t}function gt(t){return YE(t)?t():t}function YE(t){return typeof t=="function"&&t.hasOwnProperty(lM)&&t.__forward_ref__===QE}function H(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ds(t){return{providers:t.providers||[],imports:t.imports||[]}}function ml(t){return uE(t,ZE)||uE(t,XE)}function JE(t){return ml(t)!==null}function uE(t,e){return t.hasOwnProperty(e)?t[e]:null}function dM(t){let e=t&&(t[ZE]||t[XE]);return e||null}function lE(t){return t&&(t.hasOwnProperty(dE)||t.hasOwnProperty(hM))?t[dE]:null}var ZE=we({\u0275prov:we}),dE=we({\u0275inj:we}),XE=we({ngInjectableDef:we}),hM=we({ngInjectorDef:we}),$=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function eT(t){return t&&!!t.\u0275providers}var fM=we({\u0275cmp:we}),pM=we({\u0275dir:we}),gM=we({\u0275pipe:we}),mM=we({\u0275mod:we}),Gu=we({\u0275fac:we}),Jo=we({__NG_ELEMENT_ID__:we}),hE=we({__NG_ENV_ID__:we});function yl(t){return typeof t=="string"?t:t==null?"":String(t)}function yM(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():yl(t)}function vM(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new z(-200,t)}function qp(t,e){throw new z(-201,!1)}var se=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(se||{}),Wf;function tT(){return Wf}function Pt(t){let e=Wf;return Wf=t,e}function nT(t,e,n){let r=ml(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&se.Optional)return null;if(e!==void 0)return e;qp(t,"Injector")}var _M={},Zo=_M,Kf="__NG_DI_FLAG__",Wu="ngTempTokenPath",IM="ngTokenPath",wM=/\n/gm,EM="\u0275",fE="__source",ds;function TM(){return ds}function yr(t){let e=ds;return ds=t,e}function DM(t,e=se.Default){if(ds===void 0)throw new z(-203,!1);return ds===null?nT(t,void 0,e):ds.get(t,e&se.Optional?null:void 0,e)}function G(t,e=se.Default){return(tT()||DM)(gt(t),e)}function x(t,e=se.Default){return G(t,vl(e))}function vl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Qf(t){let e=[];for(let n=0;n<t.length;n++){let r=gt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new z(900,!1);let i,s=se.Default;for(let o=0;o<r.length;o++){let a=r[o],u=bM(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(G(i,s))}else e.push(G(r))}return e}function rT(t,e){return t[Kf]=e,t.prototype[Kf]=e,t}function bM(t){return t[Kf]}function CM(t,e,n,r){let i=t[Wu];throw e[fE]&&i.unshift(e[fE]),t.message=SM(`
`+t.message,i,n,r),t[IM]=i,t[Wu]=null,t}function SM(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==EM?t.slice(2):t;let i=mt(e);if(Array.isArray(e))i=e.map(mt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):mt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(wM,`
  `)}`}var ke=rT(KE("Optional"),8);var zp=rT(KE("SkipSelf"),4);function fs(t,e){let n=t.hasOwnProperty(Gu);return n?t[Gu]:null}function AM(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function RM(t){return t.flat(Number.POSITIVE_INFINITY)}function Gp(t,e){t.forEach(n=>Array.isArray(n)?Gp(n,e):e(n))}function iT(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ku(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function NM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function MM(t,e,n){let r=sa(t,e);return r>=0?t[r|1]=n:(r=~r,NM(t,r,e,n)),r}function Pf(t,e){let n=sa(t,e);if(n>=0)return t[n|1]}function sa(t,e){return xM(t,e,1)}function xM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var ps={},Ot=[],gs=new $(""),sT=new $("",-1),oT=new $(""),Qu=class{get(e,n=Zo){if(n===Zo){let r=new Error(`NullInjectorError: No provider for ${mt(e)}!`);throw r.name="NullInjectorError",r}return n}},aT=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(aT||{}),cn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(cn||{}),Ir=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ir||{});function PM(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function Yf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];OM(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function cT(t){return t===3||t===4||t===6}function OM(t){return t.charCodeAt(0)===64}function Xo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?pE(t,n,i,null,e[++r]):pE(t,n,i,null,null))}}return t}function pE(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var uT="ng-template";function kM(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&PM(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Wp(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Wp(t){return t.type===4&&t.value!==uT}function LM(t,e,n){let r=t.type===4&&!n?uT:t.value;return e===r}function FM(t,e,n){let r=4,i=t.attrs,s=i!==null?jM(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!Gt(r)&&!Gt(u))return!1;if(o&&Gt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!LM(t,u,n)||u===""&&e.length===1){if(Gt(r))return!1;o=!0}}else if(r&8){if(i===null||!kM(t,i,u,n)){if(Gt(r))return!1;o=!0}}else{let l=e[++a],h=VM(u,i,Wp(t),n);if(h===-1){if(Gt(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Gt(r))return!1;o=!0}}}}return Gt(r)||o}function Gt(t){return(t&1)===0}function VM(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return BM(e,t)}function UM(t,e,n=!1){for(let r=0;r<e.length;r++)if(FM(t,e[r],n))return!0;return!1}function jM(t){for(let e=0;e<t.length;e++){let n=t[e];if(cT(n))return e}return t.length}function BM(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function gE(t,e){return t?":not("+e.trim()+")":e}function $M(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Gt(o)&&(e+=gE(s,i),i=""),r=o,s=s||!Gt(r);n++}return i!==""&&(e+=gE(s,i)),e}function HM(t){return t.map($M).join(",")}function qM(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Gt(i))break;i=s}r++}return{attrs:e,classes:n}}function lT(t){return ia(()=>{let e=gT(t),n=Ee(U({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===aT.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||cn.Emulated,styles:t.styles||Ot,_:null,schemas:t.schemas||null,tView:null,id:""});mT(n);let r=t.dependencies;return n.directiveDefs=yE(r,!1),n.pipeDefs=yE(r,!0),n.id=WM(n),n})}function zM(t){return wr(t)||dT(t)}function GM(t){return t!==null}function bs(t){return ia(()=>({type:t.type,bootstrap:t.bootstrap||Ot,declarations:t.declarations||Ot,imports:t.imports||Ot,exports:t.exports||Ot,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function mE(t,e){if(t==null)return ps;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Ir.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Ir.None?[r,a]:r,e[s]=o):n[s]=r}return n}function mi(t){return ia(()=>{let e=gT(t);return mT(e),e})}function wr(t){return t[fM]||null}function dT(t){return t[pM]||null}function hT(t){return t[gM]||null}function fT(t){let e=wr(t)||dT(t)||hT(t);return e!==null?e.standalone:!1}function pT(t,e){let n=t[mM]||null;if(!n&&e===!0)throw new Error(`Type ${mt(t)} does not have '\u0275mod' property.`);return n}function gT(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ps,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ot,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:mE(t.inputs,e),outputs:mE(t.outputs),debugInfo:null}}function mT(t){t.features?.forEach(e=>e(t))}function yE(t,e){if(!t)return null;let n=e?hT:zM;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(GM)}function WM(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Et(t){return{\u0275providers:t}}function KM(...t){return{\u0275providers:yT(!0,t),\u0275fromNgModule:!0}}function yT(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Gp(e,o=>{let a=o;Jf(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&vT(i,s),n}function vT(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Kp(i,s=>{e(s,r)})}}function Jf(t,e,n,r){if(t=gt(t),!t)return!1;let i=null,s=lE(t),o=!s&&wr(t);if(!s&&!o){let u=t.ngModule;if(s=lE(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)Jf(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{Gp(s.imports,h=>{Jf(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&vT(l,e)}if(!a){let l=fs(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ot},i),e({provide:oT,useValue:i,multi:!0},i),e({provide:gs,useValue:()=>G(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;Kp(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Kp(t,e){for(let n of t)eT(n)&&(n=n.\u0275providers),Array.isArray(n)?Kp(n,e):e(n)}var QM=we({provide:String,useValue:we});function _T(t){return t!==null&&typeof t=="object"&&QM in t}function YM(t){return!!(t&&t.useExisting)}function JM(t){return!!(t&&t.useFactory)}function ms(t){return typeof t=="function"}function ZM(t){return!!t.useClass}var _l=new $(""),ju={},XM={},Of;function Qp(){return Of===void 0&&(Of=new Qu),Of}var yt=class{},ea=class extends yt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Xf(e,o=>this.processProvider(o)),this.records.set(sT,as(void 0,this)),i.has("environment")&&this.records.set(yt,as(void 0,this));let s=this.records.get(_l);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(oT,Ot,se.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=yr(this),r=Pt(void 0),i;try{return e()}finally{yr(n),Pt(r)}}get(e,n=Zo,r=se.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(hE))return e[hE](this);r=vl(r);let i,s=yr(this),o=Pt(void 0);try{if(!(r&se.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=ix(e)&&ml(e);l&&this.injectableDefInScope(l)?u=as(Zf(e),ju):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&se.Self?Qp():this.parent;return n=r&se.Optional&&n===Zo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Wu]=a[Wu]||[]).unshift(mt(e)),s)throw a;return CM(a,e,"R3InjectorError",this.source)}else throw a}finally{Pt(o),yr(s)}}resolveInjectorInitializers(){let e=pe(null),n=yr(this),r=Pt(void 0),i;try{let s=this.get(gs,Ot,se.Self);for(let o of s)o()}finally{yr(n),Pt(r),pe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(mt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(e){e=gt(e);let n=ms(e)?e:gt(e&&e.provide),r=tx(e);if(!ms(e)&&e.multi===!0){let i=this.records.get(n);i||(i=as(void 0,ju,!0),i.factory=()=>Qf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=pe(null);try{return n.value===ju&&(n.value=XM,n.value=n.factory()),typeof n.value=="object"&&n.value&&rx(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=gt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Zf(t){let e=ml(t),n=e!==null?e.factory:fs(t);if(n!==null)return n;if(t instanceof $)throw new z(204,!1);if(t instanceof Function)return ex(t);throw new z(204,!1)}function ex(t){if(t.length>0)throw new z(204,!1);let n=dM(t);return n!==null?()=>n.factory(t):()=>new t}function tx(t){if(_T(t))return as(void 0,t.useValue);{let e=IT(t);return as(e,ju)}}function IT(t,e,n){let r;if(ms(t)){let i=gt(t);return fs(i)||Zf(i)}else if(_T(t))r=()=>gt(t.useValue);else if(JM(t))r=()=>t.useFactory(...Qf(t.deps||[]));else if(YM(t))r=()=>G(gt(t.useExisting));else{let i=gt(t&&(t.useClass||t.provide));if(nx(t))r=()=>new i(...Qf(t.deps));else return fs(i)||Zf(i)}return r}function as(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function nx(t){return!!t.deps}function rx(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function ix(t){return typeof t=="function"||typeof t=="object"&&t instanceof $}function Xf(t,e){for(let n of t)Array.isArray(n)?Xf(n,e):n&&eT(n)?Xf(n.\u0275providers,e):e(n)}function Lt(t,e){t instanceof ea&&t.assertNotDestroyed();let n,r=yr(t),i=Pt(void 0);try{return e()}finally{yr(r),Pt(i)}}function wT(){return tT()!==void 0||TM()!=null}function sx(t){if(!wT())throw new z(-203,!1)}function ox(t){return typeof t=="function"}var kn=0,re=1,J=2,st=3,Wt=4,Qt=5,Yu=6,Ju=7,Kt=8,ys=9,un=10,He=11,ta=12,vE=13,Cs=14,ln=15,oi=16,cs=17,Mn=18,Il=19,ET=20,vr=21,kf=22,kt=23,xn=25,TT=1;var ai=7,Zu=8,vs=9,At=10,Xu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Xu||{});function _r(t){return Array.isArray(t)&&typeof t[TT]=="object"}function Ln(t){return Array.isArray(t)&&t[TT]===!0}function DT(t){return(t.flags&4)!==0}function wl(t){return t.componentOffset>-1}function Yp(t){return(t.flags&1)===1}function Er(t){return!!t.template}function ep(t){return(t[J]&512)!==0}var tp=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function bT(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function oa(){return CT}function CT(t){return t.type.prototype.ngOnChanges&&(t.setInput=cx),ax}oa.ngInherit=!0;function ax(){let t=AT(this),e=t?.current;if(e){let n=t.previous;if(n===ps)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function cx(t,e,n,r,i){let s=this.declaredInputs[r],o=AT(t)||ux(t,{previous:ps,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new tp(l&&l.currentValue,n,u===ps),bT(t,e,i,n)}var ST="__ngSimpleChanges__";function AT(t){return t[ST]||null}function ux(t,e){return t[ST]=e}var _E=null;var on=function(t,e,n){_E?.(t,e,n)},lx="svg",dx="math";function dn(t){for(;Array.isArray(t);)t=t[kn];return t}function RT(t,e){return dn(e[t])}function Ft(t,e){return dn(e[t.index])}function NT(t,e){return t.data[e]}function hx(t,e){return t[e]}function br(t,e){let n=e[t];return _r(n)?n:n[kn]}function fx(t){return(t[J]&4)===4}function Jp(t){return(t[J]&128)===128}function px(t){return Ln(t[st])}function el(t,e){return e==null?null:t[e]}function MT(t){t[cs]=0}function xT(t){t[J]&1024||(t[J]|=1024,Jp(t)&&Tl(t))}function gx(t,e){for(;t>0;)e=e[Cs],t--;return e}function El(t){return!!(t[J]&9216||t[kt]?.dirty)}function np(t){t[un].changeDetectionScheduler?.notify(8),t[J]&64&&(t[J]|=1024),El(t)&&Tl(t)}function Tl(t){t[un].changeDetectionScheduler?.notify(0);let e=ci(t);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!Jp(e)));)e=ci(e)}function PT(t,e){if((t[J]&256)===256)throw new z(911,!1);t[vr]===null&&(t[vr]=[]),t[vr].push(e)}function mx(t,e){if(t[vr]===null)return;let n=t[vr].indexOf(e);n!==-1&&t[vr].splice(n,1)}function ci(t){let e=t[st];return Ln(e)?e[st]:e}var oe={lFrame:$T(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var OT=!1;function yx(){return oe.lFrame.elementDepthCount}function vx(){oe.lFrame.elementDepthCount++}function _x(){oe.lFrame.elementDepthCount--}function kT(){return oe.bindingsEnabled}function Ix(){return oe.skipHydrationRootTNode!==null}function wx(t){return oe.skipHydrationRootTNode===t}function Ex(){oe.skipHydrationRootTNode=null}function ve(){return oe.lFrame.lView}function vt(){return oe.lFrame.tView}function l6(t){return oe.lFrame.contextLView=t,t[Kt]}function d6(t){return oe.lFrame.contextLView=null,t}function _t(){let t=LT();for(;t!==null&&t.type===64;)t=t.parent;return t}function LT(){return oe.lFrame.currentTNode}function Tx(){let t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function aa(t,e){let n=oe.lFrame;n.currentTNode=t,n.isParent=e}function FT(){return oe.lFrame.isParent}function Dx(){oe.lFrame.isParent=!1}function bx(){return oe.lFrame.contextLView}function VT(){return OT}function IE(t){OT=t}function Cx(){let t=oe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Sx(t){return oe.lFrame.bindingIndex=t}function Dl(){return oe.lFrame.bindingIndex++}function Ax(t){let e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Rx(){return oe.lFrame.inI18n}function Nx(t,e){let n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,rp(e)}function Mx(){return oe.lFrame.currentDirectiveIndex}function rp(t){oe.lFrame.currentDirectiveIndex=t}function xx(t){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function UT(){return oe.lFrame.currentQueryIndex}function Zp(t){oe.lFrame.currentQueryIndex=t}function Px(t){let e=t[re];return e.type===2?e.declTNode:e.type===1?t[Qt]:null}function jT(t,e,n){if(n&se.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&se.Host);)if(i=Px(s),i===null||(s=s[Cs],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=oe.lFrame=BT();return r.currentTNode=e,r.lView=t,!0}function Xp(t){let e=BT(),n=t[re];oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function BT(){let t=oe.lFrame,e=t===null?null:t.child;return e===null?$T(t):e}function $T(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function HT(){let t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var qT=HT;function eg(){let t=HT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ox(t){return(oe.lFrame.contextLView=gx(t,oe.lFrame.contextLView))[Kt]}function Ss(){return oe.lFrame.selectedIndex}function ui(t){oe.lFrame.selectedIndex=t}function tg(){let t=oe.lFrame;return NT(t.tView,t.selectedIndex)}function kx(){return oe.lFrame.currentNamespace}var zT=!0;function ng(){return zT}function rg(t){zT=t}function Lx(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=CT(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function ig(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Bu(t,e,n){GT(t,e,3,n)}function $u(t,e,n,r){(t[J]&3)===n&&GT(t,e,n,r)}function Lf(t,e){let n=t[J];(n&3)===e&&(n&=16383,n+=1,t[J]=n)}function GT(t,e,n,r){let i=r!==void 0?t[cs]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[cs]+=65536),(a<s||s==-1)&&(Fx(t,n,e,u),t[cs]=(t[cs]&4294901760)+u+2),u++}function wE(t,e){on(4,t,e);let n=pe(null);try{e.call(t)}finally{pe(n),on(5,t,e)}}function Fx(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[J]>>14<t[cs]>>16&&(t[J]&3)===e&&(t[J]+=16384,wE(a,s)):wE(a,s)}var hs=-1,li=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function Vx(t){return t instanceof li}function Ux(t){return(t.flags&8)!==0}function jx(t){return(t.flags&16)!==0}var Ff={},ip=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=vl(r);let i=this.injector.get(e,Ff,r);return i!==Ff||n===Ff?i:this.parentInjector.get(e,n,r)}};function WT(t){return t!==hs}function tl(t){return t&32767}function Bx(t){return t>>16}function nl(t,e){let n=Bx(t),r=e;for(;n>0;)r=r[Cs],n--;return r}var sp=!0;function EE(t){let e=sp;return sp=t,e}var $x=256,KT=$x-1,QT=5,Hx=0,an={};function qx(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Jo)&&(r=n[Jo]),r==null&&(r=n[Jo]=Hx++);let i=r&KT,s=1<<i;e.data[t+(i>>QT)]|=s}function rl(t,e){let n=YT(t,e);if(n!==-1)return n;let r=e[re];r.firstCreatePass&&(t.injectorIndex=e.length,Vf(r.data,t),Vf(e,null),Vf(r.blueprint,null));let i=sg(t,e),s=t.injectorIndex;if(WT(i)){let o=tl(i),a=nl(i,e),u=a[re].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Vf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function YT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function sg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=tD(i),r===null)return hs;if(n++,i=i[Cs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return hs}function op(t,e,n){qx(t,e,n)}function zx(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(cT(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function JT(t,e,n){if(n&se.Optional||t!==void 0)return t;qp(e,"NodeInjector")}function ZT(t,e,n,r){if(n&se.Optional&&r===void 0&&(r=null),!(n&(se.Self|se.Host))){let i=t[ys],s=Pt(void 0);try{return i?i.get(e,r,n&se.Optional):nT(e,r,n&se.Optional)}finally{Pt(s)}}return JT(r,e,n)}function XT(t,e,n,r=se.Default,i){if(t!==null){if(e[J]&2048&&!(r&se.Self)){let o=Qx(t,e,n,r,an);if(o!==an)return o}let s=eD(t,e,n,r,an);if(s!==an)return s}return ZT(e,n,r,i)}function eD(t,e,n,r,i){let s=Wx(n);if(typeof s=="function"){if(!jT(e,t,r))return r&se.Host?JT(i,n,r):ZT(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&se.Optional))qp(n);else return o}finally{qT()}}else if(typeof s=="number"){let o=null,a=YT(t,e),u=hs,l=r&se.Host?e[ln][Qt]:null;for((a===-1||r&se.SkipSelf)&&(u=a===-1?sg(t,e):e[a+8],u===hs||!DE(r,!1)?a=-1:(o=e[re],a=tl(u),e=nl(u,e)));a!==-1;){let h=e[re];if(TE(s,a,h.data)){let p=Gx(a,e,n,o,r,l);if(p!==an)return p}u=e[a+8],u!==hs&&DE(r,e[re].data[a+8]===l)&&TE(s,a,e)?(o=h,a=tl(u),e=nl(u,e)):a=-1}}return i}function Gx(t,e,n,r,i,s){let o=e[re],a=o.data[t+8],u=r==null?wl(a)&&sp:r!=o&&(a.type&3)!==0,l=i&se.Host&&s===a,h=Hu(a,o,n,u,l);return h!==null?di(e,o,h,a):an}function Hu(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let D=o[y];if(y<u&&n===D||y>=u&&D.type===n)return y}if(i){let y=o[u];if(y&&Er(y)&&y.type===n)return u}return null}function di(t,e,n,r){let i=t[n],s=e.data;if(Vx(i)){let o=i;o.resolving&&vM(yM(s[n]));let a=EE(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Pt(o.injectImpl):null,h=jT(t,r,se.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Lx(n,s[n],e)}finally{l!==null&&Pt(l),EE(a),o.resolving=!1,qT()}}return i}function Wx(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Jo)?t[Jo]:void 0;return typeof e=="number"?e>=0?e&KT:Kx:e}function TE(t,e,n){let r=1<<t;return!!(n[e+(t>>QT)]&r)}function DE(t,e){return!(t&se.Self)&&!(t&se.Host&&e)}var si=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return XT(this._tNode,this._lView,e,vl(r),n)}};function Kx(){return new si(_t(),ve())}function og(t){return ia(()=>{let e=t.prototype.constructor,n=e[Gu]||ap(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Gu]||ap(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ap(t){return YE(t)?()=>{let e=ap(gt(t));return e&&e()}:fs(t)}function Qx(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[J]&2048&&!(o[J]&512);){let a=eD(s,o,n,r|se.Self,an);if(a!==an)return a;let u=s.parent;if(!u){let l=o[ET];if(l){let h=l.get(n,an,r);if(h!==an)return h}u=tD(o),o=o[Cs]}s=u}return i}function tD(t){let e=t[re],n=e.type;return n===2?e.declTNode:n===1?t[Qt]:null}function ag(t){return zx(_t(),t)}function bE(t,e=null,n=null,r){let i=nD(t,e,n,r);return i.resolveInjectorInitializers(),i}function nD(t,e=null,n=null,r,i=new Set){let s=[n||Ot,KM(t)];return r=r||(typeof t=="object"?void 0:mt(t)),new ea(s,e||Qp(),r||null,i)}var qe=class t{static{this.THROW_IF_NOT_FOUND=Zo}static{this.NULL=new Qu}static create(e,n){if(Array.isArray(e))return bE({name:""},n,e,"");{let r=e.name??"";return bE({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=H({token:t,providedIn:"any",factory:()=>G(sT)})}static{this.__NG_ELEMENT_ID__=-1}};var Yx=new $("");Yx.__NG_ELEMENT_ID__=t=>{let e=_t();if(e===null)throw new z(204,!1);if(e.type&2)return e.value;if(t&se.Optional)return null;throw new z(204,!1)};var Jx="ngOriginalError";function Uf(t){return t[Jx]}var rD=!0,cg=(()=>{class t{static{this.__NG_ELEMENT_ID__=Zx}static{this.__NG_ENV_ID__=n=>n}}return t})(),cp=class extends cg{constructor(e){super(),this._lView=e}onDestroy(e){return PT(this._lView,e),()=>mx(this._lView,e)}};function Zx(){return new cp(ve())}var Cr=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Qe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}}return t})();var up=class extends rt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,wT()&&(this.destroyRef=x(cg,{optional:!0})??void 0,this.pendingTasks=x(Cr,{optional:!0})??void 0)}emit(e){let n=pe(null);try{super.next(e)}finally{pe(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Pe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},it=up;function il(...t){}function iD(t){let e,n;function r(){t=il;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function CE(t){return queueMicrotask(()=>t()),()=>{t=il}}var ug="isAngularZone",sl=ug+"_ID",Xx=0,he=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new it(!1),this.onMicrotaskEmpty=new it(!1),this.onStable=new it(!1),this.onError=new it(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=rD}=e;if(typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,nP(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ug)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new z(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,eP,il,il);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},eP={};function lg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function tP(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){iD(()=>{t.callbackScheduled=!1,lp(t),t.isCheckStableRunning=!0,lg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),lp(t)}function nP(t){let e=()=>{tP(t)},n=Xx++;t._inner=t._inner.fork({name:"angular",properties:{[ug]:!0,[sl]:n,[sl+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(rP(u))return r.invokeTask(s,o,a,u);try{return SE(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),AE(t)}},onInvoke:(r,i,s,o,a,u,l)=>{try{return SE(t),r.invoke(s,o,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!iP(u)&&e(),AE(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,lp(t),lg(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function lp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function SE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function AE(t){t._nesting--,lg(t)}var dp=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new it,this.onMicrotaskEmpty=new it,this.onStable=new it,this.onError=new it}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function rP(t){return sD(t,"__ignore_ng_zone__")}function iP(t){return sD(t,"__scheduler_tick__")}function sD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Pn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Uf(e);for(;n&&Uf(n);)n=Uf(n);return n||null}},sP=new $("",{providedIn:"root",factory:()=>{let t=x(he),e=x(Pn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function oP(){return As(_t(),ve())}function As(t,e){return new Fn(Ft(t,e))}var Fn=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=oP}}return t})();function aP(t){return t instanceof Fn?t.nativeElement:t}function cP(){return this._results[Symbol.iterator]()}var hp=class t{get changes(){return this._changes??=new it}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=cP)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=RM(e);(this._changesDetected=!AM(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function oD(t){return(t.flags&128)===128}var aD=new Map,uP=0;function lP(){return uP++}function dP(t){aD.set(t[Il],t)}function fp(t){aD.delete(t[Il])}var RE="__ngContext__";function hi(t,e){_r(e)?(t[RE]=e[Il],dP(e)):t[RE]=e}function cD(t){return lD(t[ta])}function uD(t){return lD(t[Wt])}function lD(t){for(;t!==null&&!Ln(t);)t=t[Wt];return t}var pp;function dD(t){pp=t}function hP(){if(pp!==void 0)return pp;if(typeof document<"u")return document;throw new z(210,!1)}var dg=new $("",{providedIn:"root",factory:()=>fP}),fP="ng",hg=new $(""),Vt=new $("",{providedIn:"platform",factory:()=>"unknown"});var fg=new $("",{providedIn:"root",factory:()=>hP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var pP="h",gP="b";var mP=()=>null;function pg(t,e,n=!1){return mP(t,e,n)}var hD=!1,yP=new $("",{providedIn:"root",factory:()=>hD});var Lu;function vP(){if(Lu===void 0&&(Lu=null,Gf.trustedTypes))try{Lu=Gf.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Lu}function NE(t){return vP()?.createScriptURL(t)||t}var ol=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${WE})`}};function ca(t){return t instanceof ol?t.changingThisBreaksApplicationSecurity:t}function gg(t,e){let n=_P(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${WE})`)}return n===e}function _P(t){return t instanceof ol&&t.getTypeName()||null}var IP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function fD(t){return t=String(t),t.match(IP)?t:"unsafe:"+t}var bl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(bl||{});function wP(t){let e=gD();return e?e.sanitize(bl.URL,t)||"":gg(t,"URL")?ca(t):fD(yl(t))}function EP(t){let e=gD();if(e)return NE(e.sanitize(bl.RESOURCE_URL,t)||"");if(gg(t,"ResourceURL"))return NE(ca(t));throw new z(904,!1)}function TP(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?EP:wP}function pD(t,e,n){return TP(e,n)(t)}function gD(){let t=ve();return t&&t[un].sanitizer}function mD(t){return t instanceof Function?t():t}function DP(t){return(t??x(qe)).get(Vt)==="browser"}var On=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(On||{}),bP;function mg(t,e){return bP(t,e)}function us(t,e,n,r,i){if(r!=null){let s,o=!1;Ln(r)?s=r:_r(r)&&(o=!0,r=r[kn]);let a=dn(r);t===0&&n!==null?i==null?wD(e,n,a):al(e,n,a,i||null,!0):t===1&&n!==null?al(e,n,a,i||null,!0):t===2?jP(e,a,o):t===3&&e.destroyNode(a),s!=null&&$P(e,t,s,n,i)}}function CP(t,e){return t.createText(e)}function SP(t,e,n){t.setValue(e,n)}function yD(t,e,n){return t.createElement(e,n)}function AP(t,e){vD(t,e),e[kn]=null,e[Qt]=null}function RP(t,e,n,r,i,s){r[kn]=i,r[Qt]=e,Cl(t,r,n,1,i,s)}function vD(t,e){e[un].changeDetectionScheduler?.notify(9),Cl(t,e,e[He],2,null,null)}function NP(t){let e=t[ta];if(!e)return jf(t[re],t);for(;e;){let n=null;if(_r(e))n=e[ta];else{let r=e[At];r&&(n=r)}if(!n){for(;e&&!e[Wt]&&e!==t;)_r(e)&&jf(e[re],e),e=e[st];e===null&&(e=t),_r(e)&&jf(e[re],e),n=e&&e[Wt]}e=n}}function MP(t,e,n,r){let i=At+r,s=n.length;r>0&&(n[i-1][Wt]=e),r<s-At?(e[Wt]=n[i],iT(n,At+r,e)):(n.push(e),e[Wt]=null),e[st]=n;let o=e[oi];o!==null&&n!==o&&_D(o,e);let a=e[Mn];a!==null&&a.insertView(t),np(e),e[J]|=128}function _D(t,e){let n=t[vs],r=e[st];if(_r(r))t[J]|=Xu.HasTransplantedViews;else{let i=r[st][ln];e[ln]!==i&&(t[J]|=Xu.HasTransplantedViews)}n===null?t[vs]=[e]:n.push(e)}function yg(t,e){let n=t[vs],r=n.indexOf(e);n.splice(r,1)}function gp(t,e){if(t.length<=At)return;let n=At+e,r=t[n];if(r){let i=r[oi];i!==null&&i!==t&&yg(i,r),e>0&&(t[n-1][Wt]=r[Wt]);let s=Ku(t,At+e);AP(r[re],r);let o=s[Mn];o!==null&&o.detachView(s[re]),r[st]=null,r[Wt]=null,r[J]&=-129}return r}function ID(t,e){if(!(e[J]&256)){let n=e[He];n.destroyNode&&Cl(t,e,n,3,null,null),NP(e)}}function jf(t,e){if(e[J]&256)return;let n=pe(null);try{e[J]&=-129,e[J]|=256,e[kt]&&gf(e[kt]),PP(t,e),xP(t,e),e[re].type===1&&e[He].destroy();let r=e[oi];if(r!==null&&Ln(e[st])){r!==e[st]&&yg(r,e);let i=e[Mn];i!==null&&i.detachView(t)}fp(e)}finally{pe(n)}}function xP(t,e){let n=t.cleanup,r=e[Ju];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Ju]=null);let i=e[vr];if(i!==null){e[vr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function PP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof li)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];on(4,a,u);try{u.call(a)}finally{on(5,a,u)}}else{on(4,i,s);try{s.call(i)}finally{on(5,i,s)}}}}}function OP(t,e,n){return kP(t,e.parent,n)}function kP(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[kn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===cn.None||s===cn.Emulated)return null}return Ft(r,n)}}function al(t,e,n,r,i){t.insertBefore(e,n,r,i)}function wD(t,e,n){t.appendChild(e,n)}function ME(t,e,n,r,i){r!==null?al(t,e,n,r,i):wD(t,e,n)}function ED(t,e){return t.parentNode(e)}function LP(t,e){return t.nextSibling(e)}function FP(t,e,n){return UP(t,e,n)}function VP(t,e,n){return t.type&40?Ft(t,n):null}var UP=VP,xE;function vg(t,e,n,r){let i=OP(t,r,e),s=e[He],o=r.parent||e[Qt],a=FP(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)ME(s,i,n[u],a,!1);else ME(s,i,n,a,!1);xE!==void 0&&xE(s,r,e,n,i)}function Yo(t,e){if(e!==null){let n=e.type;if(n&3)return Ft(e,t);if(n&4)return mp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Yo(t,r);{let i=t[e.index];return Ln(i)?mp(-1,i):dn(i)}}else{if(n&128)return Yo(t,e.next);if(n&32)return mg(e,t)()||dn(t[e.index]);{let r=TD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ci(t[ln]);return Yo(i,r)}else return Yo(t,e.next)}}}return null}function TD(t,e){if(e!==null){let r=t[ln][Qt],i=e.projection;return r.projection[i]}return null}function mp(t,e){let n=At+t+1;if(n<e.length){let r=e[n],i=r[re].firstChild;if(i!==null)return Yo(r,i)}return e[ai]}function jP(t,e,n){t.removeChild(null,e,n)}function _g(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&hi(dn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)_g(t,e,n.child,r,i,s,!1),us(e,t,i,a,s);else if(u&32){let l=mg(n,r),h;for(;h=l();)us(e,t,i,h,s);us(e,t,i,a,s)}else u&16?BP(t,e,r,n,i,s):us(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Cl(t,e,n,r,i,s){_g(n,r,t.firstChild,e,i,s,!1)}function BP(t,e,n,r,i,s){let o=n[ln],u=o[Qt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];us(e,t,i,h,s)}else{let l=u,h=o[st];oD(r)&&(l.flags|=128),_g(t,e,l,h,i,s,!0)}}function $P(t,e,n,r,i){let s=n[ai],o=dn(n);s!==o&&us(e,t,r,s,i);for(let a=At;a<n.length;a++){let u=n[a];Cl(u[re],u,t,e,r,s)}}function HP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:On.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=On.Important),t.setStyle(n,r,i,s))}}function qP(t,e,n){t.setAttribute(e,"style",n)}function DD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function bD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&Yf(t,e,r),i!==null&&DD(t,e,i),s!==null&&qP(t,e,s)}var yi={};function h6(t=1){CD(vt(),ve(),Ss()+t,!1)}function CD(t,e,n,r){if(!r)if((e[J]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Bu(e,s,n)}else{let s=t.preOrderHooks;s!==null&&$u(e,s,0,n)}ui(n)}function Ye(t,e=se.Default){let n=ve();if(n===null)return G(t,e);let r=_t();return XT(r,n,gt(t),e)}function SD(){let t="invalid";throw new Error(t)}function AD(t,e,n,r,i,s){let o=pe(null);try{let a=null;i&Ir.SignalBased&&(a=e[r][Sn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Ir.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):bT(e,a,r,s)}finally{pe(o)}}function zP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ui(~i);else{let s=i,o=n[++r],a=n[++r];Nx(o,s);let u=e[s];a(2,u)}}}finally{ui(-1)}}function Sl(t,e,n,r,i,s,o,a,u,l,h){let p=e.blueprint.slice();return p[kn]=i,p[J]=r|4|128|8|64,(l!==null||t&&t[J]&2048)&&(p[J]|=2048),MT(p),p[st]=p[Cs]=t,p[Kt]=n,p[un]=o||t&&t[un],p[He]=a||t&&t[He],p[ys]=u||t&&t[ys]||null,p[Qt]=s,p[Il]=lP(),p[Yu]=h,p[ET]=l,p[ln]=e.type==2?t[ln]:p,p}function Al(t,e,n,r,i){let s=t.data[e];if(s===null)s=GP(t,e,n,r,i),Rx()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=Tx();s.injectorIndex=o===null?-1:o.injectorIndex}return aa(s,!0),s}function GP(t,e,n,r,i){let s=LT(),o=FT(),a=o?s:s&&s.parent,u=t.data[e]=ZP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function RD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ND(t,e,n,r,i){let s=Ss(),o=r&2;try{ui(-1),o&&e.length>xn&&CD(t,e,xn,!1),on(o?2:0,i),n(r,i)}finally{ui(s),on(o?3:1,i)}}function MD(t,e,n){if(DT(e)){let r=pe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{pe(r)}}}function xD(t,e,n){kT()&&(iO(t,e,n,Ft(n,e)),(n.flags&64)===64&&VD(t,e,n))}function PD(t,e,n=Ft){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function OD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Ig(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ig(t,e,n,r,i,s,o,a,u,l,h){let p=xn+r,m=p+i,y=WP(p,m),D=typeof l=="function"?l():l;return y[re]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:D,incompleteFirstPass:!1,ssrId:h}}function WP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:yi);return n}function KP(t,e,n,r){let s=r.get(yP,hD)||n===cn.ShadowDom,o=t.selectRootElement(e,s);return QP(o),o}function QP(t){YP(t)}var YP=()=>null;function JP(t,e,n,r){let i=BD(e);i.push(n),t.firstCreatePass&&$D(t).push(r,i.length-1)}function ZP(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Ix()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function PE(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=Ir.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?OE(r,n,l,a,u):OE(r,n,l,a)}return r}function OE(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function XP(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],m=n?n.get(p):null,y=m?m.inputs:null,D=m?m.outputs:null;u=PE(0,p.inputs,h,u,y),l=PE(1,p.outputs,h,l,D);let R=u!==null&&o!==null&&!Wp(e)?gO(u,h,o):null;a.push(R)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function eO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function kD(t,e,n,r,i,s,o,a){let u=Ft(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(wg(t,n,h,r,i),wl(e)&&tO(n,e.index)):e.type&3?(r=eO(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function tO(t,e){let n=br(e,t);n[J]&16||(n[J]|=64)}function LD(t,e,n,r){if(kT()){let i=r===null?null:{"":-1},s=oO(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&FD(t,e,n,o,i,a),i&&aO(n,r,i)}n.mergedAttrs=Xo(n.mergedAttrs,n.attrs)}function FD(t,e,n,r,i,s){for(let l=0;l<r.length;l++)op(rl(n,e),t,r[l].type);uO(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=RD(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Xo(n.mergedAttrs,h.hostAttrs),lO(t,n,e,u,h),cO(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}XP(t,n,s)}function nO(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;rO(o)!=a&&o.push(a),o.push(n,r,s)}}function rO(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function iO(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;wl(n)&&dO(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||rl(n,e),hi(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=di(e,t,a,n);if(hi(l,e),o!==null&&pO(e,a-i,l,u,n,o),Er(u)){let h=br(n.index,e);h[Kt]=di(e,t,a,n)}}}function VD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Mx();try{ui(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];rp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&sO(u,l)}}finally{ui(-1),rp(o)}}function sO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function oO(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(UM(e,o.selectors,!1))if(r||(r=[]),Er(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;yp(t,e,u)}else r.unshift(o),yp(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function yp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function aO(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new z(-301,!1);r.push(e[i],s)}}}function cO(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Er(e)&&(n[""]=t)}}function uO(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function lO(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=fs(i.type,!0)),o=new li(s,Er(i),Ye);t.blueprint[r]=o,n[r]=o,nO(t,e,r,RD(t,n,i.hostVars,yi),i)}function dO(t,e,n){let r=Ft(e,t),i=OD(n),s=t[un].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Rl(t,Sl(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function hO(t,e,n,r,i,s){let o=Ft(t,e);fO(e[He],o,s,t.value,n,r,i)}function fO(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?yl(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function pO(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],p=o[a++];AD(r,n,u,l,h,p)}}function gO(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function UD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function jD(t,e){let n=t.contentQueries;if(n!==null){let r=pe(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];Zp(s),a.contentQueries(2,e[o],o)}}}finally{pe(r)}}}function Rl(t,e){return t[ta]?t[vE][Wt]=e:t[ta]=e,t[vE]=e,e}function vp(t,e,n){Zp(0);let r=pe(null);try{e(t,n)}finally{pe(r)}}function BD(t){return t[Ju]??=[]}function $D(t){return t.cleanup??=[]}function HD(t,e){let n=t[ys],r=n?n.get(Pn,null):null;r&&r.handleError(e)}function wg(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],h=t.data[o];AD(h,l,r,a,u,i)}}function mO(t,e,n){let r=RT(e,t);SP(t[He],r,n)}function yO(t,e){let n=br(e,t),r=n[re];vO(r,n);let i=n[kn];i!==null&&n[Yu]===null&&(n[Yu]=pg(i,n[ys])),Eg(r,n,n[Kt])}function vO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Eg(t,e,n){Xp(e);try{let r=t.viewQuery;r!==null&&vp(1,r,n);let i=t.template;i!==null&&ND(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Mn]?.finishViewCreation(t),t.staticContentQueries&&jD(t,e),t.staticViewQueries&&vp(2,t.viewQuery,n);let s=t.components;s!==null&&_O(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[J]&=-5,eg()}}function _O(t,e){for(let n=0;n<e.length;n++)yO(t,e[n])}function IO(t,e,n,r){let i=pe(null);try{let s=e.tView,a=t[J]&4096?4096:16,u=Sl(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[oi]=l;let h=t[Mn];return h!==null&&(u[Mn]=h.createEmbeddedView(s)),Eg(s,u,n),u}finally{pe(i)}}function kE(t,e){return!e||e.firstChild===null||oD(t)}function wO(t,e,n,r=!0){let i=e[re];if(MP(i,e,t,n),r){let o=mp(n,t),a=e[He],u=ED(a,t[ai]);u!==null&&RP(i,t[Qt],a,e,u,o)}let s=e[Yu];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function cl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(dn(s)),Ln(s)&&EO(s,r);let o=n.type;if(o&8)cl(t,e,n.child,r);else if(o&32){let a=mg(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=TD(e,n);if(Array.isArray(a))r.push(...a);else{let u=ci(e[ln]);cl(u[re],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function EO(t,e){for(let n=At;n<t.length;n++){let r=t[n],i=r[re].firstChild;i!==null&&cl(r[re],r,i,e)}t[ai]!==t[kn]&&e.push(t[ai])}var qD=[];function TO(t){return t[kt]??DO(t)}function DO(t){let e=qD.pop()??Object.create(CO);return e.lView=t,e}function bO(t){t.lView[kt]!==t&&(t.lView=null,qD.push(t))}var CO=Ee(U({},Go),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Tl(t.lView)},consumerOnSignalRead(){this.lView[kt]=this}});function SO(t){let e=t[kt]??Object.create(AO);return e.lView=t,e}var AO=Ee(U({},Go),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=ci(t.lView);for(;e&&!zD(e[re]);)e=ci(e);e&&xT(e)},consumerOnSignalRead(){this.lView[kt]=this}});function zD(t){return t.type!==2}var RO=100;function GD(t,e=!0,n=0){let r=t[un],i=r.rendererFactory,s=!1;s||i.begin?.();try{NO(t,n)}catch(o){throw e&&HD(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function NO(t,e){let n=VT();try{IE(!0),_p(t,e);let r=0;for(;El(t);){if(r===RO)throw new z(103,!1);r++,_p(t,1)}}finally{IE(n)}}function MO(t,e,n,r){let i=e[J];if((i&256)===256)return;let s=!1,o=!1;!s&&e[un].inlineEffectRunner?.flush(),Xp(e);let a=!0,u=null,l=null;s||(zD(t)?(l=TO(e),u=su(l)):Dw()===null?(a=!1,l=SO(e),u=su(l)):e[kt]&&(gf(e[kt]),e[kt]=null));try{MT(e),Sx(t.bindingStartIndex),n!==null&&ND(t,e,n,2,r);let h=(i&3)===3;if(!s)if(h){let y=t.preOrderCheckHooks;y!==null&&Bu(e,y,null)}else{let y=t.preOrderHooks;y!==null&&$u(e,y,0,null),Lf(e,0)}if(o||xO(e),WD(e,0),t.contentQueries!==null&&jD(t,e),!s)if(h){let y=t.contentCheckHooks;y!==null&&Bu(e,y)}else{let y=t.contentHooks;y!==null&&$u(e,y,1),Lf(e,1)}zP(t,e);let p=t.components;p!==null&&QD(e,p,0);let m=t.viewQuery;if(m!==null&&vp(2,m,r),!s)if(h){let y=t.viewCheckHooks;y!==null&&Bu(e,y)}else{let y=t.viewHooks;y!==null&&$u(e,y,2),Lf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[kf]){for(let y of e[kf])y();e[kf]=null}s||(e[J]&=-73)}catch(h){throw s||Tl(e),h}finally{l!==null&&(ff(l,u),a&&bO(l)),eg()}}function WD(t,e){for(let n=cD(t);n!==null;n=uD(n))for(let r=At;r<n.length;r++){let i=n[r];KD(i,e)}}function xO(t){for(let e=cD(t);e!==null;e=uD(e)){if(!(e[J]&Xu.HasTransplantedViews))continue;let n=e[vs];for(let r=0;r<n.length;r++){let i=n[r];xT(i)}}}function PO(t,e,n){let r=br(e,t);KD(r,n)}function KD(t,e){Jp(t)&&_p(t,e)}function _p(t,e){let r=t[re],i=t[J],s=t[kt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&pf(s)),o||=!1,s&&(s.dirty=!1),t[J]&=-9217,o)MO(r,t,r.template,t[Kt]);else if(i&8192){WD(t,1);let a=r.components;a!==null&&QD(t,a,1)}}function QD(t,e,n){for(let r=0;r<e.length;r++)PO(t,e[r],n)}function Tg(t,e){let n=VT()?64:1088;for(t[un].changeDetectionScheduler?.notify(e);t;){t[J]|=n;let r=ci(t);if(ep(t)&&!r)return t;t=r}return null}var fi=class{get rootNodes(){let e=this._lView,n=e[re];return cl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Kt]}set context(e){this._lView[Kt]=e}get destroyed(){return(this._lView[J]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[st];if(Ln(e)){let n=e[Zu],r=n?n.indexOf(this):-1;r>-1&&(gp(e,r),Ku(n,r))}this._attachedToViewContainer=!1}ID(this._lView[re],this._lView)}onDestroy(e){PT(this._lView,e)}markForCheck(){Tg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[J]&=-129}reattach(){np(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,GD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ep(this._lView),n=this._lView[oi];n!==null&&!e&&yg(n,this._lView),vD(this._lView[re],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e;let n=ep(this._lView),r=this._lView[oi];r!==null&&!n&&_D(r,this._lView),np(this._lView)}},pi=(()=>{class t{static{this.__NG_ELEMENT_ID__=LO}}return t})(),OO=pi,kO=class extends OO{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=IO(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new fi(i)}};function LO(){return Dg(_t(),ve())}function Dg(t,e){return t.type&4?new kO(e,t,As(t,e)):null}var p6=new RegExp(`^(\\d+)*(${gP}|${pP})*(.*)`);var FO=()=>null;function LE(t,e){return FO(t,e)}var _s=class{},Nl=new $("",{providedIn:"root",factory:()=>!1});var YD=new $(""),JD=new $(""),Ip=class{},ul=class{};function VO(t){let e=Error(`No component factory found for ${mt(t)}.`);return e[UO]=t,e}var UO="ngComponent";var wp=class{resolveComponentFactory(e){throw VO(e)}},Is=class{static{this.NULL=new wp}},ws=class{},ua=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>jO()}}return t})();function jO(){let t=ve(),e=_t(),n=br(e.index,t);return(_r(n)?n:t)[He]}var BO=(()=>{class t{static{this.\u0275prov=H({token:t,providedIn:"root",factory:()=>null})}}return t})();function Ep(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=cE(i,a);else if(s==2){let u=a,l=e[++o];r=cE(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var ll=class extends Is{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=wr(e);return new Es(n,this.ngModule)}};function FE(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:Ir.None;e?n.push({propName:o,templateName:r,isSignal:(a&Ir.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function $O(t){let e=t.toLowerCase();return e==="svg"?lx:e==="math"?dx:null}var Es=class extends ul{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=FE(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return FE(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=HM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=pe(null);try{i=i||this.ngModule;let o=i instanceof yt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new ip(e,o):e,u=a.get(ws,null);if(u===null)throw new z(407,!1);let l=a.get(BO,null),h=a.get(_s,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",D=r?KP(m,r,this.componentDef.encapsulation,a):yD(m,y,$O(y)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let S=null;D!==null&&(S=pg(D,a,!0));let P=Ig(0,null,null,1,0,null,null,null,null,null,null),V=Sl(null,P,null,R,null,null,p,m,a,null,S);Xp(V);let k,B,ae=null;try{let q=this.componentDef,E,v=null;q.findHostDirectiveDefs?(E=[],v=new Map,q.findHostDirectiveDefs(q,E,v),E.push(q)):E=[q];let I=HO(V,D);ae=qO(I,D,q,E,V,p,m),B=NT(P,xn),D&&WO(m,q,D,r),n!==void 0&&KO(B,this.ngContentSelectors,n),k=GO(ae,q,E,v,V,[QO]),Eg(P,V,null)}catch(q){throw ae!==null&&fp(ae),fp(V),q}finally{eg()}return new Tp(this.componentType,k,As(B,V),V,B)}finally{pe(s)}}},Tp=class extends Ip{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new fi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;wg(s[re],s,i,e,n),this.previousInputValues.set(e,n);let o=br(this._tNode.index,s);Tg(o,1)}}get injector(){return new si(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function HO(t,e){let n=t[re],r=xn;return t[r]=e,Al(n,r,2,"#host",null)}function qO(t,e,n,r,i,s,o){let a=i[re];zO(r,t,e,o);let u=null;e!==null&&(u=pg(e,i[ys]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Sl(i,OD(n),null,h,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&yp(a,t,r.length-1),Rl(i,p),i[t.index]=p}function zO(t,e,n,r){for(let i of t)e.mergedAttrs=Xo(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Ep(e,e.mergedAttrs,!0),n!==null&&bD(r,n,e))}function GO(t,e,n,r,i,s){let o=_t(),a=i[re],u=Ft(o,i);FD(a,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,m=di(i,a,p,o);hi(m,i)}VD(a,i,o),u&&hi(u,i);let l=di(i,a,o.directiveStart+o.componentOffset,o);if(t[Kt]=i[Kt]=l,s!==null)for(let h of s)h(l,e);return MD(a,o,i),l}function WO(t,e,n,r){if(r)Yf(t,n,["ng-version","18.2.9"]);else{let{attrs:i,classes:s}=qM(e.selectors[0]);i&&Yf(t,n,i),s&&s.length>0&&DD(t,n,s.join(" "))}}function KO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function QO(){let t=_t();ig(ve()[re],t)}var Sr=(()=>{class t{static{this.__NG_ELEMENT_ID__=YO}}return t})();function YO(){let t=_t();return XD(t,ve())}var JO=Sr,ZD=class extends JO{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return As(this._hostTNode,this._hostLView)}get injector(){return new si(this._hostTNode,this._hostLView)}get parentInjector(){let e=sg(this._hostTNode,this._hostLView);if(WT(e)){let n=nl(e,this._hostLView),r=tl(e),i=n[re].data[r+8];return new si(i,n)}else return new si(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=VE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-At}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=LE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,kE(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!ox(e),a;if(o)a=n;else{let D=n||{};a=D.index,r=D.injector,i=D.projectableNodes,s=D.environmentInjector||D.ngModuleRef}let u=o?e:new Es(wr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let R=(o?l:this.parentInjector).get(yt,null);R&&(s=R)}let h=wr(u.componentType??{}),p=LE(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,s);return this.insertImpl(y.hostView,a,kE(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(px(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[st],l=new ZD(u,u[Qt],u[st]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return wO(o,i,s,r),e.attachToViewContainerRef(),iT(Bf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=VE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=gp(this._lContainer,n);r&&(Ku(Bf(this._lContainer),n),ID(r[re],r))}detach(e){let n=this._adjustIndex(e,-1),r=gp(this._lContainer,n);return r&&Ku(Bf(this._lContainer),n)!=null?new fi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function VE(t){return t[Zu]}function Bf(t){return t[Zu]||(t[Zu]=[])}function XD(t,e){let n,r=e[t.index];return Ln(r)?n=r:(n=UD(r,e,null,t),e[t.index]=n,Rl(e,n)),XO(n,e,t,r),new ZD(n,t,e)}function ZO(t,e){let n=t[He],r=n.createComment(""),i=Ft(e,t),s=ED(n,i);return al(n,s,r,LP(n,i),!1),r}var XO=nk,ek=()=>!1;function tk(t,e,n){return ek(t,e,n)}function nk(t,e,n,r){if(t[ai])return;let i;n.type&8?i=dn(r):i=ZO(e,n),t[ai]=i}var Dp=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},bp=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)bg(e,n).matches!==null&&this.queries[n].setDirty()}},Cp=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=lk(e):this.predicate=e}},Sp=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Ap=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,rk(n,s)),this.matchTNodeWithReadOption(e,n,Hu(n,e,s,!1,!1))}else r===pi?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Hu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Fn||i===Sr||i===pi&&n.type&4)this.addMatch(n.index,-2);else{let s=Hu(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function rk(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function ik(t,e){return t.type&11?As(t,e):t.type&4?Dg(t,e):null}function sk(t,e,n,r){return n===-1?ik(e,t):n===-2?ok(t,e,r):di(t,t[re],n,e)}function ok(t,e,n){if(n===Fn)return As(e,t);if(n===pi)return Dg(e,t);if(n===Sr)return XD(e,t)}function eb(t,e,n,r){let i=e[Mn].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)a.push(null);else{let h=s[l];a.push(sk(e,h,o[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Rp(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=eb(t,e,i,n);for(let a=0;a<s.length;a+=2){let u=s[a];if(u>0)r.push(o[a/2]);else{let l=s[a+1],h=e[-u];for(let p=At;p<h.length;p++){let m=h[p];m[oi]===m[st]&&Rp(m[re],m,l,r)}if(h[vs]!==null){let p=h[vs];for(let m=0;m<p.length;m++){let y=p[m];Rp(y[re],y,l,r)}}}}}return r}function ak(t,e){return t[Mn].queries[e].queryList}function ck(t,e,n){let r=new hp((n&4)===4);return JP(t,e,r,r.destroy),(e[Mn]??=new bp).queries.push(new Dp(r))-1}function uk(t,e,n){let r=vt();return r.firstCreatePass&&(dk(r,new Cp(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),ck(r,ve(),e)}function lk(t){return t.split(",").map(e=>e.trim())}function dk(t,e,n){t.queries===null&&(t.queries=new Sp),t.queries.track(new Ap(e,n))}function bg(t,e){return t.queries.getByIndex(e)}function hk(t,e){let n=t[re],r=bg(n,e);return r.crossesNgTemplate?Rp(n,t,e,[]):eb(n,t,r,e)}var UE=new Set;function vi(t){UE.has(t)||(UE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function fk(t){return typeof t=="function"&&t[Sn]!==void 0}function m6(t,e){vi("NgSignals");let n=kw(t),r=n[Sn];return e?.equal&&(r.equal=e.equal),n.set=i=>mf(r,i),n.update=i=>Lw(r,i),n.asReadonly=pk.bind(n),n}function pk(){let t=this[Sn];if(t.readonlyFn===void 0){let e=()=>this();e[Sn]=t,t.readonlyFn=e}return t.readonlyFn}function tb(t){return fk(t)&&typeof t.set=="function"}function gk(t){return Object.getPrototypeOf(t.prototype).constructor}function mk(t){let e=gk(t.type),n=!0,r=[t];for(;e;){let i;if(Er(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Fu(t.inputs),o.inputTransforms=Fu(t.inputTransforms),o.declaredInputs=Fu(t.declaredInputs),o.outputs=Fu(t.outputs);let a=i.hostBindings;a&&wk(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&_k(t,u),l&&Ik(t,l),yk(t,i),uM(t.outputs,i.outputs),Er(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===mk&&(n=!1)}}e=Object.getPrototypeOf(e)}vk(r)}function yk(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function vk(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Xo(i.hostAttrs,n=Xo(n,i.hostAttrs))}}function Fu(t){return t===ps?{}:t===Ot?[]:t}function _k(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function Ik(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function wk(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Cg(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Tr=class{},na=class{};var Np=class extends Tr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ll(this);let s=pT(e);this._bootstrapComponents=mD(s.bootstrap),this._r3Injector=nD(e,n,[{provide:Tr,useValue:this},{provide:Is,useValue:this.componentFactoryResolver},...r],mt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Mp=class extends na{constructor(e){super(),this.moduleType=e}create(e){return new Np(this.moduleType,e,[])}};var dl=class extends Tr{constructor(e){super(),this.componentFactoryResolver=new ll(this),this.instance=null;let n=new ea([...e.providers,{provide:Tr,useValue:this},{provide:Is,useValue:this.componentFactoryResolver}],e.parent||Qp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ml(t,e,n=null){return new dl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function nb(t){return Tk(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Ek(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Tk(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Dk(t,e,n){return t[e]=n}function Rs(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function bk(t){return(t.flags&32)===32}function Ck(t,e,n,r,i,s,o,a,u){let l=e.consts,h=Al(e,t,4,o||null,a||null);LD(e,n,h,el(l,u)),ig(e,h);let p=h.tView=Ig(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function Sk(t,e,n,r,i,s,o,a,u,l){let h=n+xn,p=e.firstCreatePass?Ck(h,e,t,r,i,s,o,a,u):e.data[h];aa(p,!1);let m=Rk(e,t,p,n);ng()&&vg(e,t,m,p),hi(m,t);let y=UD(m,t,m,p);return t[h]=y,Rl(t,y),tk(y,p,t),Yp(p)&&xD(e,t,p),u!=null&&PD(t,p,l),p}function Ak(t,e,n,r,i,s,o,a){let u=ve(),l=vt(),h=el(l.consts,s);return Sk(u,l,t,e,n,r,i,h,o,a),Ak}var Rk=Nk;function Nk(t,e,n,r){return rg(!0),e[He].createComment("")}var ls=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ls||{}),rb=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}}return t})(),xp=class t{constructor(){this.ngZone=x(he),this.scheduler=x(_s),this.errorHandler=x(Pn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[ls.EarlyRead,ls.Write,ls.MixedReadWrite,ls.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}},Pp=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Sg(t,e){!e?.injector&&sx(Sg);let n=e?.injector??x(qe);return DP(n)?(vi("NgAfterNextRender"),xk(t,n,e,!0)):Pk}function Mk(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function xk(t,e,n,r){let i=e.get(rb);i.impl??=e.get(xp);let s=n?.phase??ls.MixedReadWrite,o=n?.manualCleanup!==!0?e.get(cg):null,a=new Pp(i.impl,Mk(t,s),r,o);return i.impl.register(a),a}var Pk={destroy(){}};function Ag(t,e,n,r){let i=ve(),s=Dl();if(Rs(i,s,e)){let o=vt(),a=tg();hO(a,i,t,e,n,r)}return Ag}function Ok(t,e,n,r){return Rs(t,Dl(),n)?e+yl(n)+r:yi}function Vu(t,e){return t<<17|e<<2}function gi(t){return t>>17&32767}function kk(t){return(t&2)==2}function Lk(t,e){return t&131071|e<<17}function Op(t){return t|2}function Ts(t){return(t&131068)>>2}function $f(t,e){return t&-131069|e<<2}function Fk(t){return(t&1)===1}function kp(t){return t|1}function Vk(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=gi(o),u=Ts(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||sa(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=gi(t[a+1]);t[r+1]=Vu(m,a),m!==0&&(t[m+1]=$f(t[m+1],r)),t[a+1]=Lk(t[a+1],r)}else t[r+1]=Vu(a,0),a!==0&&(t[a+1]=$f(t[a+1],r)),a=r;else t[r+1]=Vu(u,0),a===0?a=r:t[u+1]=$f(t[u+1],r),u=r;l&&(t[r+1]=Op(t[r+1])),jE(t,h,r,!0),jE(t,h,r,!1),Uk(e,h,t,r,s),o=Vu(a,u),s?e.classBindings=o:e.styleBindings=o}function Uk(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&sa(s,e)>=0&&(n[r+1]=kp(n[r+1]))}function jE(t,e,n,r){let i=t[n+1],s=e===null,o=r?gi(i):Ts(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];jk(u,e)&&(a=!0,t[o+1]=r?kp(l):Op(l)),o=r?gi(l):Ts(l)}a&&(t[n+1]=r?Op(i):kp(i))}function jk(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?sa(t,e)>=0:!1}function Bk(t,e,n){let r=ve(),i=Dl();if(Rs(r,i,e)){let s=vt(),o=tg();kD(s,o,r,t,e,r[He],n,!1)}return Bk}function BE(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";wg(t,n,s[o],o,r)}function $k(t,e){return Hk(t,e,null,!0),$k}function Hk(t,e,n,r){let i=ve(),s=vt(),o=Ax(2);if(s.firstUpdatePass&&zk(s,t,o,r),e!==yi&&Rs(i,o,e)){let a=s.data[Ss()];Yk(s,a,i,i[He],t,i[o+1]=Jk(e,n),r,o)}}function qk(t,e){return e>=t.expandoStartIndex}function zk(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Ss()],o=qk(t,n);Zk(s,r)&&e===null&&!o&&(e=!1),e=Gk(i,s,e,r),Vk(i,s,e,n,o,r)}}function Gk(t,e,n,r){let i=xx(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Hf(null,t,e,n,r),n=ra(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Hf(i,t,e,n,r),s===null){let u=Wk(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Hf(null,t,e,u[1],r),u=ra(u,e.attrs,r),Kk(t,e,r,u))}else s=Qk(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function Wk(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ts(r)!==0)return t[gi(r)]}function Kk(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[gi(i)]=r}function Qk(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=ra(r,o,n)}return ra(r,e.attrs,n)}function Hf(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=ra(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ra(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),MM(t,o,n?!0:e[++s]))}return t===void 0?null:t}function Yk(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=Fk(l)?$E(u,e,n,i,Ts(l),o):void 0;if(!hl(h)){hl(s)||kk(l)&&(s=$E(u,null,n,i,a,o));let p=RT(Ss(),n);HP(r,o,p,i,s)}}function $E(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===yi&&(m=p?Ot:void 0);let y=p?Pf(m,r):h===r?m:void 0;if(l&&!hl(y)&&(y=Pf(u,r)),hl(y)&&(a=y,o))return a;let D=t[i+1];i=o?gi(D):Ts(D)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=Pf(u,r))}return a}function hl(t){return t!==void 0}function Jk(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=mt(ca(t)))),t}function Zk(t,e){return(t.flags&(e?8:16))!==0}function Xk(t,e,n,r,i,s){let o=e.consts,a=el(o,i),u=Al(e,t,2,r,a);return LD(e,n,u,el(o,s)),u.attrs!==null&&Ep(u,u.attrs,!1),u.mergedAttrs!==null&&Ep(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function ib(t,e,n,r){let i=ve(),s=vt(),o=xn+t,a=i[He],u=s.firstCreatePass?Xk(o,s,i,e,n,r):s.data[o],l=e1(s,i,u,a,e,t);i[o]=l;let h=Yp(u);return aa(u,!0),bD(a,l,u),!bk(u)&&ng()&&vg(s,i,l,u),yx()===0&&hi(l,i),vx(),h&&(xD(s,i,u),MD(s,u,i)),r!==null&&PD(i,u),ib}function sb(){let t=_t();FT()?Dx():(t=t.parent,aa(t,!1));let e=t;wx(e)&&Ex(),_x();let n=vt();return n.firstCreatePass&&(ig(n,t),DT(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&Ux(e)&&BE(n,e,ve(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&jx(e)&&BE(n,e,ve(),e.stylesWithoutHost,!1),sb}function Rg(t,e,n,r){return ib(t,e,n,r),sb(),Rg}var e1=(t,e,n,r,i,s)=>(rg(!0),yD(r,i,kx()));function y6(){return ve()}var fl="en-US";var t1=fl;function n1(t){typeof t=="string"&&(t1=t.toLowerCase().replace(/_/g,"-"))}var r1=(t,e,n)=>{};function Ng(t,e,n,r){let i=ve(),s=vt(),o=_t();return ob(s,i,i[He],o,t,e,r),Ng}function i1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Ju],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function ob(t,e,n,r,i,s,o){let a=Yp(r),l=t.firstCreatePass&&$D(t),h=e[Kt],p=BD(e),m=!0;if(r.type&3||o){let R=Ft(r,e),S=o?o(R):R,P=p.length,V=o?B=>o(dn(B[r.index])):r.index,k=null;if(!o&&a&&(k=i1(t,e,i,r.index)),k!==null){let B=k.__ngLastListenerFn__||k;B.__ngNextListenerFn__=s,k.__ngLastListenerFn__=s,m=!1}else{s=qE(r,e,h,s),r1(R,i,s);let B=n.listen(S,i,s);p.push(s,B),l&&l.push(i,V,P,P+1)}}else s=qE(r,e,h,s);let y=r.outputs,D;if(m&&y!==null&&(D=y[i])){let R=D.length;if(R)for(let S=0;S<R;S+=2){let P=D[S],V=D[S+1],ae=e[P][V].subscribe(s),q=p.length;p.push(s,ae),l&&l.push(i,r.index,q,-(q+1))}}}function HE(t,e,n,r){let i=pe(null);try{return on(6,e,n),n(r)!==!1}catch(s){return HD(t,s),!1}finally{on(7,e,n),pe(i)}}function qE(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?br(t.index,e):e;Tg(o,5);let a=HE(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=HE(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function v6(t=1){return Ox(t)}function _6(t,e,n){uk(t,e,n)}function s1(t){let e=ve(),n=vt(),r=UT();Zp(r+1);let i=bg(n,r);if(t.dirty&&fx(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=hk(e,r);t.reset(s,aP),t.notifyOnChanges()}return!0}return!1}function o1(){return ak(ve(),UT())}function I6(t){let e=bx();return hx(e,xn+t)}function w6(t,e=""){let n=ve(),r=vt(),i=t+xn,s=r.firstCreatePass?Al(r,i,1,e,null):r.data[i],o=a1(r,n,s,e,t);n[i]=o,ng()&&vg(r,n,o,s),aa(s,!1)}var a1=(t,e,n,r,i)=>(rg(!0),CP(e[He],r));function c1(t){return ab("",t,""),c1}function ab(t,e,n){let r=ve(),i=Ok(r,t,e,n);return i!==yi&&mO(r,Ss(),i),ab}function u1(t,e,n){tb(e)&&(e=e());let r=ve(),i=Dl();if(Rs(r,i,e)){let s=vt(),o=tg();kD(s,o,r,t,e,r[He],n,!1)}return u1}function E6(t,e){let n=tb(t);return n&&t.set(e),n}function l1(t,e){let n=ve(),r=vt(),i=_t();return ob(r,n,n[He],i,t,e),l1}function d1(t,e,n){let r=vt();if(r.firstCreatePass){let i=Er(t);Lp(n,r.data,r.blueprint,i,!0),Lp(e,r.data,r.blueprint,i,!1)}}function Lp(t,e,n,r,i){if(t=gt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Lp(t[s],e,n,r,i);else{let s=vt(),o=ve(),a=_t(),u=ms(t)?t:gt(t.provide),l=IT(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(ms(t)||!t.multi){let y=new li(l,i,Ye),D=zf(u,e,i?h:h+m,p);D===-1?(op(rl(a,o),s,u),qf(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),o.push(y)):(n[D]=y,o[D]=y)}else{let y=zf(u,e,h+m,p),D=zf(u,e,h,h+m),R=y>=0&&n[y],S=D>=0&&n[D];if(i&&!S||!i&&!R){op(rl(a,o),s,u);let P=p1(i?f1:h1,n.length,i,r,l);!i&&S&&(n[D].providerFactory=P),qf(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(P),o.push(P)}else{let P=cb(n[i?D:y],l,!i&&r);qf(s,t,y>-1?y:D,P)}!i&&r&&S&&n[D].componentProviders++}}}function qf(t,e,n,r){let i=ms(e),s=ZM(e);if(i||s){let u=(s?gt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function cb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function zf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function h1(t,e,n,r){return Fp(this.multi,[])}function f1(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=di(n,n[re],this.providerFactory.index,r);s=a.slice(0,o),Fp(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Fp(i,s);return s}function Fp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function p1(t,e,n,r,i){let s=new li(t,n,Ye);return s.multi=[],s.index=e,s.componentProviders=0,cb(s,i,r&&!n),s}function T6(t,e=[]){return n=>{n.providersResolver=(r,i)=>d1(r,i?i(t):t,e)}}var g1=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=yT(!1,n.type),i=r.length>0?Ml([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=H({token:t,providedIn:"environment",factory:()=>new t(G(yt))})}}return t})();function ub(t){vi("NgStandalone"),t.getStandaloneInjector=e=>e.get(g1).getOrCreateStandaloneInjector(t)}function D6(t,e,n,r){return y1(ve(),Cx(),t,e,n,r)}function m1(t,e){let n=t[e];return n===yi?void 0:n}function y1(t,e,n,r,i,s){let o=e+n;return Rs(t,o,i)?Dk(t,o+1,s?r.call(s,i):r(i)):m1(t,o+1)}var Dr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},lb=new Dr("18.2.9");var xl=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var db=new $("");function la(t){return!!t&&typeof t.then=="function"}function hb(t){return!!t&&typeof t.subscribe=="function"}var Pl=new $(""),fb=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=x(Pl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(la(s))n.push(s);else if(hb(s)){let o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),da=new $("");function v1(){Ow(()=>{throw new z(600,!1)})}function _1(t){return t.isBoundToModule}var I1=10;function w1(t,e,n){try{let r=n();return la(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Ar=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=x(sP),this.afterRenderManager=x(rb),this.zonelessEnabled=x(Nl),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new rt,this.afterTick=new rt,this.componentTypes=[],this.components=[],this.isStable=x(Cr).hasPendingTasks.pipe(Z(n=>!n)),this._injector=x(yt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof ul;if(!this._injector.get(fb).done){let m=!i&&fT(n),y=!1;throw new z(405,y)}let o;i?o=n:o=this._injector.get(Is).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let a=_1(o)?void 0:this._injector.get(Tr),u=r||o.selector,l=o.create(qe.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(db,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),qu(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new z(101,!1);let n=pe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,pe(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(ws,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<I1;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)E1(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>El(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;qu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(da,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>qu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new z(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function qu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function E1(t,e,n,r){if(!n&&!El(t))return;GD(t,e,n&&!r?0:1)}var Vp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Ol=(()=>{class t{compileModuleSync(n){return new Mp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=pT(n),s=mD(i.declarations).reduce((o,a)=>{let u=wr(a);return u&&o.push(new Es(u)),o},[]);return new Vp(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var T1=(()=>{class t{constructor(){this.zone=x(he),this.changeDetectionScheduler=x(_s),this.applicationRef=x(Ar)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),D1=new $("",{factory:()=>!1});function pb({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new he(Ee(U({},gb()),{scheduleInRootZone:n})),[{provide:he,useFactory:t},{provide:gs,multi:!0,useFactory:()=>{let r=x(T1,{optional:!0});return()=>r.initialize()}},{provide:gs,multi:!0,useFactory:()=>{let r=x(b1);return()=>{r.initialize()}}},e===!0?{provide:YD,useValue:!0}:[],{provide:JD,useValue:n??rD}]}function b6(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=pb({ngZoneFactory:()=>{let i=gb(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&vi("NgZone_CoalesceEvent"),new he(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Et([{provide:D1,useValue:!0},{provide:Nl,useValue:!1},r])}function gb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var b1=(()=>{class t{constructor(){this.subscription=new Pe,this.initialized=!1,this.zone=x(he),this.pendingTasks=x(Cr)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{he.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var C1=(()=>{class t{constructor(){this.appRef=x(Ar),this.taskService=x(Cr),this.ngZone=x(he),this.zonelessEnabled=x(Nl),this.disableScheduling=x(YD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Pe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(sl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(JD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof dp||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?CE:iD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(sl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,CE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function S1(){return typeof $localize<"u"&&$localize.locale||fl}var Mg=new $("",{providedIn:"root",factory:()=>x(Mg,se.Optional|se.SkipSelf)||S1()});var Up=new $("");function Uu(t){return!t.moduleRef}function A1(t){let e=Uu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(he);return n.run(()=>{Uu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Pn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Uu(t)){let s=()=>e.destroy(),o=t.platformInjector.get(Up);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(Up);o.add(s),t.moduleRef.onDestroy(()=>{qu(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return w1(r,n,()=>{let s=e.get(fb);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Mg,fl);if(n1(o||fl),Uu(t)){let a=e.get(Ar);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return R1(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function R1(t,e){let n=t.injector.get(Ar);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new z(-403,!1);e.push(t)}var zu=null;function N1(t=[],e){return qe.create({name:e,providers:[{provide:_l,useValue:"platform"},{provide:Up,useValue:new Set([()=>zu=null])},...t]})}function M1(t=[]){if(zu)return zu;let e=N1(t);return zu=e,v1(),x1(e),e}function x1(t){t.get(hg,null)?.forEach(n=>n())}var ha=(()=>{class t{static{this.__NG_ELEMENT_ID__=P1}}return t})();function P1(t){return O1(_t(),ve(),(t&16)===16)}function O1(t,e,n){if(wl(t)&&!n){let r=br(t.index,e);return new fi(r,r)}else if(t.type&175){let r=e[ln];return new fi(r,e)}return null}var jp=class{constructor(){}supports(e){return nb(e)}create(e){return new Bp(e)}},k1=(t,e)=>e,Bp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||k1}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<zE(r,i,s)?n:r,a=zE(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<s.length?s[m]:s[m]=0,D=y+m;h<=D&&D<l&&(s[m]=y+1)}let p=o.previousIndex;s[p]=h-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!nb(e))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,Ek(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new $p(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new pl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new pl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},$p=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Hp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},pl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Hp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function zE(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function GE(){return new xg([new jp])}var xg=(()=>{class t{static{this.\u0275prov=H({token:t,providedIn:"root",factory:GE})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||GE()),deps:[[t,new zp,new ke]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new z(901,!1)}}return t})();function mb(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=M1(r),s=[pb({}),{provide:_s,useExisting:C1},...n||[]],o=new dl({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return A1({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function fa(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function C6(t,e){vi("NgSignals");let n=Mw(t);return e?.equal&&(n[Sn].equal=e.equal),n}function L1(t){let e=pe(null);try{return t()}finally{pe(e)}}function yb(t){let e=wr(t);if(!e)return null;let n=new Es(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Tb=null;function Ns(){return Tb}function Db(t){Tb??=t}var kl=class{};var ot=new $(""),Vg=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>x(V1),providedIn:"platform"})}}return t})(),bb=new $(""),V1=(()=>{class t extends Vg{constructor(){super(),this._doc=x(ot),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ns().getBaseHref(this._doc)}onPopState(n){let r=Ns().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Ns().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Ug(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function vb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Vn(t){return t&&t[0]!=="?"?"?"+t:t}var Un=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>x(jg),providedIn:"root"})}}return t})(),Cb=new $(""),jg=(()=>{class t extends Un{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(ot).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Ug(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Vn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Vn(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Vn(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(G(Vg),G(Cb,8))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Sb=(()=>{class t extends Un{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Ug(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Vn(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Vn(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(G(Vg),G(Cb,8))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),xs=(()=>{class t{constructor(n){this._subject=new it,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=B1(vb(_b(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Vn(r))}normalize(n){return t.stripTrailingSlash(j1(this._basePath,_b(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Vn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Vn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Vn}static{this.joinWithSlash=Ug}static{this.stripTrailingSlash=vb}static{this.\u0275fac=function(r){return new(r||t)(G(Un))}}static{this.\u0275prov=H({token:t,factory:()=>U1(),providedIn:"root"})}}return t})();function U1(){return new xs(G(Un))}function j1(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function _b(t){return t.replace(/\/index.html$/,"")}function B1(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Ll(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Pg=/\s+/,Ib=[],Z6=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=Ib,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Pg):Ib}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Pg):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Pg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(Ye(Fn),Ye(ua))}}static{this.\u0275dir=mi({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var Og=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},X6=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Og(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),wb(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);wb(s,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(Ye(Sr),Ye(pi),Ye(xg))}}static{this.\u0275dir=mi({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function wb(t,e){t.context.$implicit=e.item}var e8=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new kg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Eb("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Eb("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(Ye(Sr),Ye(pi))}}static{this.\u0275dir=mi({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),kg=class{constructor(){this.$implicit=null,this.ngIf=null}};function Eb(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${mt(e)}'.`)}var $1=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=bs({type:t})}static{this.\u0275inj=Ds({})}}return t})(),Bg="browser",H1="server";function q1(t){return t===Bg}function Fl(t){return t===H1}var Ab=(()=>{class t{static{this.\u0275prov=H({token:t,providedIn:"root",factory:()=>q1(x(Vt))?new Lg(x(ot),window):new Fg})}}return t})(),Lg=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=z1(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function z1(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Fg=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ms=class{};var ma=class{},Ul=class{},jn=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Hg=class{encodeKey(e){return Nb(e)}encodeValue(e){return Nb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function G1(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}var W1=/%(\d[a-f0-9])/gi,K1={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Nb(t){return encodeURIComponent(t).replace(W1,(e,n)=>K1[n]??e)}function Vl(t){return`${t}`}var Nr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Hg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=G1(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Vl):[Vl(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Vl(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Vl(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var qg=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Q1(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Mb(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function xb(t){return typeof Blob<"u"&&t instanceof Blob}function Pb(t){return typeof FormData<"u"&&t instanceof FormData}function Y1(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var ga=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(Q1(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new jn,this.context??=new qg,!this.params)this.params=new Nr,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Mb(this.body)||xb(this.body)||Pb(this.body)||Y1(this.body)?this.body:this.body instanceof Nr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Pb(this.body)?null:xb(this.body)?this.body.type||null:Mb(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Nr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new t(n,r,o,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:s})}},Mr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Mr||{}),ya=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new jn,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},jl=class t extends ya{constructor(e={}){super(e),this.type=Mr.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},va=class t extends ya{constructor(e={}){super(e),this.type=Mr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Rr=class extends ya{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Fb=200,J1=204;function $g(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Z1=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof ga)s=n;else{let u;i.headers instanceof jn?u=i.headers:u=new jn(i.headers);let l;i.params&&(i.params instanceof Nr?l=i.params:l=new Nr({fromObject:i.params})),s=new ga(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=Q(s).pipe(Rn(u=>this.handler.handle(u)));if(n instanceof ga||i.observe==="events")return o;let a=o.pipe(pt(u=>u instanceof va));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Z(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Z(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Z(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(Z(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Nr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,$g(i,r))}post(n,r,i={}){return this.request("POST",n,$g(i,r))}put(n,r,i={}){return this.request("PUT",n,$g(i,r))}static{this.\u0275fac=function(r){return new(r||t)(G(ma))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),X1=/^\)\]\}',?\n/,eL="X-Request-URL";function Ob(t){if(t.url)return t.url;let e=eL.toLocaleLowerCase();return t.headers.get(e)}var tL=(()=>{class t{constructor(){this.fetchImpl=x(zg,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=x(he)}handle(n){return new ie(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(Gg,s=>r.error(new Rr({error:s}))),()=>i.abort()})}doRequest(n,r,i){return _(this,null,function*(){let s=this.createRequestInit(n),o;try{let y=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,U({signal:r},s)));nL(y),i.next({type:Mr.Sent}),o=yield y}catch(y){i.error(new Rr({error:y,status:y.status??0,statusText:y.statusText,url:n.urlWithParams,headers:y.headers}));return}let a=new jn(o.headers),u=o.statusText,l=Ob(o)??n.urlWithParams,h=o.status,p=null;if(n.reportProgress&&i.next(new jl({headers:a,status:h,statusText:u,url:l})),o.body){let y=o.headers.get("content-length"),D=[],R=o.body.getReader(),S=0,P,V,k=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>_(this,null,function*(){for(;;){let{done:ae,value:q}=yield R.read();if(ae)break;if(D.push(q),S+=q.length,n.reportProgress){V=n.responseType==="text"?(V??"")+(P??=new TextDecoder).decode(q,{stream:!0}):void 0;let E=()=>i.next({type:Mr.DownloadProgress,total:y?+y:void 0,loaded:S,partialText:V});k?k.run(E):E()}}}));let B=this.concatChunks(D,S);try{let ae=o.headers.get("Content-Type")??"";p=this.parseBody(n,B,ae)}catch(ae){i.error(new Rr({error:ae,headers:new jn(o.headers),status:o.status,statusText:o.statusText,url:Ob(o)??n.urlWithParams}));return}}h===0&&(h=p?Fb:0),h>=200&&h<300?(i.next(new va({body:p,headers:a,status:h,statusText:u,url:l})),i.complete()):i.error(new Rr({error:p,headers:a,status:h,statusText:u,url:l}))})}parseBody(n,r,i){switch(n.responseType){case"json":let s=new TextDecoder().decode(r).replace(X1,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((s,o)=>r[s]=o.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let s=n.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),s=0;for(let o of n)i.set(o,s),s+=o.length;return i}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),zg=class{};function Gg(){}function nL(t){t.then(Gg,Gg)}function rL(t,e){return e(t)}function iL(t,e,n){return(r,i)=>Lt(n,()=>e(r,s=>t(s,i)))}var Vb=new $(""),sL=new $(""),oL=new $("",{providedIn:"root",factory:()=>!0});var kb=(()=>{class t extends ma{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=x(Cr),this.contributeToStability=x(oL)}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Vb),...this.injector.get(sL,[])]));this.chain=r.reduceRight((i,s)=>iL(i,s,this.injector),rL)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(ii(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||t)(G(Ul),G(yt))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})();var aL=/^\)\]\}',?\n/;function cL(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var Lb=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new z(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Se(r.\u0275loadImpl()):Q(null)).pipe(wt(()=>new ie(s=>{let o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((R,S)=>o.setRequestHeader(R,S.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let R=n.detectContentTypeHeader();R!==null&&o.setRequestHeader("Content-Type",R)}if(n.responseType){let R=n.responseType.toLowerCase();o.responseType=R!=="json"?R:"text"}let a=n.serializeBody(),u=null,l=()=>{if(u!==null)return u;let R=o.statusText||"OK",S=new jn(o.getAllResponseHeaders()),P=cL(o)||n.url;return u=new jl({headers:S,status:o.status,statusText:R,url:P}),u},h=()=>{let{headers:R,status:S,statusText:P,url:V}=l(),k=null;S!==J1&&(k=typeof o.response>"u"?o.responseText:o.response),S===0&&(S=k?Fb:0);let B=S>=200&&S<300;if(n.responseType==="json"&&typeof k=="string"){let ae=k;k=k.replace(aL,"");try{k=k!==""?JSON.parse(k):null}catch(q){k=ae,B&&(B=!1,k={error:q,text:k})}}B?(s.next(new va({body:k,headers:R,status:S,statusText:P,url:V||void 0})),s.complete()):s.error(new Rr({error:k,headers:R,status:S,statusText:P,url:V||void 0}))},p=R=>{let{url:S}=l(),P=new Rr({error:R,status:o.status||0,statusText:o.statusText||"Unknown Error",url:S||void 0});s.error(P)},m=!1,y=R=>{m||(s.next(l()),m=!0);let S={type:Mr.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(S.total=R.total),n.responseType==="text"&&o.responseText&&(S.partialText=o.responseText),s.next(S)},D=R=>{let S={type:Mr.UploadProgress,loaded:R.loaded};R.lengthComputable&&(S.total=R.total),s.next(S)};return o.addEventListener("load",h),o.addEventListener("error",p),o.addEventListener("timeout",p),o.addEventListener("abort",p),n.reportProgress&&(o.addEventListener("progress",y),a!==null&&o.upload&&o.upload.addEventListener("progress",D)),o.send(a),s.next({type:Mr.Sent}),()=>{o.removeEventListener("error",p),o.removeEventListener("abort",p),o.removeEventListener("load",h),o.removeEventListener("timeout",p),n.reportProgress&&(o.removeEventListener("progress",y),a!==null&&o.upload&&o.upload.removeEventListener("progress",D)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(G(Ms))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),Ub=new $(""),uL="XSRF-TOKEN",lL=new $("",{providedIn:"root",factory:()=>uL}),dL="X-XSRF-TOKEN",hL=new $("",{providedIn:"root",factory:()=>dL}),Bl=class{},fL=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ll(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(G(ot),G(Vt),G(lL))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})();function pL(t,e){let n=t.url.toLowerCase();if(!x(Ub)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=x(Bl).getToken(),i=x(hL);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function p8(...t){let e=[Z1,Lb,kb,{provide:ma,useExisting:kb},{provide:Ul,useFactory:()=>x(tL,{optional:!0})??x(Lb)},{provide:Vb,useValue:pL,multi:!0},{provide:Ub,useValue:!0},{provide:Bl,useClass:fL}];for(let n of t)e.push(...n.\u0275providers);return Et(e)}var Qg=class extends kl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Yg=class t extends Qg{static makeCurrent(){Db(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=gL();return n==null?null:mL(n)}resetBaseElement(){_a=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ll(document.cookie,e)}},_a=null;function gL(){return _a=_a||document.querySelector("base"),_a?_a.getAttribute("href"):null}function mL(t){return new URL(t,document.baseURI).pathname}var yL=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),Jg=new $(""),Hb=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new z(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(G(Jg),G(he))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),$l=class{constructor(e){this._doc=e}},Wg="ng-app-id",qb=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Fl(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Wg}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(Wg),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Wg,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(G(ot),G(dg),G(fg,8),G(Vt))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),Kg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Xg=/%COMP%/g,zb="%COMP%",vL=`_nghost-${zb}`,_L=`_ngcontent-${zb}`,IL=!0,wL=new $("",{providedIn:"root",factory:()=>IL});function EL(t){return _L.replace(Xg,t)}function TL(t){return vL.replace(Xg,t)}function Gb(t,e){return e.map(n=>n.replace(Xg,t))}var jb=(()=>{class t{constructor(n,r,i,s,o,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Fl(a),this.defaultRenderer=new Ia(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===cn.ShadowDom&&(r=Ee(U({},r),{encapsulation:cn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Hl?i.applyToHost(n):i instanceof wa&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case cn.Emulated:s=new Hl(u,l,r,this.appId,h,o,a,p);break;case cn.ShadowDom:return new Zg(u,l,n,r,o,a,this.nonce,p);default:s=new wa(u,l,r,h,o,a,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(G(Hb),G(qb),G(dg),G(wL),G(ot),G(Vt),G(he),G(fg))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),Ia=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Kg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Bb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Bb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new z(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Kg[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Kg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(On.DashCase|On.Important)?e.style.setProperty(n,r,i&On.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&On.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Ns().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Bb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Zg=class extends Ia{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Gb(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},wa=class extends Ia{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?Gb(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Hl=class extends wa{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=EL(l),this.hostAttr=TL(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},DL=(()=>{class t extends $l{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(G(ot))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),$b=["alt","control","meta","shift"],bL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},CL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},SL=(()=>{class t extends $l{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ns().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),$b.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=bL[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),$b.forEach(o=>{if(o!==i){let a=CL[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(G(ot))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})();function j8(t,e){return mb(U({rootComponent:t},AL(e)))}function AL(t){return{appProviders:[...PL,...t?.providers??[]],platformProviders:xL}}function RL(){Yg.makeCurrent()}function NL(){return new Pn}function ML(){return dD(document),document}var xL=[{provide:Vt,useValue:Bg},{provide:hg,useValue:RL,multi:!0},{provide:ot,useFactory:ML,deps:[]}];var PL=[{provide:_l,useValue:"root"},{provide:Pn,useFactory:NL,deps:[]},{provide:Jg,useClass:DL,multi:!0,deps:[ot,he,Vt]},{provide:Jg,useClass:SL,multi:!0,deps:[ot]},jb,qb,Hb,{provide:ws,useExisting:jb},{provide:Ms,useClass:yL,deps:[]},[]];var Wb=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(G(ot))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ne="primary",La=Symbol("RouteTitle"),im=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Vs(t){return new im(t)}function kL(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function LL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!hn(t[n],e[n]))return!1;return!0}function hn(t,e){let n=t?sm(t):void 0,r=e?sm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!iC(t[i],e[i]))return!1;return!0}function sm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function iC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function sC(t){return t.length>0?t[t.length-1]:null}function Or(t){return Rf(t)?t:la(t)?Se(Promise.resolve(t)):Q(t)}var FL={exact:aC,subset:cC},oC={exact:VL,subset:UL,ignored:()=>!0};function Kb(t,e,n){return FL[n.paths](t.root,e.root,n.matrixParams)&&oC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function VL(t,e){return hn(t,e)}function aC(t,e,n){if(!Ii(t.segments,e.segments)||!Gl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!aC(t.children[r],e.children[r],n))return!1;return!0}function UL(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>iC(t[n],e[n]))}function cC(t,e,n){return uC(t,e,e.segments,n)}function uC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ii(i,n)||e.hasChildren()||!Gl(i,n,r))}else if(t.segments.length===n.length){if(!Ii(t.segments,n)||!Gl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!cC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Ii(t.segments,i)||!Gl(t.segments,i,r)||!t.children[ne]?!1:uC(t.children[ne],e,s,r)}}function Gl(t,e,n){return e.every((r,i)=>oC[n](t[i].parameters,r.parameters))}var $n=class{constructor(e=new ye([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Vs(this.queryParams),this._queryParamMap}toString(){return $L.serialize(this)}},ye=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wl(this)}},_i=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Vs(this.parameters),this._parameterMap}toString(){return dC(this)}};function jL(t,e){return Ii(t,e)&&t.every((n,r)=>hn(n.parameters,e[r].parameters))}function Ii(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function BL(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ne&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ne&&(n=n.concat(e(i,r)))}),n}var Fa=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>new Us,providedIn:"root"})}}return t})(),Us=class{parse(e){let n=new am(e);return new $n(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ea(e.root,!0)}`,r=zL(e.queryParams),i=typeof e.fragment=="string"?`#${HL(e.fragment)}`:"";return`${n}${r}${i}`}},$L=new Us;function Wl(t){return t.segments.map(e=>dC(e)).join("/")}function Ea(t,e){if(!t.hasChildren())return Wl(t);if(e){let n=t.children[ne]?Ea(t.children[ne],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ne&&r.push(`${i}:${Ea(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=BL(t,(r,i)=>i===ne?[Ea(t.children[ne],!1)]:[`${i}:${Ea(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ne]!=null?`${Wl(t)}/${n[0]}`:`${Wl(t)}/(${n.join("//")})`}}function lC(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ql(t){return lC(t).replace(/%3B/gi,";")}function HL(t){return encodeURI(t)}function om(t){return lC(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kl(t){return decodeURIComponent(t)}function Qb(t){return Kl(t.replace(/\+/g,"%20"))}function dC(t){return`${om(t.path)}${qL(t.parameters)}`}function qL(t){return Object.entries(t).map(([e,n])=>`;${om(e)}=${om(n)}`).join("")}function zL(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ql(n)}=${ql(i)}`).join("&"):`${ql(n)}=${ql(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var GL=/^[^\/()?;#]+/;function em(t){let e=t.match(GL);return e?e[0]:""}var WL=/^[^\/()?;=#]+/;function KL(t){let e=t.match(WL);return e?e[0]:""}var QL=/^[^=?&#]+/;function YL(t){let e=t.match(QL);return e?e[0]:""}var JL=/^[^&#]+/;function ZL(t){let e=t.match(JL);return e?e[0]:""}var am=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ne]=new ye(e,n)),r}parseSegment(){let e=em(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(e),new _i(Kl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=KL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=em(this.remaining);i&&(r=i,this.capture(r))}e[Kl(n)]=Kl(r)}parseQueryParam(e){let n=YL(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=ZL(this.remaining);o&&(r=o,this.capture(r))}let i=Qb(n),s=Qb(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=em(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new z(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ne);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ne]:new ye([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new z(4011,!1)}};function hC(t){return t.segments.length>0?new ye([],{[ne]:t}):t}function fC(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=fC(i);if(r===ne&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ye(t.segments,e);return XL(n)}function XL(t){if(t.numberOfChildren===1&&t.children[ne]){let e=t.children[ne];return new ye(t.segments.concat(e.segments),e.children)}return t}function wi(t){return t instanceof $n}function eF(t,e,n=null,r=null){let i=pC(t);return gC(i,e,n,r)}function pC(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new ye(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=hC(r);return e??i}function gC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return tm(i,i,i,n,r);let s=tF(e);if(s.toRoot())return tm(i,i,new ye([],{}),n,r);let o=nF(s,i,t),a=o.processChildren?ba(o.segmentGroup,o.index,s.commands):yC(o.segmentGroup,o.index,s.commands);return tm(i,o.segmentGroup,a,n,r)}function Ql(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Aa(t){return typeof t=="object"&&t!=null&&t.outlets}function tm(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;t===e?o=n:o=mC(t,e,n);let a=hC(fC(o));return new $n(a,s,i)}function mC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=mC(s,e,n)}),new ye(t.segments,r)}var Yl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ql(r[0]))throw new z(4003,!1);let i=r.find(Aa);if(i&&i!==sC(r))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function tF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Yl(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Yl(n,e,r)}var ks=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function nF(t,e,n){if(t.isAbsolute)return new ks(e,!0,0);if(!n)return new ks(e,!1,NaN);if(n.parent===null)return new ks(n,!0,0);let r=Ql(t.commands[0])?0:1,i=n.segments.length-1+r;return rF(n,i,t.numberOfDoubleDots)}function rF(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new z(4005,!1);i=r.segments.length}return new ks(r,!1,i-s)}function iF(t){return Aa(t[0])?t[0].outlets:{[ne]:t}}function yC(t,e,n){if(t??=new ye([],{}),t.segments.length===0&&t.hasChildren())return ba(t,e,n);let r=sF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ye(t.segments.slice(0,r.pathIndex),{});return s.children[ne]=new ye(t.segments.slice(r.pathIndex),t.children),ba(s,0,i)}else return r.match&&i.length===0?new ye(t.segments,{}):r.match&&!t.hasChildren()?cm(t,e,n):r.match?ba(t,0,i):cm(t,e,n)}function ba(t,e,n){if(n.length===0)return new ye(t.segments,{});{let r=iF(n),i={};if(Object.keys(r).some(s=>s!==ne)&&t.children[ne]&&t.numberOfChildren===1&&t.children[ne].segments.length===0){let s=ba(t.children[ne],e,n);return new ye(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=yC(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ye(t.segments,i)}}function sF(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Aa(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!Jb(u,l,o))return s;r+=2}else{if(!Jb(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function cm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Aa(s)){let u=oF(s.outlets);return new ye(r,u)}if(i===0&&Ql(n[0])){let u=t.segments[e];r.push(new _i(u.path,Yb(n[0]))),i++;continue}let o=Aa(s)?s.outlets[ne]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Ql(a)?(r.push(new _i(o,Yb(a))),i+=2):(r.push(new _i(o,{})),i++)}return new ye(r,{})}function oF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=cm(new ye([],{}),0,r))}),e}function Yb(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Jb(t,e,n){return t==n.path&&hn(e,n.parameters)}var Ca="imperative",ze=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ze||{}),Ut=class{constructor(e,n){this.id=e,this.url=n}},js=class extends Ut{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ze.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},fn=class extends Ut{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ze.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Nt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Nt||{}),Jl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Jl||{}),Bn=class extends Ut{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ze.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},xr=class extends Ut{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ze.NavigationSkipped}},Ra=class extends Ut{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ze.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Zl=class extends Ut{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ze.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},um=class extends Ut{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ze.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lm=class extends Ut{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=ze.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},dm=class extends Ut{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ze.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hm=class extends Ut{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ze.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fm=class{constructor(e){this.route=e,this.type=ze.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},pm=class{constructor(e){this.route=e,this.type=ze.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},gm=class{constructor(e){this.snapshot=e,this.type=ze.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mm=class{constructor(e){this.snapshot=e,this.type=ze.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ym=class{constructor(e){this.snapshot=e,this.type=ze.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},vm=class{constructor(e){this.snapshot=e,this.type=ze.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xl=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=ze.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Na=class{},Bs=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function aF(t,e){return t.providers&&!t._injector&&(t._injector=Ml(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Yt(t){return t.outlet||ne}function cF(t,e){let n=t.filter(r=>Yt(r)===e);return n.push(...t.filter(r=>Yt(r)!==e)),n}function Va(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var _m=class{get injector(){return Va(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Ua(this.rootInjector),this.attachRef=null}},Ua=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new _m(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(G(yt))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),ed=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Im(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Im(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=wm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return wm(e,this._root).map(n=>n.value)}};function Im(t,e){if(t===e.value)return e;for(let n of e.children){let r=Im(t,n);if(r)return r}return null}function wm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=wm(t,n);if(r.length)return r.unshift(e),r}return[]}var Rt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Os(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var td=class extends ed{constructor(e,n){super(e),this.snapshot=n,Nm(this,e)}toString(){return this.snapshot.toString()}};function vC(t){let e=uF(t),n=new Qe([new _i("",{})]),r=new Qe({}),i=new Qe({}),s=new Qe({}),o=new Qe(""),a=new Pr(n,r,s,o,i,ne,t,e.root);return a.snapshot=e.root,new td(new Rt(a,[]),e)}function uF(t){let e={},n={},r={},i="",s=new Ls([],e,r,i,n,ne,t,null,{});return new rd("",new Rt(s,[]))}var Pr=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Z(l=>l[La]))??Q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(e=>Vs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(e=>Vs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function nd(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),t.params),data:U(U({},e.data),t.data),resolve:U(U(U(U({},t.data),e.data),i?.data),t._resolvedData)}:r={params:U({},t.params),data:U({},t.data),resolve:U(U({},t.data),t._resolvedData??{})},i&&IC(i)&&(r.resolve[La]=i.title),r}var Ls=class{get title(){return this.data?.[La]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Vs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Vs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},rd=class extends ed{constructor(e,n){super(n),this.url=e,Nm(this,n)}toString(){return _C(this._root)}};function Nm(t,e){e.value._routerState=t,e.children.forEach(n=>Nm(t,n))}function _C(t){let e=t.children.length>0?` { ${t.children.map(_C).join(", ")} } `:"";return`${t.value}${e}`}function nm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,hn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),hn(e.params,n.params)||t.paramsSubject.next(n.params),LL(e.url,n.url)||t.urlSubject.next(n.url),hn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Em(t,e){let n=hn(t.params,e.params)&&jL(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Em(t.parent,e.parent))}function IC(t){return typeof t.title=="string"||t.title===null}var lF=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ne,this.activateEvents=new it,this.deactivateEvents=new it,this.attachEvents=new it,this.detachEvents=new it,this.parentContexts=x(Ua),this.location=x(Sr),this.changeDetector=x(ha),this.inputBinder=x(ad,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Tm(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=mi({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[oa]})}}return t})(),Tm=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Pr?this.route:e===Ua?this.childContexts:this.parent.get(e,n)}},ad=new $(""),Zb=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Qo([r.queryParams,r.params,r.data]).pipe(wt(([s,o,a],u)=>(a=U(U(U({},s),o),a),u===0?Q(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let o=yb(r.component);if(!o){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})();function dF(t,e,n){let r=Ma(t,e._root,n?n._root:void 0);return new td(r,e)}function Ma(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=hF(t,e,n);return new Rt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ma(t,a)),o}}let r=fF(e.value),i=e.children.map(s=>Ma(t,s));return new Rt(r,i)}}function hF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ma(t,r,i);return Ma(t,r)})}function fF(t){return new Pr(new Qe(t.url),new Qe(t.params),new Qe(t.queryParams),new Qe(t.fragment),new Qe(t.data),t.outlet,t.component,t)}var xa=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},wC="ngNavigationCancelingError";function id(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=wi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=EC(!1,Nt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function EC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[wC]=!0,n.cancellationCode=e,n}function pF(t){return TC(t)&&wi(t.url)}function TC(t){return!!t&&t[wC]}var gF=(t,e,n,r)=>Z(i=>(new Dm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Dm=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),nm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Os(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Os(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Os(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Os(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new vm(s.value.snapshot))}),e.children.length&&this.forwardEvent(new mm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(nm(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),nm(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},sd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Fs=class{constructor(e,n){this.component=e,this.route=n}};function mF(t,e,n){let r=t._root,i=e?e._root:null;return Ta(r,i,n,[r.value])}function yF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Hs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!JE(t)?t:e.get(t):r}function Ta(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Os(e);return t.children.forEach(o=>{vF(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Sa(a,n.getContext(o),i)),i}function vF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=_F(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new sd(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ta(t,e,a?a.children:null,r,i):Ta(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Fs(a.outlet.component,o))}else o&&Sa(e,a,i),i.canActivateChecks.push(new sd(r)),s.component?Ta(t,null,a?a.children:null,r,i):Ta(t,null,n,r,i);return i}function _F(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ii(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ii(t.url,e.url)||!hn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Em(t,e)||!hn(t.queryParams,e.queryParams);case"paramsChange":default:return!Em(t,e)}}function Sa(t,e,n){let r=Os(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Sa(o,e.children.getContext(s),n):Sa(o,null,n):Sa(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Fs(e.outlet.component,i)):n.canDeactivateChecks.push(new Fs(null,i)):n.canDeactivateChecks.push(new Fs(null,i))}function ja(t){return typeof t=="function"}function IF(t){return typeof t=="boolean"}function wF(t){return t&&ja(t.canLoad)}function EF(t){return t&&ja(t.canActivate)}function TF(t){return t&&ja(t.canActivateChild)}function DF(t){return t&&ja(t.canDeactivate)}function bF(t){return t&&ja(t.canMatch)}function DC(t){return t instanceof An||t?.name==="EmptyError"}var zl=Symbol("INITIAL_VALUE");function $s(){return wt(t=>Qo(t.map(e=>e.pipe(Nn(1),Ou(zl)))).pipe(Z(e=>{for(let n of e)if(n!==!0){if(n===zl)return zl;if(n===!1||CF(n))return n}return!0}),pt(e=>e!==zl),Nn(1)))}function CF(t){return wi(t)||t instanceof xa}function SF(t,e){return Fe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?Q(Ee(U({},n),{guardsResult:!0})):AF(o,r,i,t).pipe(Fe(a=>a&&IF(a)?RF(r,s,t,e):Q(a)),Z(a=>Ee(U({},n),{guardsResult:a})))})}function AF(t,e,n,r){return Se(t).pipe(Fe(i=>OF(i.component,i.route,n,e,r)),sn(i=>i!==!0,!0))}function RF(t,e,n,r){return Se(e).pipe(Rn(i=>ss(MF(i.route.parent,r),NF(i.route,r),PF(t,i.path,n),xF(t,i.route,n))),sn(i=>i!==!0,!0))}function NF(t,e){return t!==null&&e&&e(new ym(t)),Q(!0)}function MF(t,e){return t!==null&&e&&e(new gm(t)),Q(!0)}function xF(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Q(!0);let i=r.map(s=>Mu(()=>{let o=Va(e)??n,a=Hs(s,o),u=EF(a)?a.canActivate(e,t):Lt(o,()=>a(e,t));return Or(u).pipe(sn())}));return Q(i).pipe($s())}function PF(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>yF(o)).filter(o=>o!==null).map(o=>Mu(()=>{let a=o.guards.map(u=>{let l=Va(o.node)??n,h=Hs(u,l),p=TF(h)?h.canActivateChild(r,t):Lt(l,()=>h(r,t));return Or(p).pipe(sn())});return Q(a).pipe($s())}));return Q(s).pipe($s())}function OF(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Q(!0);let o=s.map(a=>{let u=Va(e)??i,l=Hs(a,u),h=DF(l)?l.canDeactivate(t,e,n,r):Lt(u,()=>l(t,e,n,r));return Or(h).pipe(sn())});return Q(o).pipe($s())}function kF(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Q(!0);let s=i.map(o=>{let a=Hs(o,t),u=wF(a)?a.canLoad(e,n):Lt(t,()=>a(e,n));return Or(u)});return Q(s).pipe($s(),bC(r))}function bC(t){return hu(Ve(e=>{if(typeof e!="boolean")throw id(t,e)}),Z(e=>e===!0))}function LF(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Q(!0);let s=i.map(o=>{let a=Hs(o,t),u=bF(a)?a.canMatch(e,n):Lt(t,()=>a(e,n));return Or(u)});return Q(s).pipe($s(),bC(r))}var Pa=class{constructor(e){this.segmentGroup=e||null}},Oa=class extends Error{constructor(e){super(),this.urlTree=e}};function Ps(t){return rs(new Pa(t))}function FF(t){return rs(new z(4e3,!1))}function VF(t){return rs(EC(!1,Nt.GuardRejected))}var bm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Q(r);if(i.numberOfChildren>1||!i.children[ne])return FF(`${e.redirectTo}`);i=i.children[ne]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:D,title:R}=i,S=Lt(s,()=>a({params:y,data:D,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:R}));if(S instanceof $n)throw new Oa(S);n=S}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Oa(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new $n(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new ye(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new z(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Cm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function UF(t,e,n,r,i){let s=CC(t,e,n);return s.matched?(r=aF(e,r),LF(r,e,n,i).pipe(Z(o=>o===!0?s:U({},Cm)))):Q(s)}function CC(t,e,n){if(e.path==="**")return jF(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?U({},Cm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||kL)(n,t,e);if(!i)return U({},Cm);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?U(U({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function jF(t){return{matched:!0,parameters:t.length>0?sC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Xb(t,e,n,r){return n.length>0&&HF(t,n,r)?{segmentGroup:new ye(e,$F(r,new ye(n,t.children))),slicedSegments:[]}:n.length===0&&qF(t,n,r)?{segmentGroup:new ye(t.segments,BF(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ye(t.segments,t.children),slicedSegments:n}}function BF(t,e,n,r){let i={};for(let s of n)if(cd(t,e,s)&&!r[Yt(s)]){let o=new ye([],{});i[Yt(s)]=o}return U(U({},r),i)}function $F(t,e){let n={};n[ne]=e;for(let r of t)if(r.path===""&&Yt(r)!==ne){let i=new ye([],{});n[Yt(r)]=i}return n}function HF(t,e,n){return n.some(r=>cd(t,e,r)&&Yt(r)!==ne)}function qF(t,e,n){return n.some(r=>cd(t,e,r))}function cd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function zF(t,e,n){return e.length===0&&!t.children[n]}var Sm=class{};function GF(t,e,n,r,i,s,o="emptyOnly"){return new Am(t,e,n,r,i,o,s).recognize()}var WF=31,Am=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new bm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new z(4002,`'${e.segmentGroup}'`)}recognize(){let e=Xb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Z(({children:n,rootSnapshot:r})=>{let i=new Rt(r,n),s=new rd("",i),o=eF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new Ls([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ne,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ne,n).pipe(Z(r=>({children:r,rootSnapshot:n})),gr(r=>{if(r instanceof Oa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Pa?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(Z(o=>o instanceof Rt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Se(s).pipe(Rn(o=>{let a=r.children[o],u=cF(n,o);return this.processSegmentGroup(e,u,a,o,i)}),Pu((o,a)=>(o.push(...a),o)),mr(null),Mf(),Fe(o=>{if(o===null)return Ps(r);let a=SC(o);return KF(a),Q(a)}))}processSegment(e,n,r,i,s,o,a){return Se(n).pipe(Rn(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(gr(l=>{if(l instanceof Pa)return Q(null);throw l}))),sn(u=>!!u),gr(u=>{if(DC(u))return zF(r,i,s)?Q(new Sm):Ps(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return Yt(r)!==o&&(o===ne||!cd(i,s,r))?Ps(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):Ps(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=CC(n,i,s);if(!u)return Ps(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>WF&&(this.allowRedirects=!1));let y=new Ls(s,l,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,eC(i),Yt(i),i.component??i._loadedComponent??null,i,tC(i)),D=nd(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(D.params),y.data=Object.freeze(D.data);let R=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,R).pipe(Fe(S=>this.processSegment(e,r,n,S.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=UF(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(wt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(wt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,D=new Ls(m,p,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,eC(r),Yt(r),r.component??r._loadedComponent??null,r,tC(r)),R=nd(D,o,this.paramsInheritanceStrategy);D.params=Object.freeze(R.params),D.data=Object.freeze(R.data);let{segmentGroup:S,slicedSegments:P}=Xb(n,m,y,l);if(P.length===0&&S.hasChildren())return this.processChildren(h,l,S,D).pipe(Z(k=>new Rt(D,k)));if(l.length===0&&P.length===0)return Q(new Rt(D,[]));let V=Yt(r)===s;return this.processSegment(h,l,S,P,V?ne:s,!0,D).pipe(Z(k=>new Rt(D,k instanceof Rt?[k]:[])))}))):Ps(n)))}getChildConfig(e,n,r){return n.children?Q({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Q({routes:n._loadedRoutes,injector:n._loadedInjector}):kF(e,n,r,this.urlSerializer).pipe(Fe(i=>i?this.configLoader.loadChildren(e,n).pipe(Ve(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):VF(n))):Q({routes:[],injector:e})}};function KF(t){t.sort((e,n)=>e.value.outlet===ne?-1:n.value.outlet===ne?1:e.value.outlet.localeCompare(n.value.outlet))}function QF(t){let e=t.value.routeConfig;return e&&e.path===""}function SC(t){let e=[],n=new Set;for(let r of t){if(!QF(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=SC(r.children);e.push(new Rt(r.value,i))}return e.filter(r=>!n.has(r))}function eC(t){return t.data||{}}function tC(t){return t.resolve||{}}function YF(t,e,n,r,i,s){return Fe(o=>GF(t,e,n,r,o.extractedUrl,i,s).pipe(Z(({state:a,tree:u})=>Ee(U({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function JF(t,e){return Fe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Q(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of AC(u))o.add(l);let a=0;return Se(o).pipe(Rn(u=>s.has(u)?ZF(u,r,t,e):(u.data=nd(u,u.parent,t).resolve,Q(void 0))),Ve(()=>a++),os(1),Fe(u=>a===o.size?Q(n):St))})}function AC(t){let e=t.children.map(n=>AC(n)).flat();return[t,...e]}function ZF(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!IC(i)&&(s[La]=i.title),XF(s,t,e,r).pipe(Z(o=>(t._resolvedData=o,t.data=nd(t,t.parent,n).resolve,null)))}function XF(t,e,n,r){let i=sm(t);if(i.length===0)return Q({});let s={};return Se(i).pipe(Fe(o=>eV(t[o],e,n,r).pipe(sn(),Ve(a=>{if(a instanceof xa)throw id(new Us,a);s[o]=a}))),os(1),Nf(s),gr(o=>DC(o)?St:rs(o)))}function eV(t,e,n,r){let i=Va(e)??r,s=Hs(t,i),o=s.resolve?s.resolve(e,n):Lt(i,()=>s(e,n));return Or(o)}function rm(t){return wt(e=>{let n=t(e);return n?Se(n).pipe(Z(()=>e)):Q(e)})}var RC=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ne);return r}getResolvedTitleForRoute(n){return n.data[La]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>x(tV),providedIn:"root"})}}return t})(),tV=(()=>{class t extends RC{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(G(Wb))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ba=new $("",{providedIn:"root",factory:()=>({})}),nV=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=lT({type:t,selectors:[["ng-component"]],standalone:!0,features:[ub],decls:1,vars:0,template:function(r,i){r&1&&Rg(0,"router-outlet")},dependencies:[lF],encapsulation:2})}}return t})();function Mm(t){let e=t.children&&t.children.map(Mm),n=e?Ee(U({},t),{children:e}):U({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ne&&(n.component=nV),n}var ka=new $(""),xm=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=x(Ol)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Q(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Or(n.loadComponent()).pipe(Z(NC),Ve(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),ii(()=>{this.componentLoaders.delete(n)})),i=new Xi(r,()=>new rt).pipe(Zi());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=rV(r,this.compiler,n,this.onLoadEndListener).pipe(ii(()=>{this.childrenLoaders.delete(r)})),o=new Xi(s,()=>new rt).pipe(Zi());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function rV(t,e,n,r){return Or(t.loadChildren()).pipe(Z(NC),Fe(i=>i instanceof na||Array.isArray(i)?Q(i):Se(e.compileModuleAsync(i))),Z(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(ka,[],{optional:!0,self:!0}).flat()),{routes:o.map(Mm),injector:s}}))}function iV(t){return t&&typeof t=="object"&&"default"in t}function NC(t){return iV(t)?t.default:t}var Pm=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>x(sV),providedIn:"root"})}}return t})(),sV=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),MC=new $(""),xC=new $("");function oV(t,e,n){let r=t.get(xC),i=t.get(ot);return t.get(he).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),aV(t))),{onViewTransitionCreated:u}=r;return u&&Lt(t,()=>u({transition:a,from:e,to:n})),o})}function aV(t){return new Promise(e=>{Sg({read:()=>setTimeout(e)},{injector:t})})}var cV=new $(""),Om=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new rt,this.transitionAbortSubject=new rt,this.configLoader=x(xm),this.environmentInjector=x(yt),this.urlSerializer=x(Fa),this.rootContexts=x(Ua),this.location=x(xs),this.inputBindingEnabled=x(ad,{optional:!0})!==null,this.titleStrategy=x(RC),this.options=x(Ba,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=x(Pm),this.createViewTransition=x(MC,{optional:!0}),this.navigationErrorHandler=x(cV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Q(void 0),this.rootComponentType=null;let n=i=>this.events.next(new fm(i)),r=i=>this.events.next(new pm(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Ee(U(U({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Qe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ca,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(pt(s=>s.id!==0),Z(s=>Ee(U({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),wt(s=>{let o=!1,a=!1;return Q(s).pipe(wt(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Nt.SupersededByNewNavigation),St;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Ee(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new xr(u.id,this.urlSerializer.serialize(u.rawUrl),p,Jl.IgnoredSameUrlNavigation)),u.resolve(!1),St}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Q(u).pipe(wt(p=>{let m=this.transitions?.getValue();return this.events.next(new js(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?St:Promise.resolve(p)}),YF(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ve(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=Ee(U({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new Zl(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:m,source:y,restoredState:D,extras:R}=u,S=new js(p,this.urlSerializer.serialize(m),y,D);this.events.next(S);let P=vC(this.rootComponentType).snapshot;return this.currentTransition=s=Ee(U({},u),{targetSnapshot:P,urlAfterRedirects:m,extras:Ee(U({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,Q(s)}else{let p="";return this.events.next(new xr(u.id,this.urlSerializer.serialize(u.extractedUrl),p,Jl.IgnoredByUrlHandlingStrategy)),u.resolve(!1),St}}),Ve(u=>{let l=new um(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),Z(u=>(this.currentTransition=s=Ee(U({},u),{guards:mF(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),SF(this.environmentInjector,u=>this.events.next(u)),Ve(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw id(this.urlSerializer,u.guardsResult);let l=new lm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),pt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Nt.GuardRejected),!1)),rm(u=>{if(u.guards.canActivateChecks.length)return Q(u).pipe(Ve(l=>{let h=new dm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),wt(l=>{let h=!1;return Q(l).pipe(JF(this.paramsInheritanceStrategy,this.environmentInjector),Ve({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",Nt.NoDataFromResolver)}}))}),Ve(l=>{let h=new hm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),rm(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ve(m=>{h.component=m}),Z(()=>{})));for(let m of h.children)p.push(...l(m));return p};return Qo(l(u.targetSnapshot.root)).pipe(mr(null),Nn(1))}),rm(()=>this.afterPreactivation()),wt(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?Se(h).pipe(Z(()=>s)):Q(s)}),Z(u=>{let l=dF(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=Ee(U({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Ve(()=>{this.events.next(new Na)}),gF(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Nn(1),Ve({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new fn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),xf(this.transitionAbortSubject.pipe(Ve(u=>{throw u}))),ii(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",Nt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),gr(u=>{if(a=!0,TC(u))this.events.next(new Bn(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),pF(u)?this.events.next(new Bs(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let l=new Ra(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let h=Lt(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof xa){let{message:p,cancellationCode:m}=id(this.urlSerializer,h);this.events.next(new Bn(s.id,this.urlSerializer.serialize(s.extractedUrl),p,m)),this.events.next(new Bs(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=n.errorHandler(u);s.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return St}))}))}cancelNavigationTransition(n,r,i){let s=new Bn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function uV(t){return t!==Ca}var lV=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>x(dV),providedIn:"root"})}}return t})(),Rm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},dV=(()=>{class t extends Rm{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=og(t)))(i||t)}})()}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),PC=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>x(hV),providedIn:"root"})}}return t})(),hV=(()=>{class t extends PC{constructor(){super(...arguments),this.location=x(xs),this.urlSerializer=x(Fa),this.options=x(Ba,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=x(Pm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new $n,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=vC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof js)this.stateMemento=this.createStateMemento();else if(n instanceof xr)this.rawUrlTree=r.initialUrl;else if(n instanceof Zl){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Na?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Bn&&(n.code===Nt.GuardRejected||n.code===Nt.NoDataFromResolver)?this.restoreHistory(r):n instanceof Ra?this.restoreHistory(r,!0):n instanceof fn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof $n?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=U(U({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=U(U({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=og(t)))(i||t)}})()}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Da=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Da||{});function OC(t,e){t.events.pipe(pt(n=>n instanceof fn||n instanceof Bn||n instanceof Ra||n instanceof xr),Z(n=>n instanceof fn||n instanceof xr?Da.COMPLETE:(n instanceof Bn?n.code===Nt.Redirect||n.code===Nt.SupersededByNewNavigation:!1)?Da.REDIRECTING:Da.FAILED),pt(n=>n!==Da.REDIRECTING),Nn(1)).subscribe(()=>{e()})}function fV(t){throw t}var pV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Hn=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=x(xl),this.stateManager=x(PC),this.options=x(Ba,{optional:!0})||{},this.pendingTasks=x(Cr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=x(Om),this.urlSerializer=x(Fa),this.location=x(xs),this.urlHandlingStrategy=x(Pm),this._events=new rt,this.errorHandler=this.options.errorHandler||fV,this.navigated=!1,this.routeReuseStrategy=x(lV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=x(ka,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!x(ad,{optional:!0}),this.eventsSubscription=new Pe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Bn&&r.code!==Nt.Redirect&&r.code!==Nt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof fn)this.navigated=!0;else if(r instanceof Bs){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=U({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||uV(i.source)},o);this.scheduleNavigation(a,Ca,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}yV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ca,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=U({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Mm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=U(U({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=pC(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return gC(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=wi(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Ca,null,r)}navigate(n,r={skipLocationChange:!1}){return mV(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=U({},pV):r===!1?i=U({},gV):i=r,wi(n))return Kb(this.currentUrlTree,n,i);let s=this.parseUrl(n);return Kb(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return OC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function mV(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new z(4008,!1)}function yV(t){return!(t instanceof Na)&&!(t instanceof Bs)}var s5=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.onChanges=new rt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof fn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(wi(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:pD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return this.routerLinkInput===null?null:wi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(Ye(Hn),Ye(Pr),ag("tabindex"),Ye(ua),Ye(Fn),Ye(Un))}}static{this.\u0275dir=mi({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Ng("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&Ag("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",fa],skipLocationChange:[2,"skipLocationChange","skipLocationChange",fa],replaceUrl:[2,"replaceUrl","replaceUrl",fa],routerLink:"routerLink"},standalone:!0,features:[Cg,oa]})}}return t})();var od=class{};var vV=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(pt(n=>n instanceof fn),Rn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Ml(s.providers,n,`Route: ${s.path}`));let o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Se(i).pipe(is())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=Q(null);let s=i.pipe(Fe(o=>o===null?Q(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Se([s,o]).pipe(is())}else return s})}static{this.\u0275fac=function(r){return new(r||t)(G(Hn),G(Ol),G(yt),G(od),G(xm))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),kC=new $(""),_V=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof js?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof fn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof xr&&n.code===Jl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Xl&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Xl(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){SD()}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})();function o5(t,...e){return Et([{provide:ka,multi:!0,useValue:t},[],{provide:Pr,useFactory:LC,deps:[Hn]},{provide:da,multi:!0,useFactory:FC},e.map(n=>n.\u0275providers)])}function LC(t){return t.routerState.root}function $a(t,e){return{\u0275kind:t,\u0275providers:e}}function FC(){let t=x(qe);return e=>{let n=t.get(Ar);if(e!==n.components[0])return;let r=t.get(Hn),i=t.get(VC);t.get(km)===1&&r.initialNavigation(),t.get(UC,null,se.Optional)?.setUpPreloading(),t.get(kC,null,se.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var VC=new $("",{factory:()=>new rt}),km=new $("",{providedIn:"root",factory:()=>1});function IV(){return $a(2,[{provide:km,useValue:0},{provide:Pl,multi:!0,deps:[qe],useFactory:e=>{let n=e.get(bb,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Hn),s=e.get(VC);OC(i,()=>{r(!0)}),e.get(Om).afterPreactivation=()=>(r(!0),s.closed?Q(void 0):s),i.initialNavigation()}))}}])}function wV(){return $a(3,[{provide:Pl,multi:!0,useFactory:()=>{let e=x(Hn);return()=>{e.setUpLocationChangeListener()}}},{provide:km,useValue:2}])}var UC=new $("");function EV(t){return $a(0,[{provide:UC,useExisting:vV},{provide:od,useExisting:t}])}function TV(){return $a(8,[Zb,{provide:ad,useExisting:Zb}])}function DV(t){let e=[{provide:MC,useValue:oV},{provide:xC,useValue:U({skipNextTransition:!!t?.skipInitialTransition},t)}];return $a(9,e)}var nC=new $("ROUTER_FORROOT_GUARD"),bV=[xs,{provide:Fa,useClass:Us},Hn,Ua,{provide:Pr,useFactory:LC,deps:[Hn]},xm,[]],a5=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[bV,[],{provide:ka,multi:!0,useValue:n},{provide:nC,useFactory:RV,deps:[[Hn,new ke,new zp]]},{provide:Ba,useValue:r||{}},r?.useHash?SV():AV(),CV(),r?.preloadingStrategy?EV(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?NV(r):[],r?.bindToComponentInputs?TV().\u0275providers:[],r?.enableViewTransitions?DV().\u0275providers:[],MV()]}}static forChild(n){return{ngModule:t,providers:[{provide:ka,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(G(nC,8))}}static{this.\u0275mod=bs({type:t})}static{this.\u0275inj=Ds({})}}return t})();function CV(){return{provide:kC,useFactory:()=>{let t=x(Ab),e=x(he),n=x(Ba),r=x(Om),i=x(Fa);return n.scrollOffset&&t.setOffset(n.scrollOffset),new _V(i,r,t,e,n)}}}function SV(){return{provide:Un,useClass:Sb}}function AV(){return{provide:Un,useClass:jg}}function RV(t){return"guarded"}function NV(t){return[t.initialNavigation==="disabled"?wV().\u0275providers:[],t.initialNavigation==="enabledBlocking"?IV().\u0275providers:[]]}var rC=new $("");function MV(){return[{provide:rC,useFactory:FC},{provide:da,multi:!0,useExisting:rC}]}var qU={};PN(qU,{FirebaseError:()=>at,SDK_VERSION:()=>Zt,_DEFAULT_ENTRY_NAME:()=>Ga,_addComponent:()=>ty,_addOrOverwriteComponent:()=>OU,_apps:()=>Lr,_clearComponents:()=>kU,_components:()=>Ws,_getProvider:()=>Gn,_isFirebaseApp:()=>fS,_isFirebaseServerApp:()=>Bt,_registerComponent:()=>Jt,_removeServiceInstance:()=>hS,_serverApps:()=>Gs,deleteApp:()=>sy,getApp:()=>Wn,getApps:()=>Ka,initializeApp:()=>md,initializeServerApp:()=>pS,onLog:()=>gS,registerVersion:()=>Te,setLogLevel:()=>mS});var BC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},xV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},$C={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,o||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new Fm;let m=s<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let D=l<<6&192|p;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Fm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},PV=function(t){let e=BC(t);return $C.encodeByteArray(e,!0)},Ha=function(t){return PV(t).replace(/\./g,"")},Um=function(t){try{return $C.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function OV(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!kV(n)||(t[n]=OV(t[n],e[n]));return t}function kV(t){return t!=="__proto__"}function LV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var FV=()=>LV().__FIREBASE_DEFAULTS__,VV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},UV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Um(t[1]);return e&&JSON.parse(e)},ld=()=>{try{return FV()||VV()||UV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jm=t=>{var e,n;return(n=(e=ld())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},dd=t=>{let e=jm(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Bm=()=>{var t;return(t=ld())===null||t===void 0?void 0:t.config},$m=t=>{var e;return(e=ld())===null||e===void 0?void 0:e[`_${t}`]};var ud=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function hd(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ha(JSON.stringify(n)),Ha(JSON.stringify(o)),""].join(".")}function Ge(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function jV(){var t;let e=(t=ld())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qC(){return typeof window<"u"||Hm()}function Hm(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function zC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function WC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KC(){let t=Ge();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QC(){return!jV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qm(){try{return typeof indexedDB=="object"}catch{return!1}}function YC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var BV="FirebaseError",at=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=BV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qn.prototype.create)}},qn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?$V(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new at(i,a,r)}};function $V(t,e){return t.replace(HV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var HV=/\{\$([^}]+)}/g;function l5(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function JC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ei(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(jC(s)&&jC(o)){if(!Ei(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function jC(t){return t!==null&&typeof t=="object"}function qa(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qs(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function zs(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function ZC(t,e){let n=new Vm(t,e);return n.subscribe.bind(n)}var Vm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");qV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Lm),i.error===void 0&&(i.error=Lm),i.complete===void 0&&(i.complete=Lm);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function qV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Lm(){}var d5=4*60*60*1e3;function be(t){return t&&t._delegate?t._delegate:t}var Tt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ti="[DEFAULT]";var zm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new ud;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GV(e))try{this.getOrInitializeService({instanceIdentifier:Ti})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ti){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ti){return this.instances.has(e)}getOptions(e=Ti){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ti){return this.component?this.component.multipleInstances?e:Ti:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function zV(t){return t===Ti?void 0:t}function GV(t){return t.instantiationMode==="EAGER"}var za=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new zm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Gm=[],ce=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ce||{}),XC={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},WV=ce.INFO,KV={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},QV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=KV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},kr=class{constructor(e){this.name=e,this._logLevel=WV,this._logHandler=QV,this._userLogHandler=null,Gm.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};function eS(t){Gm.forEach(e=>{e.setLogLevel(t)})}function tS(t,e){for(let n of Gm){let r=null;e&&e.level&&(r=XC[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{let a=o.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");s>=(r??i.logLevel)&&t({level:ce[s].toLowerCase(),message:a,args:o,type:i.name})}}}var YV=(t,e)=>e.some(n=>t instanceof n),nS,rS;function JV(){return nS||(nS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZV(){return rS||(rS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var iS=new WeakMap,Km=new WeakMap,sS=new WeakMap,Wm=new WeakMap,Ym=new WeakMap;function XV(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(pn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&iS.set(n,t)}).catch(()=>{}),Ym.set(e,t),e}function eU(t){if(Km.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Km.set(t,e)}var Qm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Km.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function oS(t){Qm=t(Qm)}function tU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(fd(this),e,...n);return sS.set(r,e.sort?e.sort():[e]),pn(r)}:ZV().includes(t)?function(...e){return t.apply(fd(this),e),pn(iS.get(this))}:function(...e){return pn(t.apply(fd(this),e))}}function nU(t){return typeof t=="function"?tU(t):(t instanceof IDBTransaction&&eU(t),YV(t,JV())?new Proxy(t,Qm):t)}function pn(t){if(t instanceof IDBRequest)return XV(t);if(Wm.has(t))return Wm.get(t);let e=nU(t);return e!==t&&(Wm.set(t,e),Ym.set(e,t)),e}var fd=t=>Ym.get(t);function cS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=pn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(pn(o.result),u.oldVersion,u.newVersion,pn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var rU=["get","getKey","getAll","getAllKeys","count"],iU=["put","add","delete","clear"],Jm=new Map;function aS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jm.get(e))return Jm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=iU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||rU.includes(n)))return;let s=function(o,...a){return _(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Jm.set(e,s),s}oS(t=>Ee(U({},t),{get:(e,n,r)=>aS(e,n)||t.get(e,n,r),has:(e,n)=>!!aS(e,n)||t.has(e,n)}));var Xm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(sU(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function sU(t){let e=t.getComponent();return e?.type==="VERSION"}var pd="@firebase/app",ey="0.10.13";var zn=new kr("@firebase/app"),oU="@firebase/app-compat",aU="@firebase/analytics-compat",cU="@firebase/analytics",uU="@firebase/app-check-compat",lU="@firebase/app-check",dU="@firebase/auth",hU="@firebase/auth-compat",fU="@firebase/database",pU="@firebase/data-connect",gU="@firebase/database-compat",mU="@firebase/functions",yU="@firebase/functions-compat",vU="@firebase/installations",_U="@firebase/installations-compat",IU="@firebase/messaging",wU="@firebase/messaging-compat",EU="@firebase/performance",TU="@firebase/performance-compat",DU="@firebase/remote-config",bU="@firebase/remote-config-compat",CU="@firebase/storage",SU="@firebase/storage-compat",AU="@firebase/firestore",RU="@firebase/vertexai-preview",NU="@firebase/firestore-compat",MU="firebase",xU="10.14.1";var Ga="[DEFAULT]",PU={[pd]:"fire-core",[oU]:"fire-core-compat",[cU]:"fire-analytics",[aU]:"fire-analytics-compat",[lU]:"fire-app-check",[uU]:"fire-app-check-compat",[dU]:"fire-auth",[hU]:"fire-auth-compat",[fU]:"fire-rtdb",[pU]:"fire-data-connect",[gU]:"fire-rtdb-compat",[mU]:"fire-fn",[yU]:"fire-fn-compat",[vU]:"fire-iid",[_U]:"fire-iid-compat",[IU]:"fire-fcm",[wU]:"fire-fcm-compat",[EU]:"fire-perf",[TU]:"fire-perf-compat",[DU]:"fire-rc",[bU]:"fire-rc-compat",[CU]:"fire-gcs",[SU]:"fire-gcs-compat",[AU]:"fire-fst",[NU]:"fire-fst-compat",[RU]:"fire-vertex","fire-js":"fire-js",[MU]:"fire-js-all"};var Lr=new Map,Gs=new Map,Ws=new Map;function ty(t,e){try{t.container.addComponent(e)}catch(n){zn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function OU(t,e){t.container.addOrOverwriteComponent(e)}function Jt(t){let e=t.name;if(Ws.has(e))return zn.debug(`There were multiple attempts to register component ${e}.`),!1;Ws.set(e,t);for(let n of Lr.values())ty(n,t);for(let n of Gs.values())ty(n,t);return!0}function Gn(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hS(t,e,n=Ga){Gn(t,e).clearInstance(n)}function fS(t){return t.options!==void 0}function Bt(t){return t.settings!==void 0}function kU(){Ws.clear()}var LU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jt=new qn("app","Firebase",LU);var gd=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jt.create("app-deleted",{appName:this._name})}};var ny=class extends gd{constructor(e,n,r,i){let s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,o={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{let a=e;super(a.options,o,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},n),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Te(pd,ey,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){sy(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw jt.create("server-app-deleted")}};var Zt=xU;function md(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Ga,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw jt.create("bad-app-name",{appName:String(i)});if(n||(n=Bm()),!n)throw jt.create("no-options");let s=Lr.get(i);if(s){if(Ei(n,s.options)&&Ei(r,s.config))return s;throw jt.create("duplicate-app",{appName:i})}let o=new za(i);for(let u of Ws.values())o.addComponent(u);let a=new gd(n,r,o);return Lr.set(i,a),a}function pS(t,e){if(qC()&&!Hm())throw jt.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;fS(t)?n=t.options:n=t;let r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;let i=l=>[...l].reduce((h,p)=>Math.imul(31,h)+p.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw jt.create("finalization-registry-not-supported",{});let s=""+i(JSON.stringify(r)),o=Gs.get(s);if(o)return o.incRefCount(e.releaseOnDeref),o;let a=new za(s);for(let l of Ws.values())a.addComponent(l);let u=new ny(n,e,s,a);return Gs.set(s,u),u}function Wn(t=Ga){let e=Lr.get(t);if(!e&&t===Ga&&Bm())return md();if(!e)throw jt.create("no-app",{appName:t});return e}function Ka(){return Array.from(Lr.values())}function sy(t){return _(this,null,function*(){let e=!1,n=t.name;Lr.has(n)?(e=!0,Lr.delete(n)):Gs.has(n)&&t.decRefCount()<=0&&(Gs.delete(n),e=!0),e&&(yield Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)})}function Te(t,e,n){var r;let i=(r=PU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zn.warn(a.join(" "));return}Jt(new Tt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function gS(t,e){if(t!==null&&typeof t!="function")throw jt.create("invalid-log-argument");tS(t,e)}function mS(t){eS(t)}var FU="firebase-heartbeat-database",VU=1,Wa="firebase-heartbeat-store",Zm=null;function yS(){return Zm||(Zm=cS(FU,VU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wa)}catch(n){console.warn(n)}}}}).catch(t=>{throw jt.create("idb-open",{originalErrorMessage:t.message})})),Zm}function UU(t){return _(this,null,function*(){try{let n=(yield yS()).transaction(Wa),r=yield n.objectStore(Wa).get(vS(t));return yield n.done,r}catch(e){if(e instanceof at)zn.warn(e.message);else{let n=jt.create("idb-get",{originalErrorMessage:e?.message});zn.warn(n.message)}}})}function uS(t,e){return _(this,null,function*(){try{let r=(yield yS()).transaction(Wa,"readwrite");yield r.objectStore(Wa).put(e,vS(t)),yield r.done}catch(n){if(n instanceof at)zn.warn(n.message);else{let r=jt.create("idb-set",{originalErrorMessage:n?.message});zn.warn(r.message)}}})}function vS(t){return`${t.name}!${t.options.appId}`}var jU=1024,BU=30*24*60*60*1e3,ry=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new iy(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=lS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=BU}),this._storage.overwrite(this._heartbeatsCache))}catch(r){zn.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=lS(),{heartbeatsToSend:r,unsentEntries:i}=$U(this._heartbeatsCache.heartbeats),s=Ha(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return zn.warn(n),""}})}};function lS(){return new Date().toISOString().substring(0,10)}function $U(t,e=jU){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),dS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var iy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return qm()?YC().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield UU(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return uS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return uS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function dS(t){return Ha(JSON.stringify({version:2,heartbeats:t})).length}function HU(t){Jt(new Tt("platform-logger",e=>new Xm(e),"PRIVATE")),Jt(new Tt("heartbeat",e=>new ry(e),"PRIVATE")),Te(pd,ey,t),Te(pd,ey,"esm2017"),Te("fire-js","")}HU("");var zU="firebase",GU="10.14.1";Te(zU,GU,"app");var Kn=new Dr("ANGULARFIRE2_VERSION");function Qs(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var bi=(t,e)=>{let n=e?[e]:Ka(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Fr=class{constructor(){return bi(WU)}},WU="app-check";function Ks(){}var yd=class{zone;delegate;constructor(e,n=Sf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},oy=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ks,{},Ks,Ks)),n.pipe(Ve({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Vr=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new yd(Zone.current)),this.insideAngular=n.run(()=>new yd(Zone.current,Cf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(G(he))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function KU(t){return vd().ngZone.runOutsideAngular(()=>t())}function Di(t){return vd().ngZone.run(()=>t())}function QU(t){return YU(vd())(t)}function YU(t){return function(n){return n=n.lift(new oy(t.ngZone)),n.pipe(pr(t.outsideAngular),fr(t.insideAngular))}}var JU=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Di(()=>t.apply(void 0,r))},Ce=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Di(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ks,{},Ks,Ks))),r[s]=JU(r[s],n));let i=KU(()=>t.apply(this,r));if(!e)if(i instanceof ie){let s=vd();return i.pipe(pr(s.outsideAngular),fr(s.insideAngular))}else return Di(()=>i);return i instanceof ie?i.pipe(QU):i instanceof Promise?Di(()=>new Promise((s,o)=>i.then(a=>Di(()=>s(a)),a=>Di(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Di(()=>i)};var Xt=class{constructor(e){return e}},Qn=class{constructor(){return Ka()}};function ZU(t){return t&&t.length===1?t[0]:new Xt(Wn())}var ay=new $("angularfire2._apps"),XU={provide:Xt,useFactory:ZU,deps:[[new ke,ay]]},ej={provide:Qn,deps:[[new ke,ay]]};function tj(t){return(e,n)=>{let r=n.get(Vt);Te("angularfire",Kn.full,"core"),Te("angularfire",Kn.full,"app"),Te("angular",lb.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Xt(i)}}function $5(t,...e){return Et([XU,ej,{provide:ay,useFactory:tj(t),multi:!0,deps:[he,qe,Vr,...e]}])}var H5=Ce(md,!0);function kS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var LS=kS,FS=new qn("auth","Firebase",kS());var Dd=new kr("@firebase/auth");function nj(t,...e){Dd.logLevel<=ce.WARN&&Dd.warn(`Auth (${Zt}): ${t}`,...e)}function Id(t,...e){Dd.logLevel<=ce.ERROR&&Dd.error(`Auth (${Zt}): ${t}`,...e)}function mn(t,...e){throw Ny(t,...e)}function Ci(t,...e){return Ny(t,...e)}function VS(t,e,n){let r=Object.assign(Object.assign({},LS()),{[e]:n});return new qn("auth","Firebase",r).create(e,{appName:t.name})}function Zn(t){return VS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ny(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return FS.create(t,...e)}function K(t,e,...n){if(!t)throw Ny(e,...n)}function Yn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Id(e),new Error(e)}function jr(t,e){t||Yn(e)}function dy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function rj(){return _S()==="http:"||_S()==="https:"}function _S(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function ij(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rj()||GC()||"connection"in navigator)?navigator.onLine:!0}function sj(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Si=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,jr(n>e,"Short delay should be less than long delay!"),this.isMobile=HC()||WC()}get(){return ij()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function My(t,e){jr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var bd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var oj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var aj=new Si(3e4,6e4);function Xn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function er(s,o,a,u){return _(this,arguments,function*(t,e,n,r,i={}){return US(t,i,()=>_(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=qa(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return zC()||(y.referrerPolicy="no-referrer"),bd.fetch()(jS(t,t.config.apiHost,n,p),y)}))})}function US(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},oj),e);try{let i=new hy(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw _d(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw _d(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw _d(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw _d(t,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw VS(t,h,l);mn(t,h)}}catch(i){if(i instanceof at)throw i;mn(t,"network-request-failed",{message:String(i)})}})}function nc(s,o,a,u){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield er(t,e,n,r,i);return"mfaPendingCredential"in l&&mn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function jS(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?My(t.config,i):`${t.config.apiScheme}://${i}`}function cj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var hy=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ci(this.auth,"network-request-failed")),aj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function _d(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ci(t,e,r);return i.customData._tokenResponse=n,i}function IS(t){return t!==void 0&&t.enterprise!==void 0}var fy=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return cj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function uj(t,e){return _(this,null,function*(){return er(t,"GET","/v2/recaptchaConfig",Xn(t,e))})}function lj(t,e){return _(this,null,function*(){return er(t,"POST","/v1/accounts:delete",e)})}function BS(t,e){return _(this,null,function*(){return er(t,"POST","/v1/accounts:lookup",e)})}function Qa(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function xy(t,e=!1){return _(this,null,function*(){let n=be(t),r=yield n.getIdToken(e),i=Py(r);K(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Qa(cy(i.auth_time)),issuedAtTime:Qa(cy(i.iat)),expirationTime:Qa(cy(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function cy(t){return Number(t)*1e3}function Py(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Id("JWT malformed, contained fewer than 3 sections"),null;try{let i=Um(n);return i?JSON.parse(i):(Id("Failed to decode base64 JWT payload"),null)}catch(i){return Id("Caught error parsing JWT payload as JSON",i?.toString()),null}}function wS(t){let e=Py(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ja(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof at&&dj(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function dj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var py=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Za=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qa(this.lastLoginAt),this.creationTime=Qa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Cd(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ja(t,BS(n,{idToken:r}));K(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?$S(s.providerUserInfo):[],a=hj(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Za(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function Oy(t){return _(this,null,function*(){let e=be(t);yield Cd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function hj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function $S(t){return t.map(e=>{var{providerId:n}=e,r=Af(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function fj(t,e){return _(this,null,function*(){let n=yield US(t,{},()=>_(this,null,function*(){let r=qa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=jS(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",bd.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function pj(t,e){return _(this,null,function*(){return er(t,"POST","/v2/accounts:revokeToken",Xn(t,e))})}var Ya=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");let n=wS(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield fj(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(K(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(K(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(K(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Yn("not implemented")}};function Ur(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ys=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Af(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new py(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Za(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield Ja(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return xy(this,e)}reload(){return Oy(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Cd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(Bt(this.auth.app))return Promise.reject(Zn(this.auth));let e=yield this.getIdToken();return yield Ja(this,lj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,D=(o=n.photoURL)!==null&&o!==void 0?o:void 0,R=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,P=(l=n.createdAt)!==null&&l!==void 0?l:void 0,V=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:k,emailVerified:B,isAnonymous:ae,providerData:q,stsTokenManager:E}=n;K(k&&E,e,"internal-error");let v=Ya.fromJSON(this.name,E);K(typeof k=="string",e,"internal-error"),Ur(p,e.name),Ur(m,e.name),K(typeof B=="boolean",e,"internal-error"),K(typeof ae=="boolean",e,"internal-error"),Ur(y,e.name),Ur(D,e.name),Ur(R,e.name),Ur(S,e.name),Ur(P,e.name),Ur(V,e.name);let I=new t({uid:k,auth:e,email:m,emailVerified:B,displayName:p,isAnonymous:ae,photoURL:D,phoneNumber:y,tenantId:R,stsTokenManager:v,createdAt:P,lastLoginAt:V});return q&&Array.isArray(q)&&(I.providerData=q.map(T=>Object.assign({},T))),S&&(I._redirectEventId=S),I}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new Ya;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Cd(s),s})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];K(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?$S(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Ya;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Za(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var ES=new Map;function Jn(t){jr(t instanceof Function,"Expected a class definition");let e=ES.get(t);return e?(jr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ES.set(t,e),e)}var gj=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),gy=gj;function wd(t,e,n){return`firebase:${t}:${e}:${n}`}var Sd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=wd(this.userKey,i.apiKey,s),this.fullPersistenceKey=wd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ys._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(Jn(gy),e,r);let i=(yield Promise.all(n.map(l=>_(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Jn(gy),o=wd(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=Ys._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>_(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function TS(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KS(e))return"Blackberry";if(QS(e))return"Webos";if(qS(e))return"Safari";if((e.includes("chrome/")||zS(e))&&!e.includes("edge/"))return"Chrome";if(WS(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function HS(t=Ge()){return/firefox\//i.test(t)}function qS(t=Ge()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zS(t=Ge()){return/crios\//i.test(t)}function GS(t=Ge()){return/iemobile/i.test(t)}function WS(t=Ge()){return/android/i.test(t)}function KS(t=Ge()){return/blackberry/i.test(t)}function QS(t=Ge()){return/webos/i.test(t)}function ky(t=Ge()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function mj(t=Ge()){var e;return ky(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yj(){return KC()&&document.documentMode===10}function YS(t=Ge()){return ky(t)||WS(t)||QS(t)||KS(t)||/windows phone/i.test(t)||GS(t)}function JS(t,e=[]){let n;switch(t){case"Browser":n=TS(Ge());break;case"Worker":n=`${TS(Ge())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zt}/${r}`}var my=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function vj(n){return _(this,arguments,function*(t,e={}){return er(t,"GET","/v2/passwordPolicy",Xn(t,e))})}var _j=6,yy=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:_j,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var vy=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ad(this),this.idTokenSubscription=new Ad(this),this.beforeStateQueue=new my(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Jn(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Sd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield BS(this,{idToken:e}),r=yield Ys._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(Bt(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Cd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=sj()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(Bt(this.app))return Promise.reject(Zn(this));let n=e?be(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return Bt(this.app)?Promise.reject(Zn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Bt(this.app)?Promise.reject(Zn(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Jn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield vj(this),n=new yy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new qn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield pj(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Jn(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=yield Sd.create(this,[Jn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&nj(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Ri(t){return be(t)}var Ad=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZC(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var kd={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ij(t){kd=t}function ZS(t){return kd.loadJS(t)}function wj(){return kd.recaptchaEnterpriseScript}function Ej(){return kd.gapiScript}function XS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Tj="recaptcha-enterprise",Dj="NO_RECAPTCHA",_y=class{constructor(e){this.type=Tj,this.auth=Ri(e)}verify(e="verify",n=!1){return _(this,null,function*(){function r(s){return _(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>_(this,null,function*(){uj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new fy(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;IS(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(Dj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&IS(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=wj();u.length!==0&&(u+=a),ZS(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function DS(t,e,n,r=!1){return _(this,null,function*(){let i=new _y(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Iy(t,e,n,r){return _(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield DS(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>_(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield DS(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function Ly(t,e){let n=Gn(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Ei(s,e??{}))return i;mn(i,"already-initialized")}return n.initialize({options:e})}function bj(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Jn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Fy(t,e,n){let r=Ri(t);K(r._canInitEmulator,r,"emulator-config-failed"),K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=e0(e),{host:o,port:a}=Cj(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Sj()}function e0(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Cj(t){let e=e0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:bS(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:bS(o)}}}function bS(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Sj(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Xa=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yn("not implemented")}_getIdTokenResponse(e){return Yn("not implemented")}_linkToIdToken(e,n){return Yn("not implemented")}_getReauthenticationResolver(e){return Yn("not implemented")}};function Aj(t,e){return _(this,null,function*(){return er(t,"POST","/v1/accounts:signUp",e)})}function Rj(t,e){return _(this,null,function*(){return nc(t,"POST","/v1/accounts:signInWithPassword",Xn(t,e))})}function Nj(t,e){return _(this,null,function*(){return er(t,"POST","/v1/accounts:sendOobCode",Xn(t,e))})}function Mj(t,e){return _(this,null,function*(){return Nj(t,e)})}function xj(t,e){return _(this,null,function*(){return nc(t,"POST","/v1/accounts:signInWithEmailLink",Xn(t,e))})}function Pj(t,e){return _(this,null,function*(){return nc(t,"POST","/v1/accounts:signInWithEmailLink",Xn(t,e))})}var ec=class t extends Xa{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Iy(e,n,"signInWithPassword",Rj);case"emailLink":return xj(e,{email:this._email,oobCode:this._password});default:mn(e,"internal-error")}})}_linkToIdToken(e,n){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Iy(e,r,"signUpPassword",Aj);case"emailLink":return Pj(e,{idToken:n,email:this._email,oobCode:this._password});default:mn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function uy(t,e){return _(this,null,function*(){return nc(t,"POST","/v1/accounts:signInWithIdp",Xn(t,e))})}function Oj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kj(t){let e=qs(zs(t)).link,n=e?qs(zs(e)).deep_link_id:null,r=qs(zs(t)).deep_link_id;return(r?qs(zs(r)).link:null)||r||n||e||t}var Rd=class t{constructor(e){var n,r,i,s,o,a;let u=qs(zs(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=Oj((i=u.mode)!==null&&i!==void 0?i:null);K(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=kj(e);try{return new t(n)}catch{return null}}};var t0=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return ec._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Rd.parseLink(r);return K(i,"argument-error"),ec._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Nd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var wy=class extends Nd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function Lj(t,e){return _(this,null,function*(){return nc(t,"POST","/v1/accounts:signUp",Xn(t,e))})}var Js=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let s=yield Ys._fromIdTokenResponse(e,r,i),o=CS(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=CS(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function CS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Ey=class t extends at{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function n0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ey._fromErrorAndOperation(t,s,e,r):s})}function Fj(t,e,n=!1){return _(this,null,function*(){let r=yield Ja(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Js._forOperation(t,"link",r)})}function Vj(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(Bt(r.app))return Promise.reject(Zn(r));let i="reauthenticate";try{let s=yield Ja(t,n0(r,i,e,t),n);K(s.idToken,r,"internal-error");let o=Py(s.idToken);K(o,r,"internal-error");let{sub:a}=o;return K(t.uid===a,r,"user-mismatch"),Js._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&mn(r,"user-mismatch"),s}})}function r0(t,e,n=!1){return _(this,null,function*(){if(Bt(t.app))return Promise.reject(Zn(t));let r="signIn",i=yield n0(t,r,e),s=yield Js._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Vy(t,e){return _(this,null,function*(){return r0(Ri(t),e)})}function Uj(t,e,n){var r;K(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),K(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(K(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(K(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function i0(t){return _(this,null,function*(){let e=Ri(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Uy(t,e,n){return _(this,null,function*(){if(Bt(t.app))return Promise.reject(Zn(t));let r=Ri(t),o=yield Iy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Lj).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&i0(t),u}),a=yield Js._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function jy(t,e,n){return Bt(t.app)?Promise.reject(Zn(t)):Vy(be(t),t0.credential(e,n)).catch(r=>_(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&i0(t),r}))}function By(t,e){return _(this,null,function*(){let n=be(t),i={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&Uj(n.auth,i,e);let{email:s}=yield Mj(n.auth,i);s!==t.email&&(yield t.reload())})}function $y(t,e,n,r){return be(t).onIdTokenChanged(e,n,r)}function Hy(t,e,n){return be(t).beforeAuthStateChanged(e,n)}var Md="__sak";var xd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Md,"1"),this.storage.removeItem(Md),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var jj=1e3,Bj=10,$j=(()=>{class t extends xd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YS(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);yj()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,Bj):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},jj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield dr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield dr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield dr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),s0=$j;var Hj=(()=>{class t extends xd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),qy=Hj;function qj(t){return Promise.all(t.map(e=>_(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var zj=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,o)})),l=yield qj(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function o0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Ty=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=o0("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function gn(){return window}function Gj(t){gn().location.href=t}function a0(){return typeof gn().WorkerGlobalScope<"u"&&typeof gn().importScripts=="function"}function Wj(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Kj(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Qj(){return a0()?self:null}var c0="firebaseLocalStorageDb",Yj=1,Pd="firebaseLocalStorage",u0="fbase_key",Ai=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Ld(t,e){return t.transaction([Pd],e?"readwrite":"readonly").objectStore(Pd)}function Jj(){let t=indexedDB.deleteDatabase(c0);return new Ai(t).toPromise()}function Dy(){let t=indexedDB.open(c0,Yj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Pd,{keyPath:u0})}catch(i){n(i)}}),t.addEventListener("success",()=>_(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Pd)?e(r):(r.close(),yield Jj(),e(yield Dy()))}))})}function SS(t,e,n){return _(this,null,function*(){let r=Ld(t,!0).put({[u0]:e,value:n});return new Ai(r).toPromise()})}function Zj(t,e){return _(this,null,function*(){let n=Ld(t,!1).get(e),r=yield new Ai(n).toPromise();return r===void 0?null:r.value})}function AS(t,e){let n=Ld(t,!0).delete(e);return new Ai(n).toPromise()}var Xj=800,e2=3,t2=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield Dy(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>e2)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return a0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=zj._getInstance(Qj()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield Wj(),!this.activeServiceWorker)return;this.sender=new Ty(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Kj()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Dy();return yield SS(n,Md,"1"),yield AS(n,Md),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>SS(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>Zj(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>AS(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(s=>{let o=Ld(s,!1).getAll();return new Ai(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),Xj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),l0=t2;var J5=XS("rcb"),Z5=new Si(3e4,6e4);function n2(t,e){return e?Jn(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var tc=class extends Xa{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uy(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uy(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uy(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function r2(t){return r0(t.auth,new tc(t),t.bypassAuthState)}function i2(t){let{auth:e,user:n}=t;return K(n,e,"internal-error"),Vj(n,new tc(t),t.bypassAuthState)}function s2(t){return _(this,null,function*(){let{auth:e,user:n}=t;return K(n,e,"internal-error"),Fj(n,new tc(t),t.bypassAuthState)})}var by=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return r2;case"linkViaPopup":case"linkViaRedirect":return s2;case"reauthViaPopup":case"reauthViaRedirect":return i2;default:mn(this.auth,"internal-error")}}resolve(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var X5=new Si(2e3,1e4);var o2="pendingRedirect",Ed=new Map,Cy=class t extends by{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=Ed.get(this.auth._key());if(!e){try{let r=(yield a2(this.resolver,this.auth))?yield dr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ed.set(this.auth._key(),e)}return this.bypassAuthState||Ed.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return dr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,dr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function a2(t,e){return _(this,null,function*(){let n=l2(e),r=u2(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function c2(t,e){Ed.set(t._key(),e)}function u2(t){return Jn(t._redirectPersistence)}function l2(t){return wd(o2,t.config.apiKey,t.name)}function d2(t,e,n=!1){return _(this,null,function*(){if(Bt(t.app))return Promise.reject(Zn(t));let r=Ri(t),i=n2(r,e),o=yield new Cy(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var h2=10*60*1e3,Sy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!f2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!d0(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ci(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=h2&&this.cachedEventUids.clear(),this.cachedEventUids.has(RS(e))}saveEventToCache(e){this.cachedEventUids.add(RS(e)),this.lastProcessedEventTime=Date.now()}};function RS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function d0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function f2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return d0(t);default:return!1}}function p2(n){return _(this,arguments,function*(t,e={}){return er(t,"GET","/v1/projects",e)})}var g2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,m2=/^https?/;function y2(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield p2(t);for(let n of e)try{if(v2(n))return}catch{}mn(t,"unauthorized-domain")})}function v2(t){let e=dy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!m2.test(n))return!1;if(g2.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var _2=new Si(3e4,6e4);function NS(){let t=gn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function I2(t){return new Promise((e,n)=>{var r,i,s;function o(){NS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{NS(),n(Ci(t,"network-request-failed"))},timeout:_2.get()})}if(!((i=(r=gn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=gn().gapi)===null||s===void 0)&&s.load)o();else{let a=XS("iframefcb");return gn()[a]=()=>{gapi.load?o():n(Ci(t,"network-request-failed"))},ZS(`${Ej()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Td=null,e})}var Td=null;function w2(t){return Td=Td||I2(t),Td}var E2=new Si(5e3,15e3),T2="__/auth/iframe",D2="emulator/auth/iframe",b2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},C2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function S2(t){let e=t.config;K(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?My(e,D2):`https://${t.config.authDomain}/${T2}`,r={apiKey:e.apiKey,appName:t.name,v:Zt},i=C2.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${qa(r).slice(1)}`}function A2(t){return _(this,null,function*(){let e=yield w2(t),n=gn().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:S2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:b2,dontclear:!0},r=>new Promise((i,s)=>_(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Ci(t,"network-request-failed"),a=gn().setTimeout(()=>{s(o)},E2.get());function u(){gn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var R2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},N2=500,M2=600,x2="_blank",P2="http://localhost",Od=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function O2(t,e,n,r=N2,i=M2){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},R2),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Ge().toLowerCase();n&&(a=zS(l)?x2:n),HS(l)&&(e=e||P2,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,D])=>`${m}${y}=${D},`,"");if(mj(l)&&a!=="_self")return k2(e||"",a),new Od(null);let p=window.open(e||"",a,h);K(p,t,"popup-blocked");try{p.focus()}catch{}return new Od(p)}function k2(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var L2="__/auth/handler",F2="emulator/auth/handler",V2=encodeURIComponent("fac");function MS(t,e,n,r,i,s){return _(this,null,function*(){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Zt,eventId:i};if(e instanceof Nd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",JC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof wy){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${V2}=${encodeURIComponent(u)}`:"";return`${U2(t)}?${qa(a).slice(1)}${l}`})}function U2({config:t}){return t.emulator?My(t,F2):`https://${t.authDomain}/${L2}`}var ly="webStorageSupport",Ay=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qy,this._completeRedirectFn=d2,this._overrideRedirectResult=c2}_openPopup(e,n,r,i){return _(this,null,function*(){var s;jr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield MS(e,n,r,dy(),i);return O2(e,o,o0())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let s=yield MS(e,n,r,dy(),i);return Gj(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(jr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield A2(e),r=new Sy(e);return n.register("authEvent",i=>(K(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ly,{type:ly},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[ly];o!==void 0&&n(!!o),mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=y2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return YS()||qS()||ky()}},h0=Ay;var xS="@firebase/auth",PS="1.7.9";var Ry=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function j2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function B2(t){Jt(new Tt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;K(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JS(t)},l=new vy(r,i,s,u);return bj(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Jt(new Tt("auth-internal",e=>{let n=Ri(e.getProvider("auth").getImmediate());return(r=>new Ry(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Te(xS,PS,j2(t)),Te(xS,PS,"esm2017")}var $2=5*60,H2=$m("authIdTokenMaxAge")||$2,OS=null,q2=t=>e=>_(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>H2)return;let i=n?.token;OS!==i&&(OS=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function zy(t=Wn()){let e=Gn(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Ly(t,{popupRedirectResolver:h0,persistence:[l0,s0,qy]}),r=$m("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=q2(s.toString());Hy(n,o,()=>o(n.currentUser)),$y(n,a=>o(a))}}let i=jm("auth");return i&&Fy(n,`http://${i}`),n}function z2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Ij({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Ci("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",z2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});B2("Browser");var f0="auth",rc=class{constructor(e){return e}},Ni=class{constructor(){return bi(f0)}};var Gy=new $("angularfire2.auth-instances");function kB(t,e){let n=Qs(f0,t,e);return n&&new rc(n)}function LB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new rc(r)}}var FB={provide:Ni,deps:[[new ke,Gy]]},VB={provide:rc,useFactory:kB,deps:[[new ke,Gy],Xt]};function LK(t,...e){return Te("angularfire",Kn.full,"auth"),Et([VB,FB,{provide:Gy,useFactory:LB(t),multi:!0,deps:[he,qe,Vr,Qn,[new ke,Fr],...e]}])}var FK=Ce(Uy,!0);var VK=Ce(zy,!0);var UK=Ce(By,!0);var jK=Ce(jy,!0);var p0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},g0={};var Br,Wy;(function(){var t;function e(E,v){function I(){}I.prototype=v.prototype,E.D=v.prototype,E.prototype=new I,E.prototype.constructor=E,E.C=function(T,b,A){for(var w=Array(arguments.length-2),Dn=2;Dn<arguments.length;Dn++)w[Dn-2]=arguments[Dn];return v.prototype[b].apply(T,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,I){I||(I=0);var T=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)T[b]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(b=0;16>b;++b)T[b]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=E.g[0],I=E.g[1],b=E.g[2];var A=E.g[3],w=v+(A^I&(b^A))+T[0]+3614090360&4294967295;v=I+(w<<7&4294967295|w>>>25),w=A+(b^v&(I^b))+T[1]+3905402710&4294967295,A=v+(w<<12&4294967295|w>>>20),w=b+(I^A&(v^I))+T[2]+606105819&4294967295,b=A+(w<<17&4294967295|w>>>15),w=I+(v^b&(A^v))+T[3]+3250441966&4294967295,I=b+(w<<22&4294967295|w>>>10),w=v+(A^I&(b^A))+T[4]+4118548399&4294967295,v=I+(w<<7&4294967295|w>>>25),w=A+(b^v&(I^b))+T[5]+1200080426&4294967295,A=v+(w<<12&4294967295|w>>>20),w=b+(I^A&(v^I))+T[6]+2821735955&4294967295,b=A+(w<<17&4294967295|w>>>15),w=I+(v^b&(A^v))+T[7]+4249261313&4294967295,I=b+(w<<22&4294967295|w>>>10),w=v+(A^I&(b^A))+T[8]+1770035416&4294967295,v=I+(w<<7&4294967295|w>>>25),w=A+(b^v&(I^b))+T[9]+2336552879&4294967295,A=v+(w<<12&4294967295|w>>>20),w=b+(I^A&(v^I))+T[10]+4294925233&4294967295,b=A+(w<<17&4294967295|w>>>15),w=I+(v^b&(A^v))+T[11]+2304563134&4294967295,I=b+(w<<22&4294967295|w>>>10),w=v+(A^I&(b^A))+T[12]+1804603682&4294967295,v=I+(w<<7&4294967295|w>>>25),w=A+(b^v&(I^b))+T[13]+4254626195&4294967295,A=v+(w<<12&4294967295|w>>>20),w=b+(I^A&(v^I))+T[14]+2792965006&4294967295,b=A+(w<<17&4294967295|w>>>15),w=I+(v^b&(A^v))+T[15]+1236535329&4294967295,I=b+(w<<22&4294967295|w>>>10),w=v+(b^A&(I^b))+T[1]+4129170786&4294967295,v=I+(w<<5&4294967295|w>>>27),w=A+(I^b&(v^I))+T[6]+3225465664&4294967295,A=v+(w<<9&4294967295|w>>>23),w=b+(v^I&(A^v))+T[11]+643717713&4294967295,b=A+(w<<14&4294967295|w>>>18),w=I+(A^v&(b^A))+T[0]+3921069994&4294967295,I=b+(w<<20&4294967295|w>>>12),w=v+(b^A&(I^b))+T[5]+3593408605&4294967295,v=I+(w<<5&4294967295|w>>>27),w=A+(I^b&(v^I))+T[10]+38016083&4294967295,A=v+(w<<9&4294967295|w>>>23),w=b+(v^I&(A^v))+T[15]+3634488961&4294967295,b=A+(w<<14&4294967295|w>>>18),w=I+(A^v&(b^A))+T[4]+3889429448&4294967295,I=b+(w<<20&4294967295|w>>>12),w=v+(b^A&(I^b))+T[9]+568446438&4294967295,v=I+(w<<5&4294967295|w>>>27),w=A+(I^b&(v^I))+T[14]+3275163606&4294967295,A=v+(w<<9&4294967295|w>>>23),w=b+(v^I&(A^v))+T[3]+4107603335&4294967295,b=A+(w<<14&4294967295|w>>>18),w=I+(A^v&(b^A))+T[8]+1163531501&4294967295,I=b+(w<<20&4294967295|w>>>12),w=v+(b^A&(I^b))+T[13]+2850285829&4294967295,v=I+(w<<5&4294967295|w>>>27),w=A+(I^b&(v^I))+T[2]+4243563512&4294967295,A=v+(w<<9&4294967295|w>>>23),w=b+(v^I&(A^v))+T[7]+1735328473&4294967295,b=A+(w<<14&4294967295|w>>>18),w=I+(A^v&(b^A))+T[12]+2368359562&4294967295,I=b+(w<<20&4294967295|w>>>12),w=v+(I^b^A)+T[5]+4294588738&4294967295,v=I+(w<<4&4294967295|w>>>28),w=A+(v^I^b)+T[8]+2272392833&4294967295,A=v+(w<<11&4294967295|w>>>21),w=b+(A^v^I)+T[11]+1839030562&4294967295,b=A+(w<<16&4294967295|w>>>16),w=I+(b^A^v)+T[14]+4259657740&4294967295,I=b+(w<<23&4294967295|w>>>9),w=v+(I^b^A)+T[1]+2763975236&4294967295,v=I+(w<<4&4294967295|w>>>28),w=A+(v^I^b)+T[4]+1272893353&4294967295,A=v+(w<<11&4294967295|w>>>21),w=b+(A^v^I)+T[7]+4139469664&4294967295,b=A+(w<<16&4294967295|w>>>16),w=I+(b^A^v)+T[10]+3200236656&4294967295,I=b+(w<<23&4294967295|w>>>9),w=v+(I^b^A)+T[13]+681279174&4294967295,v=I+(w<<4&4294967295|w>>>28),w=A+(v^I^b)+T[0]+3936430074&4294967295,A=v+(w<<11&4294967295|w>>>21),w=b+(A^v^I)+T[3]+3572445317&4294967295,b=A+(w<<16&4294967295|w>>>16),w=I+(b^A^v)+T[6]+76029189&4294967295,I=b+(w<<23&4294967295|w>>>9),w=v+(I^b^A)+T[9]+3654602809&4294967295,v=I+(w<<4&4294967295|w>>>28),w=A+(v^I^b)+T[12]+3873151461&4294967295,A=v+(w<<11&4294967295|w>>>21),w=b+(A^v^I)+T[15]+530742520&4294967295,b=A+(w<<16&4294967295|w>>>16),w=I+(b^A^v)+T[2]+3299628645&4294967295,I=b+(w<<23&4294967295|w>>>9),w=v+(b^(I|~A))+T[0]+4096336452&4294967295,v=I+(w<<6&4294967295|w>>>26),w=A+(I^(v|~b))+T[7]+1126891415&4294967295,A=v+(w<<10&4294967295|w>>>22),w=b+(v^(A|~I))+T[14]+2878612391&4294967295,b=A+(w<<15&4294967295|w>>>17),w=I+(A^(b|~v))+T[5]+4237533241&4294967295,I=b+(w<<21&4294967295|w>>>11),w=v+(b^(I|~A))+T[12]+1700485571&4294967295,v=I+(w<<6&4294967295|w>>>26),w=A+(I^(v|~b))+T[3]+2399980690&4294967295,A=v+(w<<10&4294967295|w>>>22),w=b+(v^(A|~I))+T[10]+4293915773&4294967295,b=A+(w<<15&4294967295|w>>>17),w=I+(A^(b|~v))+T[1]+2240044497&4294967295,I=b+(w<<21&4294967295|w>>>11),w=v+(b^(I|~A))+T[8]+1873313359&4294967295,v=I+(w<<6&4294967295|w>>>26),w=A+(I^(v|~b))+T[15]+4264355552&4294967295,A=v+(w<<10&4294967295|w>>>22),w=b+(v^(A|~I))+T[6]+2734768916&4294967295,b=A+(w<<15&4294967295|w>>>17),w=I+(A^(b|~v))+T[13]+1309151649&4294967295,I=b+(w<<21&4294967295|w>>>11),w=v+(b^(I|~A))+T[4]+4149444226&4294967295,v=I+(w<<6&4294967295|w>>>26),w=A+(I^(v|~b))+T[11]+3174756917&4294967295,A=v+(w<<10&4294967295|w>>>22),w=b+(v^(A|~I))+T[2]+718787259&4294967295,b=A+(w<<15&4294967295|w>>>17),w=I+(A^(b|~v))+T[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(b+(w<<21&4294967295|w>>>11))&4294967295,E.g[2]=E.g[2]+b&4294967295,E.g[3]=E.g[3]+A&4294967295}r.prototype.u=function(E,v){v===void 0&&(v=E.length);for(var I=v-this.blockSize,T=this.B,b=this.h,A=0;A<v;){if(b==0)for(;A<=I;)i(this,E,A),A+=this.blockSize;if(typeof E=="string"){for(;A<v;)if(T[b++]=E.charCodeAt(A++),b==this.blockSize){i(this,T),b=0;break}}else for(;A<v;)if(T[b++]=E[A++],b==this.blockSize){i(this,T),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;var I=8*this.o;for(v=E.length-8;v<E.length;++v)E[v]=I&255,I/=256;for(this.u(E),E=Array(16),v=I=0;4>v;++v)for(var T=0;32>T;T+=8)E[I++]=this.g[v]>>>T&255;return E};function s(E,v){var I=a;return Object.prototype.hasOwnProperty.call(I,E)?I[E]:I[E]=v(E)}function o(E,v){this.h=v;for(var I=[],T=!0,b=E.length-1;0<=b;b--){var A=E[b]|0;T&&A==v||(I[b]=A,T=!1)}this.g=I}var a={};function u(E){return-128<=E&&128>E?s(E,function(v){return new o([v|0],0>v?-1:0)}):new o([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return S(l(-E));for(var v=[],I=1,T=0;E>=I;T++)v[T]=E/I|0,I*=4294967296;return new o(v,0)}function h(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return S(h(E.substring(1),v));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),T=p,b=0;b<E.length;b+=8){var A=Math.min(8,E.length-b),w=parseInt(E.substring(b,b+A),v);8>A?(A=l(Math.pow(v,A)),T=T.j(A).add(l(w))):(T=T.j(I),T=T.add(l(w)))}return T}var p=u(0),m=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(R(this))return-S(this).m();for(var E=0,v=1,I=0;I<this.g.length;I++){var T=this.i(I);E+=(0<=T?T:4294967296+T)*v,v*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(D(this))return"0";if(R(this))return"-"+S(this).toString(E);for(var v=l(Math.pow(E,6)),I=this,T="";;){var b=B(I,v).g;I=P(I,b.j(v));var A=((0<I.g.length?I.g[0]:I.h)>>>0).toString(E);if(I=b,D(I))return A+T;for(;6>A.length;)A="0"+A;T=A+T}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function D(E){if(E.h!=0)return!1;for(var v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function R(E){return E.h==-1}t.l=function(E){return E=P(this,E),R(E)?-1:D(E)?0:1};function S(E){for(var v=E.g.length,I=[],T=0;T<v;T++)I[T]=~E.g[T];return new o(I,~E.h).add(m)}t.abs=function(){return R(this)?S(this):this},t.add=function(E){for(var v=Math.max(this.g.length,E.g.length),I=[],T=0,b=0;b<=v;b++){var A=T+(this.i(b)&65535)+(E.i(b)&65535),w=(A>>>16)+(this.i(b)>>>16)+(E.i(b)>>>16);T=w>>>16,A&=65535,w&=65535,I[b]=w<<16|A}return new o(I,I[I.length-1]&-2147483648?-1:0)};function P(E,v){return E.add(S(v))}t.j=function(E){if(D(this)||D(E))return p;if(R(this))return R(E)?S(this).j(S(E)):S(S(this).j(E));if(R(E))return S(this.j(S(E)));if(0>this.l(y)&&0>E.l(y))return l(this.m()*E.m());for(var v=this.g.length+E.g.length,I=[],T=0;T<2*v;T++)I[T]=0;for(T=0;T<this.g.length;T++)for(var b=0;b<E.g.length;b++){var A=this.i(T)>>>16,w=this.i(T)&65535,Dn=E.i(b)>>>16,Co=E.i(b)&65535;I[2*T+2*b]+=w*Co,V(I,2*T+2*b),I[2*T+2*b+1]+=A*Co,V(I,2*T+2*b+1),I[2*T+2*b+1]+=w*Dn,V(I,2*T+2*b+1),I[2*T+2*b+2]+=A*Dn,V(I,2*T+2*b+2)}for(T=0;T<v;T++)I[T]=I[2*T+1]<<16|I[2*T];for(T=v;T<2*v;T++)I[T]=0;return new o(I,0)};function V(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function k(E,v){this.g=E,this.h=v}function B(E,v){if(D(v))throw Error("division by zero");if(D(E))return new k(p,p);if(R(E))return v=B(S(E),v),new k(S(v.g),S(v.h));if(R(v))return v=B(E,S(v)),new k(S(v.g),v.h);if(30<E.g.length){if(R(E)||R(v))throw Error("slowDivide_ only works with positive integers.");for(var I=m,T=v;0>=T.l(E);)I=ae(I),T=ae(T);var b=q(I,1),A=q(T,1);for(T=q(T,2),I=q(I,2);!D(T);){var w=A.add(T);0>=w.l(E)&&(b=b.add(I),A=w),T=q(T,1),I=q(I,1)}return v=P(E,b.j(v)),new k(b,v)}for(b=p;0<=E.l(v);){for(I=Math.max(1,Math.floor(E.m()/v.m())),T=Math.ceil(Math.log(I)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),A=l(I),w=A.j(v);R(w)||0<w.l(E);)I-=T,A=l(I),w=A.j(v);D(A)&&(A=m),b=b.add(A),E=P(E,w)}return new k(b,E)}t.A=function(E){return B(this,E).h},t.and=function(E){for(var v=Math.max(this.g.length,E.g.length),I=[],T=0;T<v;T++)I[T]=this.i(T)&E.i(T);return new o(I,this.h&E.h)},t.or=function(E){for(var v=Math.max(this.g.length,E.g.length),I=[],T=0;T<v;T++)I[T]=this.i(T)|E.i(T);return new o(I,this.h|E.h)},t.xor=function(E){for(var v=Math.max(this.g.length,E.g.length),I=[],T=0;T<v;T++)I[T]=this.i(T)^E.i(T);return new o(I,this.h^E.h)};function ae(E){for(var v=E.g.length+1,I=[],T=0;T<v;T++)I[T]=E.i(T)<<1|E.i(T-1)>>>31;return new o(I,E.h)}function q(E,v){var I=v>>5;v%=32;for(var T=E.g.length-I,b=[],A=0;A<T;A++)b[A]=0<v?E.i(A+I)>>>v|E.i(A+I+1)<<32-v:E.i(A+I);return new o(b,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Wy=g0.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,Br=g0.Integer=o}).apply(typeof p0<"u"?p0:typeof self<"u"?self:typeof window<"u"?window:{});var Fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tr={};var Ky,UB,Zs,Qy,ic,Vd,Yy,Jy,Zy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fd=="object"&&Fd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var C=c[g];if(!(C in f))break e;f=f[C]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,g=!1,C={next:function(){if(!g&&f<c.length){var N=f++;return{value:d(N,c[N]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function D(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,C,N){for(var L=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)L[Ie-2]=arguments[Ie];return d.prototype[C].apply(g,L)}}function R(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function S(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=c.length||0,N=g.length||0;c.length=C+N;for(let L=0;L<N;L++)c[C+L]=g[L]}else c.push(g)}}class P{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function V(c){return/^[\s\xa0]*$/.test(c)}function k(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function B(c){return B[" "](c),c}B[" "]=function(){};var ae=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function q(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(c,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)c[f]=g[f];for(let N=0;N<I.length;N++)f=I[N],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function A(c){a.setTimeout(()=>{throw c},0)}function w(){var c=Vh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Dn{constructor(){this.h=this.g=null}add(d,f){let g=Co.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Co=new P(()=>new WR,c=>c.reset());class WR{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let So,Ao=!1,Vh=new Dn,_I=()=>{let c=a.Promise.resolve(void 0);So=()=>{c.then(KR)}};var KR=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){A(f)}var d=Co;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ao=!1};function ar(){this.s=this.s,this.C=this.C}ar.prototype.s=!1,ar.prototype.ma=function(){this.s||(this.s=!0,this.N())},ar.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Xe(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Xe.prototype.h=function(){this.defaultPrevented=!0};var QR=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Ro(c,d){if(Xe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(ae){e:{try{B(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:YR[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ro.aa.h.call(this)}}D(Ro,Xe);var YR={2:"touch",3:"pen",4:"mouse"};Ro.prototype.h=function(){Ro.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var No="closure_listenable_"+(1e6*Math.random()|0),JR=0;function ZR(c,d,f,g,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++JR,this.da=this.fa=!1}function Uc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function jc(c){this.src=c,this.g={},this.h=0}jc.prototype.add=function(c,d,f,g,C){var N=c.toString();c=this.g[N],c||(c=this.g[N]=[],this.h++);var L=jh(c,d,g,C);return-1<L?(d=c[L],f||(d.fa=!1)):(d=new ZR(d,this.src,N,!!g,C),d.fa=f,c.push(d)),d};function Uh(c,d){var f=d.type;if(f in c.g){var g=c.g[f],C=Array.prototype.indexOf.call(g,d,void 0),N;(N=0<=C)&&Array.prototype.splice.call(g,C,1),N&&(Uc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function jh(c,d,f,g){for(var C=0;C<c.length;++C){var N=c[C];if(!N.da&&N.listener==d&&N.capture==!!f&&N.ha==g)return C}return-1}var Bh="closure_lm_"+(1e6*Math.random()|0),$h={};function II(c,d,f,g,C){if(g&&g.once)return EI(c,d,f,g,C);if(Array.isArray(d)){for(var N=0;N<d.length;N++)II(c,d[N],f,g,C);return null}return f=Gh(f),c&&c[No]?c.K(d,f,l(g)?!!g.capture:!!g,C):wI(c,d,f,!1,g,C)}function wI(c,d,f,g,C,N){if(!d)throw Error("Invalid event type");var L=l(C)?!!C.capture:!!C,Ie=qh(c);if(Ie||(c[Bh]=Ie=new jc(c)),f=Ie.add(d,f,g,L,N),f.proxy)return f;if(g=XR(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)QR||(C=L),C===void 0&&(C=!1),c.addEventListener(d.toString(),g,C);else if(c.attachEvent)c.attachEvent(DI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function XR(){function c(f){return d.call(c.src,c.listener,f)}let d=eN;return c}function EI(c,d,f,g,C){if(Array.isArray(d)){for(var N=0;N<d.length;N++)EI(c,d[N],f,g,C);return null}return f=Gh(f),c&&c[No]?c.L(d,f,l(g)?!!g.capture:!!g,C):wI(c,d,f,!0,g,C)}function TI(c,d,f,g,C){if(Array.isArray(d))for(var N=0;N<d.length;N++)TI(c,d[N],f,g,C);else g=l(g)?!!g.capture:!!g,f=Gh(f),c&&c[No]?(c=c.i,d=String(d).toString(),d in c.g&&(N=c.g[d],f=jh(N,f,g,C),-1<f&&(Uc(N[f]),Array.prototype.splice.call(N,f,1),N.length==0&&(delete c.g[d],c.h--)))):c&&(c=qh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=jh(d,f,g,C)),(f=-1<c?d[c]:null)&&Hh(f))}function Hh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[No])Uh(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(DI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=qh(d))?(Uh(f,c),f.h==0&&(f.src=null,d[Bh]=null)):Uc(c)}}}function DI(c){return c in $h?$h[c]:$h[c]="on"+c}function eN(c,d){if(c.da)c=!0;else{d=new Ro(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Hh(c),c=f.call(g,d)}return c}function qh(c){return c=c[Bh],c instanceof jc?c:null}var zh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gh(c){return typeof c=="function"?c:(c[zh]||(c[zh]=function(d){return c.handleEvent(d)}),c[zh])}function et(){ar.call(this),this.i=new jc(this),this.M=this,this.F=null}D(et,ar),et.prototype[No]=!0,et.prototype.removeEventListener=function(c,d,f,g){TI(this,c,d,f,g)};function ht(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new Xe(d,c);else if(d instanceof Xe)d.target=d.target||c;else{var C=d;d=new Xe(g,c),T(d,C)}if(C=!0,f)for(var N=f.length-1;0<=N;N--){var L=d.g=f[N];C=Bc(L,g,!0,d)&&C}if(L=d.g=c,C=Bc(L,g,!0,d)&&C,C=Bc(L,g,!1,d)&&C,f)for(N=0;N<f.length;N++)L=d.g=f[N],C=Bc(L,g,!1,d)&&C}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Uc(f[g]);delete c.g[d],c.h--}}this.F=null},et.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},et.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Bc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,N=0;N<d.length;++N){var L=d[N];if(L&&!L.da&&L.capture==f){var Ie=L.listener,Ke=L.ha||L.src;L.fa&&Uh(c.i,L),C=Ie.call(Ke,g)!==!1&&C}}return C&&!g.defaultPrevented}function bI(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function CI(c){c.g=bI(()=>{c.g=null,c.i&&(c.i=!1,CI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class tN extends ar{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:CI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mo(c){ar.call(this),this.h=c,this.g={}}D(Mo,ar);var SI=[];function AI(c){q(c.g,function(d,f){this.g.hasOwnProperty(f)&&Hh(d)},c),c.g={}}Mo.prototype.N=function(){Mo.aa.N.call(this),AI(this)},Mo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wh=a.JSON.stringify,nN=a.JSON.parse,rN=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Kh(){}Kh.prototype.h=null;function RI(c){return c.h||(c.h=c.i())}function NI(){}var xo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qh(){Xe.call(this,"d")}D(Qh,Xe);function Yh(){Xe.call(this,"c")}D(Yh,Xe);var Yr={},MI=null;function $c(){return MI=MI||new et}Yr.La="serverreachability";function xI(c){Xe.call(this,Yr.La,c)}D(xI,Xe);function Po(c){let d=$c();ht(d,new xI(d))}Yr.STAT_EVENT="statevent";function PI(c,d){Xe.call(this,Yr.STAT_EVENT,c),this.stat=d}D(PI,Xe);function ft(c){let d=$c();ht(d,new PI(d,c))}Yr.Ma="timingevent";function OI(c,d){Xe.call(this,Yr.Ma,c),this.size=d}D(OI,Xe);function Oo(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function ko(){this.g=!0}ko.prototype.xa=function(){this.g=!1};function iN(c,d,f,g,C,N){c.info(function(){if(c.g)if(N)for(var L="",Ie=N.split("&"),Ke=0;Ke<Ie.length;Ke++){var ge=Ie[Ke].split("=");if(1<ge.length){var tt=ge[0];ge=ge[1];var nt=tt.split("_");L=2<=nt.length&&nt[1]=="type"?L+(tt+"="+ge+"&"):L+(tt+"=redacted&")}}else L=null;else L=N;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+L})}function sN(c,d,f,g,C,N,L){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+N+" "+L})}function Hi(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+aN(c,f)+(g?" "+g:"")})}function oN(c,d){c.info(function(){return"TIMEOUT: "+d})}ko.prototype.info=function(){};function aN(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var N=C[0];if(N!="noop"&&N!="stop"&&N!="close")for(var L=1;L<C.length;L++)C[L]=""}}}}return Wh(f)}catch{return d}}var Hc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},kI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jh;function qc(){}D(qc,Kh),qc.prototype.g=function(){return new XMLHttpRequest},qc.prototype.i=function(){return{}},Jh=new qc;function cr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Mo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new LI}function LI(){this.i=null,this.g="",this.h=!1}var FI={},Zh={};function Xh(c,d,f){c.L=1,c.v=Kc(bn(d)),c.m=f,c.P=!0,VI(c,null)}function VI(c,d){c.F=Date.now(),zc(c),c.A=bn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),ZI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new LI,c.g=mw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new tN(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(SI[0]=C.toString()),C=SI);for(var N=0;N<C.length;N++){var L=II(f,C[N],g||d.handleEvent,!1,d.h||d);if(!L)break;d.g[L.key]=L}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Po(),iN(c.i,c.u,c.A,c.l,c.R,c.m)}cr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Cn(c)==3?d.j():this.Y(c)},cr.prototype.Y=function(c){try{if(c==this.g)e:{let nt=Cn(this.g);var d=this.g.Ba();let Gi=this.g.Z();if(!(3>nt)&&(nt!=3||this.g&&(this.h.h||this.g.oa()||sw(this.g)))){this.J||nt!=4||d==7||(d==8||0>=Gi?Po(3):Po(2)),ef(this);var f=this.g.Z();this.X=f;t:if(UI(this)){var g=sw(this.g);c="";var C=g.length,N=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jr(this),Lo(this);var L="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(N&&d==C-1)});g.length=0,this.h.g+=c,this.C=0,L=this.h.g}else L=this.g.oa();if(this.o=f==200,sN(this.i,this.u,this.A,this.l,this.R,nt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,Ke=this.g;if((Ie=Ke.g?Ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(Ie)){var ge=Ie;break t}}ge=null}if(f=ge)Hi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tf(this,f);else{this.o=!1,this.s=3,ft(12),Jr(this),Lo(this);break e}}if(this.P){f=!0;let qt;for(;!this.J&&this.C<L.length;)if(qt=cN(this,L),qt==Zh){nt==4&&(this.s=4,ft(14),f=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(qt==FI){this.s=4,ft(15),Hi(this.i,this.l,L,"[Invalid Chunk]"),f=!1;break}else Hi(this.i,this.l,qt,null),tf(this,qt);if(UI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||L.length!=0||this.h.h||(this.s=1,ft(16),f=!1),this.o=this.o&&f,!f)Hi(this.i,this.l,L,"[Invalid Chunked Response]"),Jr(this),Lo(this);else if(0<L.length&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.ba&&!tt.M&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),cf(tt),tt.M=!0,ft(11))}}else Hi(this.i,this.l,L,null),tf(this,L);nt==4&&Jr(this),this.o&&!this.J&&(nt==4?hw(this.j,this):(this.o=!1,zc(this)))}else bN(this.g),f==400&&0<L.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),Jr(this),Lo(this)}}}catch{}finally{}};function UI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function cN(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Zh:(f=Number(d.substring(f,g)),isNaN(f)?FI:(g+=1,g+f>d.length?Zh:(d=d.slice(g,g+f),c.C=g+f,d)))}cr.prototype.cancel=function(){this.J=!0,Jr(this)};function zc(c){c.S=Date.now()+c.I,jI(c,c.I)}function jI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Oo(m(c.ba,c),d)}function ef(c){c.B&&(a.clearTimeout(c.B),c.B=null)}cr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(oN(this.i,this.A),this.L!=2&&(Po(),ft(17)),Jr(this),this.s=2,Lo(this)):jI(this,this.S-c)};function Lo(c){c.j.G==0||c.J||hw(c.j,c)}function Jr(c){ef(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,AI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function tf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||nf(f.h,c))){if(!c.K&&nf(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Xc(f),Jc(f);else break e;af(f),ft(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Oo(m(f.Za,f),6e3));if(1>=HI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Xr(f,11)}else if((c.K||f.g==c)&&Xc(f),!V(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let ge=C[d];if(f.T=ge[0],ge=ge[1],f.G==2)if(ge[0]=="c"){f.K=ge[1],f.ia=ge[2];let tt=ge[3];tt!=null&&(f.la=tt,f.j.info("VER="+f.la));let nt=ge[4];nt!=null&&(f.Aa=nt,f.j.info("SVER="+f.Aa));let Gi=ge[5];Gi!=null&&typeof Gi=="number"&&0<Gi&&(g=1.5*Gi,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let qt=c.g;if(qt){let tu=qt.g?qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(tu){var N=g.h;N.g||tu.indexOf("spdy")==-1&&tu.indexOf("quic")==-1&&tu.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(rf(N,N.h),N.h=null))}if(g.D){let uf=qt.g?qt.g.getResponseHeader("X-HTTP-Session-Id"):null;uf&&(g.ya=uf,De(g.I,g.D,uf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var L=c;if(g.qa=gw(g,g.J?g.ia:null,g.W),L.K){qI(g.h,L);var Ie=L,Ke=g.L;Ke&&(Ie.I=Ke),Ie.B&&(ef(Ie),zc(Ie)),g.g=L}else lw(g);0<f.i.length&&Zc(f)}else ge[0]!="stop"&&ge[0]!="close"||Xr(f,7);else f.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?Xr(f,7):of(f):ge[0]!="noop"&&f.l&&f.l.ta(ge),f.v=0)}}Po(4)}catch{}}var uN=class{constructor(c,d){this.g=c,this.map=d}};function BI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $I(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function HI(c){return c.h?1:c.g?c.g.size:0}function nf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function rf(c,d){c.g?c.g.add(d):c.h=d}function qI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}BI.prototype.cancel=function(){if(this.i=zI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function zI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return R(c.i)}function lN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function dN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function GI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=dN(c),g=lN(c),C=g.length,N=0;N<C;N++)d.call(void 0,g[N],f&&f[N],c)}var WI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hN(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),C=null;if(0<=g){var N=c[f].substring(0,g);C=c[f].substring(g+1)}else N=c[f];d(N,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Zr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Zr){this.h=c.h,Gc(this,c.j),this.o=c.o,this.g=c.g,Wc(this,c.s),this.l=c.l;var d=c.i,f=new Uo;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),KI(this,f),this.m=c.m}else c&&(d=String(c).match(WI))?(this.h=!1,Gc(this,d[1]||"",!0),this.o=Fo(d[2]||""),this.g=Fo(d[3]||"",!0),Wc(this,d[4]),this.l=Fo(d[5]||"",!0),KI(this,d[6]||"",!0),this.m=Fo(d[7]||"")):(this.h=!1,this.i=new Uo(null,this.h))}Zr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Vo(d,QI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Vo(d,QI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Vo(f,f.charAt(0)=="/"?gN:pN,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Vo(f,yN)),c.join("")};function bn(c){return new Zr(c)}function Gc(c,d,f){c.j=f?Fo(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Wc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function KI(c,d,f){d instanceof Uo?(c.i=d,vN(c.i,c.h)):(f||(d=Vo(d,mN)),c.i=new Uo(d,c.h))}function De(c,d,f){c.i.set(d,f)}function Kc(c){return De(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Fo(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Vo(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,fN),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function fN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var QI=/[#\/\?@]/g,pN=/[#\?:]/g,gN=/[#\?]/g,mN=/[#\?@]/g,yN=/#/g;function Uo(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function ur(c){c.g||(c.g=new Map,c.h=0,c.i&&hN(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Uo.prototype,t.add=function(c,d){ur(this),this.i=null,c=qi(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function YI(c,d){ur(c),d=qi(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function JI(c,d){return ur(c),d=qi(c,d),c.g.has(d)}t.forEach=function(c,d){ur(this),this.g.forEach(function(f,g){f.forEach(function(C){c.call(d,C,g,this)},this)},this)},t.na=function(){ur(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=c[g];for(let N=0;N<C.length;N++)f.push(d[g])}return f},t.V=function(c){ur(this);let d=[];if(typeof c=="string")JI(this,c)&&(d=d.concat(this.g.get(qi(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return ur(this),this.i=null,c=qi(this,c),JI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function ZI(c,d,f){YI(c,d),0<f.length&&(c.i=null,c.g.set(qi(c,d),R(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let N=encodeURIComponent(String(g)),L=this.V(g);for(g=0;g<L.length;g++){var C=N;L[g]!==""&&(C+="="+encodeURIComponent(String(L[g]))),c.push(C)}}return this.i=c.join("&")};function qi(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function vN(c,d){d&&!c.j&&(ur(c),c.i=null,c.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(YI(this,g),ZI(this,C,f))},c)),c.j=d}function _N(c,d){let f=new ko;if(a.Image){let g=new Image;g.onload=y(lr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(lr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(lr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(lr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function IN(c,d){let f=new ko,g=new AbortController,C=setTimeout(()=>{g.abort(),lr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(N=>{clearTimeout(C),N.ok?lr(f,"TestPingServer: ok",!0,d):lr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),lr(f,"TestPingServer: error",!1,d)})}function lr(c,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function wN(){this.g=new rN}function EN(c,d,f){let g=f||"";try{GI(c,function(C,N){let L=C;l(C)&&(L=Wh(C)),d.push(g+N+"="+encodeURIComponent(L))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function jo(c){this.l=c.Ub||null,this.j=c.eb||!1}D(jo,Kh),jo.prototype.g=function(){return new Qc(this.l,this.j)},jo.prototype.i=function(c){return function(){return c}}({});function Qc(c,d){et.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Qc,et),t=Qc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,$o(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bo(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$o(this)),this.g&&(this.readyState=3,$o(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;XI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function XI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Bo(this):$o(this),this.readyState==3&&XI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Bo(this))},t.Qa=function(c){this.g&&(this.response=c,Bo(this))},t.ga=function(){this.g&&Bo(this)};function Bo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,$o(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function $o(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Qc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ew(c){let d="";return q(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function sf(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=ew(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):De(c,d,f))}function xe(c){et.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(xe,et);var TN=/^https?$/i,DN=["POST","PUT"];t=xe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jh.g(),this.v=this.o?RI(this.o):RI(Jh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(N){tw(this,N);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let N of g.keys())f.set(N,g.get(N));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(N=>N.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(DN,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,L]of f)this.g.setRequestHeader(N,L);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{iw(this),this.u=!0,this.g.send(c),this.u=!1}catch(N){tw(this,N)}};function tw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,nw(c),Yc(c)}function nw(c){c.A||(c.A=!0,ht(c,"complete"),ht(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ht(this,"complete"),ht(this,"abort"),Yc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yc(this,!0)),xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?rw(this):this.bb())},t.bb=function(){rw(this)};function rw(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Cn(c)!=4||c.Z()!=2)){if(c.u&&Cn(c)==4)bI(c.Ea,0,c);else if(ht(c,"readystatechange"),Cn(c)==4){c.h=!1;try{let L=c.Z();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=L===0){var C=String(c.D).match(WI)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),g=!TN.test(C?C.toLowerCase():"")}f=g}if(f)ht(c,"complete"),ht(c,"success");else{c.m=6;try{var N=2<Cn(c)?c.g.statusText:""}catch{N=""}c.l=N+" ["+c.Z()+"]",nw(c)}}finally{Yc(c)}}}}function Yc(c,d){if(c.g){iw(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||ht(c,"ready");try{f.onreadystatechange=g}catch{}}}function iw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Cn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),nN(d)}};function sw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function bN(c){let d={};c=(c.g&&2<=Cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(V(c[g]))continue;var f=b(c[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let N=d[C]||[];d[C]=N,N.push(f)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ho(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function ow(c){this.Aa=0,this.i=[],this.j=new ko,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ho("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ho("baseRetryDelayMs",5e3,c),this.cb=Ho("retryDelaySeedMs",1e4,c),this.Wa=Ho("forwardChannelMaxRetries",2,c),this.wa=Ho("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new BI(c&&c.concurrentRequestLimit),this.Da=new wN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ow.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){ft(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=gw(this,null,this.W),Zc(this)};function of(c){if(aw(c),c.G==3){var d=c.U++,f=bn(c.I);if(De(f,"SID",c.K),De(f,"RID",d),De(f,"TYPE","terminate"),qo(c,f),d=new cr(c,c.j,d),d.L=2,d.v=Kc(bn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=mw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),zc(d)}pw(c)}function Jc(c){c.g&&(cf(c),c.g.cancel(),c.g=null)}function aw(c){Jc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Xc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Zc(c){if(!$I(c.h)&&!c.s){c.s=!0;var d=c.Ga;So||_I(),Ao||(So(),Ao=!0),Vh.add(d,c),c.B=0}}function CN(c,d){return HI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Oo(m(c.Ga,c,d),fw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new cr(this,this.j,c),N=this.o;if(this.S&&(N?(N=v(N),T(N,this.S)):N=this.S),this.m!==null||this.O||(C.H=N,N=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=uw(this,C,d),f=bn(this.I),De(f,"RID",c),De(f,"CVER",22),this.D&&De(f,"X-HTTP-Session-Id",this.D),qo(this,f),N&&(this.O?d="headers="+encodeURIComponent(String(ew(N)))+"&"+d:this.m&&sf(f,this.m,N)),rf(this.h,C),this.Ua&&De(f,"TYPE","init"),this.P?(De(f,"$req",d),De(f,"SID","null"),C.T=!0,Xh(C,f,null)):Xh(C,f,d),this.G=2}}else this.G==3&&(c?cw(this,c):this.i.length==0||$I(this.h)||cw(this))};function cw(c,d){var f;d?f=d.l:f=c.U++;let g=bn(c.I);De(g,"SID",c.K),De(g,"RID",f),De(g,"AID",c.T),qo(c,g),c.m&&c.o&&sf(g,c.m,c.o),f=new cr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=uw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),rf(c.h,f),Xh(f,g,d)}function qo(c,d){c.H&&q(c.H,function(f,g){De(d,g,f)}),c.l&&GI({},function(f,g){De(d,g,f)})}function uw(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var C=c.i;let N=-1;for(;;){let L=["count="+f];N==-1?0<f?(N=C[0].g,L.push("ofs="+N)):N=0:L.push("ofs="+N);let Ie=!0;for(let Ke=0;Ke<f;Ke++){let ge=C[Ke].g,tt=C[Ke].map;if(ge-=N,0>ge)N=Math.max(0,C[Ke].g-100),Ie=!1;else try{EN(tt,L,"req"+ge+"_")}catch{g&&g(tt)}}if(Ie){g=L.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function lw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;So||_I(),Ao||(So(),Ao=!0),Vh.add(d,c),c.v=0}}function af(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Oo(m(c.Fa,c),fw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,dw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Oo(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),Jc(this),dw(this))};function cf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function dw(c){c.g=new cr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=bn(c.qa);De(d,"RID","rpc"),De(d,"SID",c.K),De(d,"AID",c.T),De(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&De(d,"TO",c.ja),De(d,"TYPE","xmlhttp"),qo(c,d),c.m&&c.o&&sf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Kc(bn(d)),f.m=null,f.P=!0,VI(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Jc(this),af(this),ft(19))};function Xc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function hw(c,d){var f=null;if(c.g==d){Xc(c),cf(c),c.g=null;var g=2}else if(nf(c.h,d))f=d.D,qI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;g=$c(),ht(g,new OI(g,f)),Zc(c)}else lw(c);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&CN(c,d)||g==2&&af(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:Xr(c,5);break;case 4:Xr(c,10);break;case 3:Xr(c,6);break;default:Xr(c,2)}}}function fw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Xr(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let C=!g;g=new Zr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Gc(g,"https"),Kc(g),C?_N(g.toString(),f):IN(g.toString(),f)}else ft(2);c.G=0,c.l&&c.l.sa(d),pw(c),aw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function pw(c){if(c.G=0,c.ka=[],c.l){let d=zI(c.h);(d.length!=0||c.i.length!=0)&&(S(c.ka,d),S(c.ka,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.ra()}}function gw(c,d,f){var g=f instanceof Zr?bn(f):new Zr(f);if(g.g!="")d&&(g.g=d+"."+g.g),Wc(g,g.s);else{var C=a.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var N=new Zr(null);g&&Gc(N,g),d&&(N.g=d),C&&Wc(N,C),f&&(N.l=f),g=N}return f=c.D,d=c.ya,f&&d&&De(g,f,d),De(g,"VER",c.la),qo(c,g),g}function mw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new xe(new jo({eb:f})):new xe(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yw(){}t=yw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function eu(){}eu.prototype.g=function(c,d){return new bt(c,d)};function bt(c,d){et.call(this),this.g=new ow(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!V(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!V(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new zi(this)}D(bt,et),bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bt.prototype.close=function(){of(this.g)},bt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Wh(c),c=f);d.i.push(new uN(d.Ya++,c)),d.G==3&&Zc(d)},bt.prototype.N=function(){this.g.l=null,delete this.j,of(this.g),delete this.g,bt.aa.N.call(this)};function vw(c){Qh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}D(vw,Qh);function _w(){Yh.call(this),this.status=1}D(_w,Yh);function zi(c){this.g=c}D(zi,yw),zi.prototype.ua=function(){ht(this.g,"a")},zi.prototype.ta=function(c){ht(this.g,new vw(c))},zi.prototype.sa=function(c){ht(this.g,new _w)},zi.prototype.ra=function(){ht(this.g,"b")},eu.prototype.createWebChannel=eu.prototype.g,bt.prototype.send=bt.prototype.o,bt.prototype.open=bt.prototype.m,bt.prototype.close=bt.prototype.close,Zy=tr.createWebChannelTransport=function(){return new eu},Jy=tr.getStatEventTarget=function(){return $c()},Yy=tr.Event=Yr,Vd=tr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hc.NO_ERROR=0,Hc.TIMEOUT=8,Hc.HTTP_ERROR=6,ic=tr.ErrorCode=Hc,kI.COMPLETE="complete",Qy=tr.EventType=kI,NI.EventType=xo,xo.OPEN="a",xo.CLOSE="b",xo.ERROR="c",xo.MESSAGE="d",et.prototype.listen=et.prototype.K,Zs=tr.WebChannel=NI,UB=tr.FetchXmlHttpFactory=jo,xe.prototype.listenOnce=xe.prototype.L,xe.prototype.getLastError=xe.prototype.Ka,xe.prototype.getLastErrorCode=xe.prototype.Ba,xe.prototype.getStatus=xe.prototype.Z,xe.prototype.getResponseJson=xe.prototype.Oa,xe.prototype.getResponseText=xe.prototype.oa,xe.prototype.send=xe.prototype.ea,xe.prototype.setWithCredentials=xe.prototype.Ha,Ky=tr.XhrIo=xe}).apply(typeof Fd<"u"?Fd:typeof self<"u"?self:typeof window<"u"?window:{});var m0="@firebase/firestore";var We=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");var vo="10.14.0";var Oi=new kr("@firebase/firestore");function sc(){return Oi.logLevel}function j(t,...e){if(Oi.logLevel<=ce.DEBUG){let n=e.map(O_);Oi.debug(`Firestore (${vo}): ${t}`,...n)}}function nr(t,...e){if(Oi.logLevel<=ce.ERROR){let n=e.map(O_);Oi.error(`Firestore (${vo}): ${t}`,...n)}}function so(t,...e){if(Oi.logLevel<=ce.WARN){let n=e.map(O_);Oi.warn(`Firestore (${vo}): ${t}`,...n)}}function O_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Y(t="Unexpected state"){let e=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: `+t;throw nr(e),new Error(e)}function _e(t,e){t||Y()}function X(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=class extends at{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var en=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Hd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},rv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(We.UNAUTHENTICATED))}shutdown(){}},iv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},sv=class{constructor(e){this.t=e,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_e(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new en;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new en,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new en)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string"),new Hd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string"),new We(e)}},ov=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=We.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},av=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ov(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(We.FIRST_PARTY))}shutdown(){}invalidateToken(){}},cv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},uv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){_e(this.o===void 0);let r=s=>{s.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,j("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_e(typeof n.token=="string"),this.R=n.token,new cv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function jB(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var qd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=jB(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function me(t,e){return t<e?-1:t>e?1:0}function oo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Je=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new F(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var te=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Je(0,0))}static max(){return new t(new Je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var zd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(),r===void 0?r=e.length-n:r>e.length-n&&Y(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ne=class t extends zd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new F(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},BB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,xt=class t extends zd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return BB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new F(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new F(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new F(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var W=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ne.fromString(e))}static fromName(e){return new t(Ne.fromString(e).popFirst(5))}static empty(){return new t(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ne(e.slice()))}};var lv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};lv.UNKNOWN_ID=-1;function $B(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new Je(n+1,0):new Je(n,r));return new ki(i,W.empty(),e)}function HB(t){return new ki(t.readTime,t.key,-1)}var ki=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(te.min(),W.empty(),-1)}static max(){return new t(te.max(),W.empty(),-1)}};function qB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=W.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}var zB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",dv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Cc(t){return _(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==zB)throw t;j("LocalStore","Unexpectedly lost primary lease")})}var O=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function GB(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sc(t){return t.name==="IndexedDbTransactionError"}var J0=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Th(t){return t==null}function dc(t){return t===0&&1/t==-1/0}function WB(t){return typeof t=="number"&&Number.isInteger(t)&&!dc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var KB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],XK=[...KB,"documentOverlays"],QB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],YB=QB,JB=[...YB,"indexConfiguration","indexState","indexEntries"];var e7=[...JB,"globals"];function y0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bi(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Z0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Oe=class t{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new no(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new no(this.root,e,this.comparator,!1)}getReverseIterator(){return new no(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new no(this.root,e,this.comparator,!0)}},no=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},vn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();let e=this.left.check();if(e!==this.right.check())throw Y();return e+(this.isRed()?0:1)}};vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(e,n,r,i,s){return this}insert(e,n,r){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ut=class t{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gd(this.data.getIterator())}getIteratorFrom(e){return new Gd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Gd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var $t=class t{constructor(e){this.fields=e,e.sort(xt.comparator)}static empty(){return new t([])}unionWith(e){let n=new ut(xt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Wd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var dt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Wd("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};dt.EMPTY_BYTE_STRING=new dt("");var ZB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(t){if(_e(!!t),typeof t=="string"){let e=0,n=ZB.exec(t);if(_e(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ae(t.seconds),nanos:Ae(t.nanos)}}function Ae(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qr(t){return typeof t=="string"?dt.fromBase64String(t):dt.fromUint8Array(t)}function k_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function L_(t){let e=t.mapValue.fields.__previous_value__;return k_(e)?L_(e):e}function hc(t){let e=rr(t.mapValue.fields.__local_write_time__.timestampValue);return new Je(e.seconds,e.nanos)}var hv=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Kd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Ud={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Li(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?k_(t)?4:eA(t)?9007199254740991:X0(t)?10:11:Y()}function wn(t,e){if(t===e)return!0;let n=Li(t);if(n!==Li(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hc(t).isEqual(hc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=rr(i.timestampValue),a=rr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return qr(i.bytesValue).isEqual(qr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ae(i.geoPointValue.latitude)===Ae(s.geoPointValue.latitude)&&Ae(i.geoPointValue.longitude)===Ae(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ae(i.integerValue)===Ae(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Ae(i.doubleValue),a=Ae(s.doubleValue);return o===a?dc(o)===dc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return oo(t.arrayValue.values||[],e.arrayValue.values||[],wn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(y0(o)!==y0(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!wn(o[u],a[u])))return!1;return!0}(t,e);default:return Y()}}function fc(t,e){return(t.values||[]).find(n=>wn(n,e))!==void 0}function ao(t,e){if(t===e)return 0;let n=Li(t),r=Li(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Ae(s.integerValue||s.doubleValue),u=Ae(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return v0(t.timestampValue,e.timestampValue);case 4:return v0(hc(t),hc(e));case 5:return me(t.stringValue,e.stringValue);case 6:return function(s,o){let a=qr(s),u=qr(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=me(a[l],u[l]);if(h!==0)return h}return me(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=me(Ae(s.latitude),Ae(o.latitude));return a!==0?a:me(Ae(s.longitude),Ae(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return _0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,h;let p=s.fields||{},m=o.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,D=(u=m.value)===null||u===void 0?void 0:u.arrayValue,R=me(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=D?.values)===null||h===void 0?void 0:h.length)||0);return R!==0?R:_0(y,D)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ud.mapValue&&o===Ud.mapValue)return 0;if(s===Ud.mapValue)return 1;if(o===Ud.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=me(u[p],h[p]);if(m!==0)return m;let y=ao(a[u[p]],l[h[p]]);if(y!==0)return y}return me(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Y()}}function v0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);let n=rr(t),r=rr(e),i=me(n.seconds,r.seconds);return i!==0?i:me(n.nanos,r.nanos)}function _0(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=ao(n[i],r[i]);if(s)return s}return me(n.length,r.length)}function co(t){return fv(t)}function fv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=rr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return W.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=fv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${fv(n.fields[o])}`;return i+"}"}(t.mapValue):Y()}function I0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function pv(t){return!!t&&"integerValue"in t}function F_(t){return!!t&&"arrayValue"in t}function w0(t){return!!t&&"nullValue"in t}function E0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bd(t){return!!t&&"mapValue"in t}function X0(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ac(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Bi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ac(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ac(t.arrayValue.values[n]);return e}return Object.assign({},t)}function eA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Mt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ac(n)}setAll(e){let n=xt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ac(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Bd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bi(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(ac(this.value))}};function tA(t){let e=[];return Bi(t.fields,(n,r)=>{let i=new xt([n]);if(Bd(r)){let s=tA(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new $t(e)}var tn=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,te.min(),te.min(),te.min(),Mt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,te.min(),te.min(),Mt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,te.min(),te.min(),Mt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var uo=class{constructor(e,n){this.position=e,this.inclusive=n}};function T0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=W.comparator(W.fromName(o.referenceValue),n.key):r=ao(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function D0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wn(t.position[n],e.position[n]))return!1;return!0}var Fi=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function XB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Qd=class{},Be=class t extends Qd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mv(e,n,r):n==="array-contains"?new _v(e,r):n==="in"?new Iv(e,r):n==="not-in"?new wv(e,r):n==="array-contains-any"?new Ev(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yv(e,r):new vv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ao(n,this.value)):n!==null&&Li(this.value)===Li(n)&&this.matchesComparison(ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},nn=class t extends Qd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return nA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function nA(t){return t.op==="and"}function rA(t){return e$(t)&&nA(t)}function e$(t){for(let e of t.filters)if(e instanceof nn)return!1;return!0}function gv(t){if(t instanceof Be)return t.field.canonicalString()+t.op.toString()+co(t.value);if(rA(t))return t.filters.map(e=>gv(e)).join(",");{let e=t.filters.map(n=>gv(n)).join(",");return`${t.op}(${e})`}}function iA(t,e){return t instanceof Be?function(r,i){return i instanceof Be&&r.op===i.op&&r.field.isEqual(i.field)&&wn(r.value,i.value)}(t,e):t instanceof nn?function(r,i){return i instanceof nn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&iA(o,i.filters[a]),!0):!1}(t,e):void Y()}function sA(t){return t instanceof Be?function(n){return`${n.field.canonicalString()} ${n.op} ${co(n.value)}`}(t):t instanceof nn?function(n){return n.op.toString()+" {"+n.getFilters().map(sA).join(" ,")+"}"}(t):"Filter"}var mv=class extends Be{constructor(e,n,r){super(e,n,r),this.key=W.fromName(r.referenceValue)}matches(e){let n=W.comparator(e.key,this.key);return this.matchesComparison(n)}},yv=class extends Be{constructor(e,n){super(e,"in",n),this.keys=oA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},vv=class extends Be{constructor(e,n){super(e,"not-in",n),this.keys=oA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function oA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>W.fromName(r.referenceValue))}var _v=class extends Be{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return F_(n)&&fc(n.arrayValue,this.value)}},Iv=class extends Be{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&fc(this.value.arrayValue,n)}},wv=class extends Be{constructor(e,n){super(e,"not-in",n)}matches(e){if(fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!fc(this.value.arrayValue,n)}},Ev=class extends Be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!F_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fc(this.value.arrayValue,r))}};var Tv=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function b0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Tv(t,e,n,r,i,s,o)}function V_(t){let e=X(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>gv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Th(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>co(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>co(r)).join(",")),e.ue=n}return e.ue}function U_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!XB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!D0(t.startAt,e.startAt)&&D0(t.endAt,e.endAt)}function Dv(t){return W.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var zr=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function t$(t,e,n,r,i,s,o,a){return new zr(t,e,n,r,i,s,o,a)}function Dh(t){return new zr(t)}function C0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aA(t){return t.collectionGroup!==null}function cc(t){let e=X(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ut(xt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Fi(s,r))}),n.has(xt.keyField().canonicalString())||e.ce.push(new Fi(xt.keyField(),r))}return e.ce}function _n(t){let e=X(t);return e.le||(e.le=n$(e,cc(t))),e.le}function n$(t,e){if(t.limitType==="F")return b0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Fi(i.field,s)});let n=t.endAt?new uo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new uo(t.startAt.position,t.startAt.inclusive):null;return b0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function bv(t,e){let n=t.filters.concat([e]);return new zr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Cv(t,e,n){return new zr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bh(t,e){return U_(_n(t),_n(e))&&t.limitType===e.limitType}function cA(t){return`${V_(_n(t))}|lt:${t.limitType}`}function Xs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>sA(i)).join(", ")}]`),Th(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>co(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>co(i)).join(",")),`Target(${r})`}(_n(t))}; limitType=${t.limitType})`}function Ch(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):W.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of cc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=T0(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,cc(r),i)||r.endAt&&!function(o,a,u){let l=T0(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,cc(r),i))}(t,e)}function r$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uA(t){return(e,n)=>{let r=!1;for(let i of cc(t)){let s=i$(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function i$(t,e,n){let r=t.field.isKeyField()?W.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?ao(u,l):Y()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}var Gr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bi(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return Z0(this.inner)}size(){return this.innerSize}};var s$=new Oe(W.comparator);function ir(){return s$}var lA=new Oe(W.comparator);function oc(...t){let e=lA;for(let n of t)e=e.insert(n.key,n);return e}function dA(t){let e=lA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Mi(){return uc()}function hA(){return uc()}function uc(){return new Gr(t=>t.toString(),(t,e)=>t.isEqual(e))}var o$=new Oe(W.comparator),a$=new ut(W.comparator);function le(...t){let e=a$;for(let n of t)e=e.add(n);return e}var c$=new ut(me);function u$(){return c$}function j_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dc(e)?"-0":e}}function fA(t){return{integerValue:""+t}}function l$(t,e){return WB(e)?fA(e):j_(t,e)}var lo=class{constructor(){this._=void 0}};function d$(t,e,n){return t instanceof ho?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&k_(s)&&(s=L_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Vi?gA(t,e):t instanceof Ui?mA(t,e):function(i,s){let o=pA(i,s),a=S0(o)+S0(i.Pe);return pv(o)&&pv(i.Pe)?fA(a):j_(i.serializer,a)}(t,e)}function h$(t,e,n){return t instanceof Vi?gA(t,e):t instanceof Ui?mA(t,e):n}function pA(t,e){return t instanceof fo?function(r){return pv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var ho=class extends lo{},Vi=class extends lo{constructor(e){super(),this.elements=e}};function gA(t,e){let n=yA(e);for(let r of t.elements)n.some(i=>wn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ui=class extends lo{constructor(e){super(),this.elements=e}};function mA(t,e){let n=yA(e);for(let r of t.elements)n=n.filter(i=>!wn(i,r));return{arrayValue:{values:n}}}var fo=class extends lo{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function S0(t){return Ae(t.integerValue||t.doubleValue)}function yA(t){return F_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function f$(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Vi&&i instanceof Vi||r instanceof Ui&&i instanceof Ui?oo(r.elements,i.elements,wn):r instanceof fo&&i instanceof fo?wn(r.Pe,i.Pe):r instanceof ho&&i instanceof ho}(t.transform,e.transform)}var Sv=class{constructor(e,n){this.version=e,this.transformResults=n}},$r=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function $d(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var po=class{};function vA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Yd(t.key,$r.none()):new ji(t.key,t.data,$r.none());{let n=t.data,r=Mt.empty(),i=new ut(xt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new En(t.key,r,new $t(i.toArray()),$r.none())}}function p$(t,e,n){t instanceof ji?function(i,s,o){let a=i.value.clone(),u=R0(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof En?function(i,s,o){if(!$d(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=R0(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(_A(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function lc(t,e,n,r){return t instanceof ji?function(s,o,a,u){if(!$d(s.precondition,o))return a;let l=s.value.clone(),h=N0(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof En?function(s,o,a,u){if(!$d(s.precondition,o))return a;let l=N0(s.fieldTransforms,u,o),h=o.data;return h.setAll(_A(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return $d(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function g$(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=pA(r.transform,i||null);s!=null&&(n===null&&(n=Mt.empty()),n.set(r.field,s))}return n||null}function A0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&oo(r,i,(s,o)=>f$(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ji=class extends po{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},En=class extends po{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function _A(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function R0(t,e,n){let r=new Map;_e(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,h$(o,a,n[i]))}return r}function N0(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,d$(s,o,e))}return r}var Yd=class extends po{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Av=class extends po{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Rv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&p$(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=lc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=lc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=hA();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=vA(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,(n,r)=>A0(n,r))&&oo(this.baseMutations,e.baseMutations,(n,r)=>A0(n,r))}},Nv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_e(e.mutations.length===r.length);let i=function(){return o$}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Mv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var xv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ue,fe;function m$(t){switch(t){default:return Y();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function IA(t){if(t===void 0)return nr("GRPC error has no .code"),M.UNKNOWN;switch(t){case Ue.OK:return M.OK;case Ue.CANCELLED:return M.CANCELLED;case Ue.UNKNOWN:return M.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return M.INTERNAL;case Ue.UNAVAILABLE:return M.UNAVAILABLE;case Ue.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Ue.NOT_FOUND:return M.NOT_FOUND;case Ue.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Ue.ABORTED:return M.ABORTED;case Ue.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Ue.DATA_LOSS:return M.DATA_LOSS;default:return Y()}}(fe=Ue||(Ue={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";var M0=null;function y$(){return new TextEncoder}var v$=new Br([4294967295,4294967295],0);function x0(t){let e=y$().encode(t),n=new Wy;return n.update(e),new Uint8Array(n.digest())}function P0(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Br([n,r],0),new Br([i,s],0)]}var Pv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new xi(`Invalid padding: ${n}`);if(r<0)throw new xi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new xi(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Br.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Br.fromNumber(r)));return i.compare(v$)===1&&(i=new Br([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=x0(e),[r,i]=P0(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=x0(e),[r,i]=P0(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},xi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Jd=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,pc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(te.min(),i,new Oe(me),ir(),le())}},pc=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,le(),le(),le())}};var ro=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Zd=class{constructor(e,n){this.targetId=e,this.me=n}},Xd=class{constructor(e,n,r=dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},eh=class{constructor(){this.fe=0,this.ge=k0(),this.pe=dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=le(),n=le(),r=le();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y()}}),new pc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=k0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,_e(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Ov=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=ir(),this.qe=O0(),this.Qe=new Oe(me)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Y()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(Dv(s))if(r===0){let o=new W(s.path);this.Ue(n,o,tn.newNoDocument(o,te.min()))}else _e(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}M0?.et(function(h,p,m,y,D){var R,S,P,V,k,B;let ae={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},q=p.unchangedNames;return q&&(ae.bloomFilter={applied:D===0,hashCount:(R=q?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(V=(P=(S=q?.bits)===null||S===void 0?void 0:S.bitmap)===null||P===void 0?void 0:P.length)!==null&&V!==void 0?V:0,padding:(B=(k=q?.bits)===null||k===void 0?void 0:k.padding)!==null&&B!==void 0?B:0,mightContain:E=>{var v;return(v=y?.mightContain(E))!==null&&v!==void 0&&v}}),ae}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=qr(r).toUint8Array()}catch(u){if(u instanceof Wd)return so("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Pv(o,i,s)}catch(u){return so(u instanceof xi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&Dv(a.target)){let u=new W(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,tn.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=le();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new Jd(e,n,this.Qe,this.ke,r);return this.ke=ir(),this.qe=O0(),this.Qe=new Oe(me),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new eh,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ut(me),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new eh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function O0(){return new Oe(W.comparator)}function k0(){return new Oe(W.comparator)}var _$={asc:"ASCENDING",desc:"DESCENDING"},I$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},w$={and:"AND",or:"OR"},kv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Lv(t,e){return t.useProto3Json||Th(e)?e:{value:e}}function th(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function E$(t,e){return th(t,e.toTimestamp())}function In(t){return _e(!!t),te.fromTimestamp(function(n){let r=rr(n);return new Je(r.seconds,r.nanos)}(t))}function B_(t,e){return Fv(t,e).canonicalString()}function Fv(t,e){let n=function(i){return new Ne(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function EA(t){let e=Ne.fromString(t);return _e(SA(e)),e}function Vv(t,e){return B_(t.databaseId,e.path)}function Xy(t,e){let n=EA(e);if(n.get(1)!==t.databaseId.projectId)throw new F(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new W(DA(n))}function TA(t,e){return B_(t.databaseId,e)}function T$(t){let e=EA(t);return e.length===4?Ne.emptyPath():DA(e)}function Uv(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function DA(t){return _e(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function L0(t,e,n){return{name:Vv(t,e),fields:n.value.mapValue.fields}}function D$(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Y()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(_e(h===void 0||typeof h=="string"),dt.fromBase64String(h||"")):(_e(h===void 0||h instanceof Buffer||h instanceof Uint8Array),dt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let h=l.code===void 0?M.UNKNOWN:IA(l.code);return new F(h,l.message||"")}(o);n=new Xd(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Xy(t,r.document.name),s=In(r.document.updateTime),o=r.document.createTime?In(r.document.createTime):te.min(),a=new Mt({mapValue:{fields:r.document.fields}}),u=tn.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new ro(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Xy(t,r.document),s=r.readTime?In(r.readTime):te.min(),o=tn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ro([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Xy(t,r.document),s=r.removedTargetIds||[];n=new ro([],s,i,null)}else{if(!("filter"in e))return Y();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new xv(i,s),a=r.targetId;n=new Zd(a,o)}}return n}function b$(t,e){let n;if(e instanceof ji)n={update:L0(t,e.key,e.value)};else if(e instanceof Yd)n={delete:Vv(t,e.key)};else if(e instanceof En)n={update:L0(t,e.key,e.data),updateMask:O$(e.fieldMask)};else{if(!(e instanceof Av))return Y();n={verify:Vv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof ho)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ui)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fo)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Y()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:E$(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Y()}(t,e.precondition)),n}function C$(t,e){return t&&t.length>0?(_e(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?In(i.updateTime):In(s);return o.isEqual(te.min())&&(o=In(s)),new Sv(o,i.transformResults||[])}(n,e))):[]}function S$(t,e){return{documents:[TA(t,e.path)]}}function A$(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=TA(t,i);let s=function(l){if(l.length!==0)return CA(nn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:eo(m.field),direction:M$(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=Lv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function R$(t){let e=T$(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_e(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let m=bA(p);return m instanceof nn&&rA(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(D){return new Fi(to(D.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Th(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new uo(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new uo(y,m)}(n.endAt)),t$(e,i,o,s,a,"F",u,l)}function N$(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=to(n.unaryFilter.field);return Be.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=to(n.unaryFilter.field);return Be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=to(n.unaryFilter.field);return Be.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=to(n.unaryFilter.field);return Be.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(t):t.fieldFilter!==void 0?function(n){return Be.create(to(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return nn.create(n.compositeFilter.filters.map(r=>bA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y()}}(n.compositeFilter.op))}(t):Y()}function M$(t){return _$[t]}function x$(t){return I$[t]}function P$(t){return w$[t]}function eo(t){return{fieldPath:t.canonicalString()}}function to(t){return xt.fromServerFormat(t.fieldPath)}function CA(t){return t instanceof Be?function(n){if(n.op==="=="){if(E0(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NAN"}};if(w0(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(E0(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NAN"}};if(w0(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(n.field),op:x$(n.op),value:n.value}}}(t):t instanceof nn?function(n){let r=n.getFilters().map(i=>CA(i));return r.length===1?r[0]:{compositeFilter:{op:P$(n.op),filters:r}}}(t):Y()}function O$(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function SA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var gc=class t{constructor(e,n,r,i,s=te.min(),o=te.min(),a=dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var jv=class{constructor(e){this.ct=e}};function k$(t){let e=R$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cv(e,e.limit,"L"):e}var nh=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ae(e.integerValue));else if("doubleValue"in e){let r=Ae(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),dc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=rr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(qr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?eA(e)?this.dt(n,Number.MAX_SAFE_INTEGER):X0(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Y()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ae(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),W.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};nh.vt=new nh;var Bv=class{constructor(){this.un=new $v}addToCollectionParentIndex(e,n){return this.un.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(ki.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(ki.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}},$v=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ut(Ne.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ut(Ne.comparator)).toArray()}};var n7=new Uint8Array(0);var yn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(41943040,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);var mc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Hv=class{constructor(){this.changes=new Gr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var qv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var zv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&lc(r.mutation,i,$t.empty(),Je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){let i=Mi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=oc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Mi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ir(),o=uc(),a=function(){return uc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof En)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),lc(h.mutation,l,h.mutation.getFieldMask(),Je.now())):o.set(l.key,$t.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new qv(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=uc(),i=new Oe((o,a)=>o-a),s=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||$t.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||le()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=hA();h.forEach(m=>{if(!s.has(m)){let y=vA(n.get(m),r.get(m));y!==null&&p.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return O.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return W.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):aA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):O.resolve(Mi()),a=-1,u=s;return o.next(l=>O.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?O.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,le())).next(h=>({batchId:a,changes:dA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new W(n)).next(r=>{let i=oc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=oc();return this.indexManager.getCollectionParents(e,s).next(a=>O.forEach(a,u=>{let l=function(p,m){return new zr(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,tn.newInvalidDocument(h)))});let a=oc();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&lc(h.mutation,l,$t.empty(),Je.now()),Ch(n,l)&&(a=a.insert(u,l))}),a})}};var Gv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return O.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:In(i.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:k$(i.bundledQuery),readTime:In(i.readTime)}}(n)),O.resolve()}};var Wv=class{constructor(){this.overlays=new Oe(W.comparator),this.Ir=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Mi();return O.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),O.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){let i=Mi(),s=n.length+1,o=new W(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Oe((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=Mi(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Mi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return O.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Mv(n,r));let s=this.Ir.get(n);s===void 0&&(s=le(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var Kv=class{constructor(){this.sessionToken=dt.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,O.resolve()}};var yc=class{constructor(){this.Tr=new ut(je.Er),this.dr=new ut(je.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new je(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new je(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new W(new Ne([])),r=new je(n,e),i=new je(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new W(new Ne([])),r=new je(n,e),i=new je(n,e+1),s=le();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new je(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},je=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return W.comparator(e.key,n.key)||me(e.wr,n.wr)}static Ar(e,n){return me(e.wr,n.wr)||W.comparator(e.key,n.key)}};var Qv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ut(je.Er)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Rv(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new je(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(o)}lookupMutationBatch(e,n){return O.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return O.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new je(n,0),i=new je(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),O.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(me);return n.forEach(i=>{let s=new je(i,0),o=new je(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),O.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;W.isDocumentKey(s)||(s=s.child(""));let o=new je(new W(s),0),a=new ut(me);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),O.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){_e(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return O.forEach(n.mutations,i=>{let s=new je(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new je(n,0),i=this.br.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Yv=class{constructor(e){this.Mr=e,this.docs=function(){return new Oe(W.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let r=ir();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():tn.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ir(),o=n.path,a=new W(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||qB(HB(h),r)<=0||(i.has(h.key)||Ch(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return O.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Y()}Or(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Jv(this)}getSize(e){return O.resolve(this.size)}},Jv=class extends Hv{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Zv=class{constructor(e){this.persistence=e,this.Nr=new Gr(n=>V_(n),U_),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new yc,this.targetCount=0,this.kr=mc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),O.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new mc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Kn(n),O.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(s).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),O.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),O.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Br.containsKey(n))}};var Xv=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new J0(0),this.Kr=!1,this.Kr=!0,this.$r=new Kv,this.referenceDelegate=e(this),this.Ur=new Zv(this),this.indexManager=new Bv,this.remoteDocumentCache=function(i){return new Yv(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new jv(n),this.Gr=new Gv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Wv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Qv(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);let i=new e_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return O.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},e_=class extends dv{constructor(e){super(),this.currentSequenceNumber=e}},t_=class t{constructor(e){this.persistence=e,this.Jr=new yc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw Y()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),O.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Xr,r=>{let i=W.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return O.or([()=>O.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var n_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=le(),i=le();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var r_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var i_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return QC()?8:GB(Ge())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new r_;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(sc()<=ce.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",Xs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),O.resolve()):(sc()<=ce.DEBUG&&j("QueryEngine","Query:",Xs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(sc()<=ce.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",Xs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_n(n))):O.resolve())}Yi(e,n){if(C0(n))return O.resolve(null);let r=_n(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Cv(n,null,"F"),r=_n(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=le(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,Cv(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return C0(n)||i.isEqual(te.min())?O.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?O.resolve(null):(sc()<=ce.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xs(n)),this.rs(e,o,n,$B(i,-1)).next(a=>a))})}ts(e,n){let r=new ut(uA(e));return n.forEach((i,s)=>{Ch(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return sc()<=ce.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",Xs(n)),this.Ji.getDocumentsMatchingQuery(e,n,ki.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var s_=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Oe(me),this._s=new Gr(s=>V_(s),U_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function L$(t,e,n,r){return new s_(t,e,n,r)}function AA(t,e){return _(this,null,function*(){let n=X(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=le();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function F$(t,e){let n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=O.resolve();return m.forEach(D=>{y=y.next(()=>h.getEntry(u,D)).next(R=>{let S=l.docVersions.get(D);_e(S!==null),R.version.compareTo(S)<0&&(p.applyToRemoteDocument(R,l),R.isValidDocument()&&(R.setReadTime(l.commitVersion),h.addEntry(R)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=le();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function RA(t){let e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function V$(t,e){let n=X(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(dt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(R,S,P){return R.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(m,y,h)&&a.push(n.Ur.updateTargetData(s,y))});let u=ir(),l=le();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(U$(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(te.min())){let h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return O.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function U$(t,e,n){let r=le(),i=le();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ir();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function j$(t,e){let n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function B$(t,e){let n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,O.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new gc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function o_(t,e,n){return _(this,null,function*(){let r=X(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Sc(o))throw o;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function F0(t,e,n){let r=X(t),i=te.min(),s=le();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=X(u),m=p._s.get(h);return m!==void 0?O.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,o,_n(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:le())).next(a=>($$(r,r$(e),a),{documents:a,Ts:s})))}function $$(t,e,n){let r=t.us.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var rh=class{constructor(){this.activeTargetIds=u$()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var a_=class{constructor(){this.so=new rh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new rh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var c_=class{_o(e){}shutdown(){}};var ih=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var jd=null;function ev(){return jd===null?jd=function(){return 268435456+Math.round(2147483648*Math.random())}():jd++,"0x"+jd.toString(16)}var H$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var u_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var ct="WebChannelConnection",l_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=ev(),u=this.xo(n,r.toUriEncodedString());j("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(h=>(j("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw so("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=H$[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=ev();return new Promise((o,a)=>{let u=new Ky;u.setWithCredentials(!0),u.listenOnce(Qy.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ic.NO_ERROR:let h=u.getResponseJson();j(ct,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case ic.TIMEOUT:j(ct,`RPC '${e}' ${s} timed out`),a(new F(M.DEADLINE_EXCEEDED,"Request time out"));break;case ic.HTTP_ERROR:let p=u.getStatus();if(j(ct,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let D=function(S){let P=S.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(P)>=0?P:M.UNKNOWN}(y.status);a(new F(D,y.message))}else a(new F(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new F(M.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{j(ct,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);j(ct,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=ev(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Zy(),a=Jy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=s.join("");j(ct,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),m=!1,y=!1,D=new u_({Io:S=>{y?j(ct,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(m||(j(ct,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),j(ct,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},To:()=>p.close()}),R=(S,P,V)=>{S.listen(P,k=>{try{V(k)}catch(B){setTimeout(()=>{throw B},0)}})};return R(p,Zs.EventType.OPEN,()=>{y||(j(ct,`RPC '${e}' stream ${i} transport opened.`),D.yo())}),R(p,Zs.EventType.CLOSE,()=>{y||(y=!0,j(ct,`RPC '${e}' stream ${i} transport closed`),D.So())}),R(p,Zs.EventType.ERROR,S=>{y||(y=!0,so(ct,`RPC '${e}' stream ${i} transport errored:`,S),D.So(new F(M.UNAVAILABLE,"The operation could not be completed")))}),R(p,Zs.EventType.MESSAGE,S=>{var P;if(!y){let V=S.data[0];_e(!!V);let k=V,B=k.error||((P=k[0])===null||P===void 0?void 0:P.error);if(B){j(ct,`RPC '${e}' stream ${i} received error:`,B);let ae=B.status,q=function(I){let T=Ue[I];if(T!==void 0)return IA(T)}(ae),E=B.message;q===void 0&&(q=M.INTERNAL,E="Unknown error status: "+ae+" with message "+B.message),y=!0,D.So(new F(q,E)),p.close()}else j(ct,`RPC '${e}' stream ${i} received:`,V),D.bo(V)}}),R(a,Yy.STAT_EVENT,S=>{S.stat===Vd.PROXY?j(ct,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Vd.NOPROXY&&j(ct,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.wo()},0),D}};function tv(){return typeof document<"u"?document:null}function Sh(t){return new kv(t,!0)}var sh=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var oh=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new sh(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return _(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return _(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return _(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(nr(n.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new F(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>_(this,null,function*(){this.state=0,this.start()}))}I_(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},d_=class extends oh{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=D$(this.serializer,e),r=function(s){if(!("targetChange"in s))return te.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?In(o.readTime):te.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Uv(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=Dv(u)?{documents:S$(s,u)}:{query:A$(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=wA(s,o.resumeToken);let l=Lv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=th(s,o.snapshotVersion.toTimestamp());let l=Lv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=N$(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Uv(this.serializer),n.removeTarget=e,this.a_(n)}},h_=class extends oh{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return _e(!!e.streamToken),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){_e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=C$(e.writeResults,e.commitTime),r=In(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Uv(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>b$(this.serializer,r))};this.a_(n)}};var f_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new F(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Fv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(M.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Fv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new F(M.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},p_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(nr(n),this.D_=!1):j("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var g_=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>_(this,null,function*(){$i(this)&&(j("RemoteStore","Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=X(u);l.L_.add(4),yield Ac(l),l.q_.set("Unknown"),l.L_.delete(4),yield Ah(l)})}(this))}))}),this.q_=new p_(r,i)}};function Ah(t){return _(this,null,function*(){if($i(t))for(let e of t.B_)yield e(!0)})}function Ac(t){return _(this,null,function*(){for(let e of t.B_)yield e(!1)})}function NA(t,e){let n=X(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),z_(n)?q_(n):_o(n).r_()&&H_(n,e))}function $_(t,e){let n=X(t),r=_o(n);n.N_.delete(e),r.r_()&&MA(n,e),n.N_.size===0&&(r.r_()?r.o_():$i(n)&&n.q_.set("Unknown"))}function H_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_o(t).A_(e)}function MA(t,e){t.Q_.xe(e),_o(t).R_(e)}function q_(t){t.Q_=new Ov({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),_o(t).start(),t.q_.v_()}function z_(t){return $i(t)&&!_o(t).n_()&&t.N_.size>0}function $i(t){return X(t).L_.size===0}function xA(t){t.Q_=void 0}function q$(t){return _(this,null,function*(){t.q_.set("Online")})}function z$(t){return _(this,null,function*(){t.N_.forEach((e,n)=>{H_(t,e)})})}function G$(t,e){return _(this,null,function*(){xA(t),z_(t)?(t.q_.M_(e),q_(t)):t.q_.set("Unknown")})}function W$(t,e,n){return _(this,null,function*(){if(t.q_.set("Online"),e instanceof Xd&&e.state===2&&e.cause)try{yield function(i,s){return _(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield ah(t,r)}else if(e instanceof ro?t.Q_.Ke(e):e instanceof Zd?t.Q_.He(e):t.Q_.We(e),!n.isEqual(te.min()))try{let r=yield RA(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(dt.EMPTY_BYTE_STRING,h.snapshotVersion)),MA(s,u);let p=new gc(h.target,u,l,h.sequenceNumber);H_(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){j("RemoteStore","Failed to raise snapshot:",r),yield ah(t,r)}})}function ah(t,e,n){return _(this,null,function*(){if(!Sc(e))throw e;t.L_.add(1),yield Ac(t),t.q_.set("Offline"),n||(n=()=>RA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(this,null,function*(){j("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Ah(t)}))})}function PA(t,e){return e().catch(n=>ah(t,n,e))}function Rh(t){return _(this,null,function*(){let e=X(t),n=Wr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;K$(e);)try{let i=yield j$(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Q$(e,i)}catch(i){yield ah(e,i)}OA(e)&&kA(e)})}function K$(t){return $i(t)&&t.O_.length<10}function Q$(t,e){t.O_.push(e);let n=Wr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function OA(t){return $i(t)&&!Wr(t).n_()&&t.O_.length>0}function kA(t){Wr(t).start()}function Y$(t){return _(this,null,function*(){Wr(t).p_()})}function J$(t){return _(this,null,function*(){let e=Wr(t);for(let n of t.O_)e.m_(n.mutations)})}function Z$(t,e,n){return _(this,null,function*(){let r=t.O_.shift(),i=Nv.from(r,e,n);yield PA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Rh(t)})}function X$(t,e){return _(this,null,function*(){e&&Wr(t).V_&&(yield function(r,i){return _(this,null,function*(){if(function(o){return m$(o)&&o!==M.ABORTED}(i.code)){let s=r.O_.shift();Wr(r).s_(),yield PA(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Rh(r)}})}(t,e)),OA(t)&&kA(t)})}function V0(t,e){return _(this,null,function*(){let n=X(t);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");let r=$i(n);n.L_.add(3),yield Ac(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Ah(n)})}function eH(t,e){return _(this,null,function*(){let n=X(t);e?(n.L_.delete(2),yield Ah(n)):e||(n.L_.add(2),yield Ac(n),n.q_.set("Unknown"))})}function _o(t){return t.K_||(t.K_=function(n,r,i){let s=X(n);return s.w_(),new d_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:q$.bind(null,t),Ro:z$.bind(null,t),mo:G$.bind(null,t),d_:W$.bind(null,t)}),t.B_.push(e=>_(this,null,function*(){e?(t.K_.s_(),z_(t)?q_(t):t.q_.set("Unknown")):(yield t.K_.stop(),xA(t))}))),t.K_}function Wr(t){return t.U_||(t.U_=function(n,r,i){let s=X(n);return s.w_(),new h_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Y$.bind(null,t),mo:X$.bind(null,t),f_:J$.bind(null,t),g_:Z$.bind(null,t)}),t.B_.push(e=>_(this,null,function*(){e?(t.U_.s_(),yield Rh(t)):(yield t.U_.stop(),t.O_.length>0&&(j("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var m_=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new en,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function G_(t,e){if(nr("AsyncQueue",`${e}: ${t}`),Sc(t))return new F(M.UNAVAILABLE,`${e}: ${t}`);throw t}var ch=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||W.comparator(n.key,r.key):(n,r)=>W.comparator(n.key,r.key),this.keyedMap=oc(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var uh=class{constructor(){this.W_=new Oe(W.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Y():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},go=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,ch.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var y_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},v_=class{constructor(){this.queries=U0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=X(n),s=i.queries;i.queries=U0(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new F(M.ABORTED,"Firestore shutting down"))}};function U0(){return new Gr(t=>cA(t),bh)}function W_(t,e){return _(this,null,function*(){let n=X(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new y_,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=G_(o,`Initialization of query '${Xs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Q_(n)})}function K_(t,e){return _(this,null,function*(){let n=X(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function tH(t,e){let n=X(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Q_(n)}function nH(t,e,n){let r=X(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function Q_(t){t.Y_.forEach(e=>{e.next()})}var __,j0;(j0=__||(__={})).ea="default",j0.Cache="cache";var vc=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new go(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==__.Cache}};var lh=class{constructor(e){this.key=e}},dh=class{constructor(e){this.key=e}},I_=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=le(),this.mutatedKeys=le(),this.Aa=uA(e),this.Ra=new ch(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new uh,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Ch(this.query,p)?p:null,D=!!m&&this.mutatedKeys.has(m.key),R=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),S=!1;m&&y?m.data.isEqual(y.data)?D!==R&&(r.track({type:3,doc:y}),S=!0):this.ga(m,y)||(r.track({type:2,doc:y}),S=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),S=!0):m&&!y&&(r.track({type:1,doc:m}),S=!0,(u||l)&&(a=!0)),S&&(y?(o=o.add(y),s=R?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(y,D){let R=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return R(y)-R(D)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new go(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new uh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=le(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new dh(r))}),this.da.forEach(r=>{e.has(r)||n.push(new lh(r))}),n}ba(e){this.Ta=e.Ts,this.da=le();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return go.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},w_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},E_=class{constructor(e){this.key=e,this.va=!1}},T_=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Gr(a=>cA(a),bh),this.Ma=new Map,this.xa=new Set,this.Oa=new Oe(W.comparator),this.Na=new Map,this.La=new yc,this.Ba={},this.ka=new Map,this.qa=mc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function rH(t,e,n=!0){return _(this,null,function*(){let r=BA(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield LA(r,e,n,!0),i})}function iH(t,e){return _(this,null,function*(){let n=BA(t);yield LA(n,e,!0,!1)})}function LA(t,e,n,r){return _(this,null,function*(){let i=yield B$(t.localStore,_n(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return r&&(a=yield sH(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&NA(t.remoteStore,i),a})}function sH(t,e,n,r,i){return _(this,null,function*(){t.Ka=(p,m,y)=>function(R,S,P,V){return _(this,null,function*(){let k=S.view.ma(P);k.ns&&(k=yield F0(R.localStore,S.query,!1).then(({documents:E})=>S.view.ma(E,k)));let B=V&&V.targetChanges.get(S.targetId),ae=V&&V.targetMismatches.get(S.targetId)!=null,q=S.view.applyChanges(k,R.isPrimaryClient,B,ae);return $0(R,S.targetId,q.wa),q.snapshot})}(t,p,m,y);let s=yield F0(t.localStore,e,!0),o=new I_(e,s.Ts),a=o.ma(s.documents),u=pc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);$0(t,n,l.wa);let h=new w_(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function oH(t,e,n){return _(this,null,function*(){let r=X(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!bh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield o_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&$_(r.remoteStore,i.targetId),D_(r,i.targetId)}).catch(Cc))):(D_(r,i.targetId),yield o_(r.localStore,i.targetId,!0))})}function aH(t,e){return _(this,null,function*(){let n=X(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),$_(n.remoteStore,r.targetId))})}function cH(t,e,n){return _(this,null,function*(){let r=gH(t);try{let i=yield function(o,a){let u=X(o),l=Je.now(),h=a.reduce((y,D)=>y.add(D.key),le()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let D=ir(),R=le();return u.cs.getEntries(y,h).next(S=>{D=S,D.forEach((P,V)=>{V.isValidDocument()||(R=R.add(P))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,D)).next(S=>{p=S;let P=[];for(let V of a){let k=g$(V,p.get(V.key).overlayedDocument);k!=null&&P.push(new En(V.key,k,tA(k.value.mapValue),$r.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,P,a)}).next(S=>{m=S;let P=S.applyToLocalDocumentSet(p,R);return u.documentOverlayCache.saveOverlays(y,S.batchId,P)})}).then(()=>({batchId:m.batchId,changes:dA(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Oe(me)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Rc(r,i.changes),yield Rh(r.remoteStore)}catch(i){let s=G_(i,"Failed to persist write");n.reject(s)}})}function FA(t,e){return _(this,null,function*(){let n=X(t);try{let r=yield V$(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(_e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?_e(o.va):i.removedDocuments.size>0&&(_e(o.va),o.va=!1))}),yield Rc(n,r,e)}catch(r){yield Cc(r)}})}function B0(t,e,n){let r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=X(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&Q_(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function uH(t,e,n){return _(this,null,function*(){let r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Oe(W.comparator);o=o.insert(s,tn.newNoDocument(s,te.min()));let a=le().add(s),u=new Jd(te.min(),new Map,new Oe(me),o,a);yield FA(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),Y_(r)}else yield o_(r.localStore,e,!1).then(()=>D_(r,e,n)).catch(Cc)})}function lH(t,e){return _(this,null,function*(){let n=X(t),r=e.batch.batchId;try{let i=yield F$(n.localStore,e);UA(n,r,null),VA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Rc(n,i)}catch(i){yield Cc(i)}})}function dH(t,e,n){return _(this,null,function*(){let r=X(t);try{let i=yield function(o,a){let u=X(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(_e(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);UA(r,e,n),VA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Rc(r,i)}catch(i){yield Cc(i)}})}function VA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function UA(t,e,n){let r=X(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function D_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||jA(t,r)})}function jA(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&($_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Y_(t))}function $0(t,e,n){for(let r of n)r instanceof lh?(t.La.addReference(r.key,e),hH(t,r)):r instanceof dh?(j("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||jA(t,r.key)):Y()}function hH(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(j("SyncEngine","New document in limbo: "+n),t.xa.add(r),Y_(t))}function Y_(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new W(Ne.fromString(e)),r=t.qa.next();t.Na.set(r,new E_(n)),t.Oa=t.Oa.insert(n,r),NA(t.remoteStore,new gc(_n(Dh(n.path)),r,"TargetPurposeLimboResolution",J0.oe))}}function Rc(t,e,n){return _(this,null,function*(){let r=X(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=n_.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return _(this,null,function*(){let h=X(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>O.forEach(l,m=>O.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>O.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Sc(p))throw p;j("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.os.get(m),D=y.snapshotVersion,R=y.withLastLimboFreeSnapshotVersion(D);h.os=h.os.insert(m,R)}}})}(r.localStore,s))})}function fH(t,e){return _(this,null,function*(){let n=X(t);if(!n.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());let r=yield AA(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new F(M.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Rc(n,r.hs)}})}function pH(t,e){let n=X(t),r=n.Na.get(e);if(r&&r.va)return le().add(r.key);{let i=le(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function BA(t){let e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uH.bind(null,e),e.Ca.d_=tH.bind(null,e.eventManager),e.Ca.$a=nH.bind(null,e.eventManager),e}function gH(t){let e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dH.bind(null,e),e}var H0=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return _(this,null,function*(){this.serializer=Sh(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return L$(this.persistence,new i_,n.initialUser,this.serializer)}Ga(n){return new Xv(t_.Zr,this.serializer)}Wa(n){return new a_}terminate(){return _(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var mH=(()=>{class t{initialize(n,r){return _(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>B0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=fH.bind(null,this.syncEngine),yield eH(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new v_}()}createDatastore(n){let r=Sh(n.databaseInfo.databaseId),i=function(o){return new l_(o)}(n.databaseInfo);return function(o,a,u,l){return new f_(o,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,a,u){return new g_(i,s,o,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>B0(this.syncEngine,r,0),function(){return ih.D()?new ih:new c_}())}createSyncEngine(n,r){return function(s,o,a,u,l,h,p){let m=new T_(s,o,a,u,l,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var n,r;yield function(s){return _(this,null,function*(){let o=X(s);j("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Ac(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var _c=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var b_=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=We.UNAUTHENTICATED,this.clientId=qd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>_(this,null,function*(){j("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(j("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new en;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=G_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function nv(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(this,null,function*(){r.isEqual(i)||(yield AA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function q0(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield yH(t);j("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>V0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>V0(e.remoteStore,i)),t._onlineComponents=e})}function yH(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{yield nv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;so("Error using user provided cache. Falling back to memory cache: "+n),yield nv(t,new H0)}}else j("FirestoreClient","Using default OfflineComponentProvider"),yield nv(t,new H0);return t._offlineComponents})}function $A(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),yield q0(t,t._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),yield q0(t,new mH))),t._onlineComponents})}function vH(t){return $A(t).then(e=>e.syncEngine)}function hh(t){return _(this,null,function*(){let e=yield $A(t),n=e.eventManager;return n.onListen=rH.bind(null,e.syncEngine),n.onUnlisten=oH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=iH.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=aH.bind(null,e.syncEngine),n})}function _H(t,e,n={}){let r=new en;return t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(s,o,a,u,l){let h=new _c({next:m=>{h.Za(),o.enqueueAndForget(()=>K_(s,p));let y=m.docs.has(a);!y&&m.fromCache?l.reject(new F(M.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new F(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new vc(Dh(a.path),h,{includeMetadataChanges:!0,_a:!0});return W_(s,p)}(yield hh(t),t.asyncQueue,e,n,r)})),r.promise}function IH(t,e,n={}){let r=new en;return t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(s,o,a,u,l){let h=new _c({next:m=>{h.Za(),o.enqueueAndForget(()=>K_(s,p)),m.fromCache&&u.source==="server"?l.reject(new F(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new vc(a,h,{includeMetadataChanges:!0,_a:!0});return W_(s,p)}(yield hh(t),t.asyncQueue,e,n,r)})),r.promise}function HA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var z0=new Map;function qA(t,e,n){if(!n)throw new F(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wH(t,e,n,r){if(e===!0&&r===!0)throw new F(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function G0(t){if(!W.isDocumentKey(t))throw new F(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function W0(t){if(W.isDocumentKey(t))throw new F(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Nh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y()}function Ht(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Nh(t);throw new F(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var fh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new F(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new F(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new F(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new F(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new F(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},mo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fh({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new F(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rv;switch(r.type){case"firstParty":return new av(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=z0.get(n);r&&(j("ComponentProvider","Removing Datastore"),z0.delete(n),r.terminate())}(this),Promise.resolve()}};function zA(t,e,n,r={}){var i;let s=(t=Ht(t,mo))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=We.MOCK_USER;else{a=hd(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new F(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new We(l)}t._authCredentials=new iv(new Hd(a,u))}}var Kr=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},lt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Hr=class t extends Kr{constructor(e,n,r){super(e,n,Dh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new lt(this.firestore,null,new W(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function GA(t,e,...n){if(t=be(t),qA("collection","path",e),t instanceof mo){let r=Ne.fromString(e,...n);return W0(r),new Hr(t,null,r)}{if(!(t instanceof lt||t instanceof Hr))throw new F(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ne.fromString(e,...n));return W0(r),new Hr(t.firestore,null,r)}}function WA(t,e,...n){if(t=be(t),arguments.length===1&&(e=qd.newId()),qA("doc","path",e),t instanceof mo){let r=Ne.fromString(e,...n);return G0(r),new lt(t,null,new W(r))}{if(!(t instanceof lt||t instanceof Hr))throw new F(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ne.fromString(e,...n));return G0(r),new lt(t.firestore,t instanceof Hr?t.converter:null,new W(r))}}var ph=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new sh(this,"async_queue_retry"),this.Vu=()=>{let r=tv();r&&j("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=tv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=tv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new en;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return _(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Sc(e))throw e;j("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw nr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=m_.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Y()}verifyOperationInProgress(){}wu(){return _(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function K0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var sr=class extends mo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ph,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new ph(e),this._firestoreClient=void 0,yield e}})}};function KA(t,e){let n=typeof t=="object"?t:Wn(),r=typeof t=="string"?t:e||"(default)",i=Gn(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=dd("firestore");s&&zA(i,...s)}return i}function Mh(t){if(t._terminated)throw new F(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||EH(t),t._firestoreClient}function EH(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,h){return new hv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,HA(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new b_(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var Ic=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(dt.fromBase64String(e))}catch(n){throw new F(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var yo=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var wc=class{constructor(e){this._methodName=e}};var Ec=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}};var Tc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var TH=/^__.*__$/,C_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new En(e,this.data,this.fieldMask,n,this.fieldTransforms):new ji(e,this.data,n,this.fieldTransforms)}},gh=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new En(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function QA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}var S_=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return yh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(QA(this.Cu)&&TH.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},A_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Sh(e)}Qu(e,n,r,i=!1){return new S_({Cu:e,methodName:n,qu:r,path:xt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function J_(t){let e=t._freezeSettings(),n=Sh(t._databaseId);return new A_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function DH(t,e,n,r,i,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Z_("Data must be an object, but it was:",o,r);let a=YA(r,o),u,l;if(s.merge)u=new $t(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let m=R_(e,p,n);if(!o.contains(m))throw new F(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);ZA(h,m)||h.push(m)}u=new $t(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new C_(new Mt(a),u,l)}var mh=class t extends wc{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function bH(t,e,n,r){let i=t.Qu(1,e,n);Z_("Data must be an object, but it was:",i,r);let s=[],o=Mt.empty();Bi(r,(u,l)=>{let h=X_(e,u,n);l=be(l);let p=i.Nu(h);if(l instanceof mh)s.push(h);else{let m=Nc(l,p);m!=null&&(s.push(h),o.set(h,m))}});let a=new $t(s);return new gh(o,a,i.fieldTransforms)}function CH(t,e,n,r,i,s){let o=t.Qu(1,e,n),a=[R_(e,r,n)],u=[i];if(s.length%2!=0)throw new F(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(R_(e,s[m])),u.push(s[m+1]);let l=[],h=Mt.empty();for(let m=a.length-1;m>=0;--m)if(!ZA(l,a[m])){let y=a[m],D=u[m];D=be(D);let R=o.Nu(y);if(D instanceof mh)l.push(y);else{let S=Nc(D,R);S!=null&&(l.push(y),h.set(y,S))}}let p=new $t(l);return new gh(h,p,o.fieldTransforms)}function SH(t,e,n,r=!1){return Nc(n,t.Qu(r?4:3,e))}function Nc(t,e){if(JA(t=be(t)))return Z_("Unsupported field value:",e,t),YA(t,e);if(t instanceof wc)return function(r,i){if(!QA(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=Nc(a,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=be(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return l$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Je.fromDate(r);return{timestampValue:th(i.serializer,s)}}if(r instanceof Je){let s=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:th(i.serializer,s)}}if(r instanceof Ec)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ic)return{bytesValue:wA(i.serializer,r._byteString)};if(r instanceof lt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:B_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Tc)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return j_(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Nh(r)}`)}(t,e)}function YA(t,e){let n={};return Z0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bi(t,(r,i)=>{let s=Nc(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function JA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof Ec||t instanceof Ic||t instanceof lt||t instanceof wc||t instanceof Tc)}function Z_(t,e,n){if(!JA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Nh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function R_(t,e,n){if((e=be(e))instanceof yo)return e._internalPath;if(typeof e=="string")return X_(t,e);throw yh("Field path arguments must be of type string or ",t,!1,void 0,n)}var AH=new RegExp("[~\\*/\\[\\]]");function X_(t,e,n){if(e.search(AH)>=0)throw yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yo(...e.split("."))._internalPath}catch{throw yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function yh(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new F(M.INVALID_ARGUMENT,a+t+u)}function ZA(t,e){return t.some(n=>n.isEqual(e))}var vh=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new N_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(xh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},N_=class extends vh{data(){return super.data()}};function xh(t,e){return typeof e=="string"?X_(t,e):e instanceof yo?e._internalPath:e._delegate._internalPath}function XA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Dc=class{},_h=class extends Dc{};function eR(t,e,...n){let r=[];e instanceof Dc&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof M_).length,a=s.filter(u=>u instanceof Ih).length;if(o>1||o>0&&a>0)throw new F(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Ih=class t extends _h{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return rR(e._query,n),new Kr(e.firestore,e.converter,bv(e._query,n))}_parse(e){let n=J_(e.firestore);return function(s,o,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new F(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Y0(p,h);let y=[];for(let D of p)y.push(Q0(u,s,D));m={arrayValue:{values:y}}}else m=Q0(u,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Y0(p,h),m=SH(a,o,p,h==="in"||h==="not-in");return Be.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function tR(t,e,n){let r=e,i=xh("where",t);return Ih._create(i,r,n)}var M_=class t extends Dc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:nn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)rR(o,u),o=bv(o,u)}(e._query,n),new Kr(e.firestore,e.converter,bv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var x_=class t extends _h{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new F(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new F(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fi(s,o)}(e._query,this._field,this._direction);return new Kr(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new zr(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function nR(t,e="asc"){let n=e,r=xh("orderBy",t);return x_._create(r,n)}function Q0(t,e,n){if(typeof(n=be(n))=="string"){if(n==="")throw new F(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aA(e)&&n.indexOf("/")!==-1)throw new F(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ne.fromString(n));if(!W.isDocumentKey(r))throw new F(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return I0(t,new W(r))}if(n instanceof lt)return I0(t,n._key);throw new F(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nh(n)}.`)}function Y0(t,e){if(!Array.isArray(t)||t.length===0)throw new F(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rR(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new F(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new F(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var P_=class{convertValue(e,n="none"){switch(Li(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Bi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ae(o.doubleValue));return new Tc(s)}convertGeoPoint(e){return new Ec(Ae(e.latitude),Ae(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=L_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hc(e));default:return null}}convertTimestamp(e){let n=rr(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ne.fromString(e);_e(SA(r));let i=new Kd(r.get(1),r.get(3)),s=new W(r.popFirst(5));return i.isEqual(n)||nr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function RH(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Pi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},wh=class extends vh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new io(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(xh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},io=class extends wh{data(e={}){return super.data(e)}},Eh=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Pi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new io(this._firestore,this._userDataWriter,r.key,r,new Pi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new io(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Pi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new io(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Pi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:NH(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function NH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}function iR(t){t=Ht(t,lt);let e=Ht(t.firestore,sr);return _H(Mh(e),t._key).then(n=>uR(e,t,n))}var bc=class extends P_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ic(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new lt(this.firestore,null,n)}};function sR(t){t=Ht(t,Kr);let e=Ht(t.firestore,sr),n=Mh(e),r=new bc(e);return XA(t._query),IH(n,t._query).then(i=>new Eh(e,r,t,i))}function oR(t,e,n){t=Ht(t,lt);let r=Ht(t.firestore,sr),i=RH(t.converter,e,n);return cR(r,[DH(J_(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,$r.none())])}function aR(t,e,n,...r){t=Ht(t,lt);let i=Ht(t.firestore,sr),s=J_(i),o;return o=typeof(e=be(e))=="string"||e instanceof yo?CH(s,"updateDoc",t._key,e,n,r):bH(s,"updateDoc",t._key,e),cR(i,[o.toMutation(t._key,$r.exists(!0))])}function eI(t,...e){var n,r,i;t=be(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||K0(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(K0(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof lt)l=Ht(t.firestore,sr),h=Dh(t._key.path),u={next:p=>{e[o]&&e[o](uR(l,t,p))},error:e[o+1],complete:e[o+2]};else{let p=Ht(t,Kr);l=Ht(p.firestore,sr),h=p._query;let m=new bc(l);u={next:y=>{e[o]&&e[o](new Eh(l,m,p,y))},error:e[o+1],complete:e[o+2]},XA(t._query)}return function(m,y,D,R){let S=new _c(R),P=new vc(y,S,D);return m.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return W_(yield hh(m),P)})),()=>{S.Za(),m.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return K_(yield hh(m),P)}))}}(Mh(l),h,a,u)}function cR(t,e){return function(r,i){let s=new en;return r.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return cH(yield vH(r),i,s)})),s.promise}(Mh(t),e)}function uR(t,e,n){let r=n.docs.get(e._key),i=new bc(t);return new wh(t,i,e._key,r,new Pi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){vo=i})(Zt),Jt(new Tt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new sr(new sv(r.getProvider("auth-internal")),new uv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new F(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kd(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Te(m0,"4.7.3",e),Te(m0,"4.7.3","esm2017")})();var Ph=function(){return Ph=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ph.apply(this,arguments)};var PH={includeMetadataChanges:!1};function tI(t,e){return e===void 0&&(e=PH),new ie(function(n){var r=eI(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function lR(t){return tI(t,{includeMetadataChanges:!0})}function dR(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Ph(Ph({},r),(n={},n[e.idField]=t.id,n))}function hR(t){return tI(t,{includeMetadataChanges:!0}).pipe(Z(function(e){return e.docs}))}function fR(t,e){return e===void 0&&(e={}),hR(t).pipe(Z(function(n){return n.map(function(r){return dR(r,e)})}))}var Mc=class{constructor(e){return e}},pR="firestore",nI=class{constructor(){return bi(pR)}};var rI=new $("angularfire2.firestore-instances");function OH(t,e){let n=Qs(pR,t,e);return n&&new Mc(n)}function kH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Mc(r)}}var LH={provide:nI,deps:[[new ke,rI]]},FH={provide:Mc,useFactory:OH,deps:[[new ke,rI],Xt]};function RQ(t,...e){return Te("angularfire",Kn.full,"fst"),Et([FH,LH,{provide:rI,useFactory:kH(t),multi:!0,deps:[he,qe,Vr,Qn,[new ke,Ni],[new ke,Fr],...e]}])}var NQ=Ce(fR,!0);var MQ=Ce(lR,!0);var xQ=Ce(GA,!0);var PQ=Ce(WA,!0);var OQ=Ce(iR,!0);var kQ=Ce(sR,!0);var LQ=Ce(KA,!0);var FQ=Ce(nR,!0);var VQ=Ce(eR,!0);var UQ=Ce(oR,!0);var jQ=Ce(aR,!0);var BQ=Ce(tR,!0);var ER="firebasestorage.googleapis.com",TR="storageBucket",VH=2*60*1e3,UH=10*60*1e3,jH=1e3;var Me=class t extends at{constructor(e,n,r=0){super(iI(e),`Firebase Storage: ${n} (${iI(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return iI(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Re=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Re||{});function iI(t){return"storage/"+t}function fI(){let t="An unknown error occurred, please check the error payload for server response.";return new Me(Re.UNKNOWN,t)}function BH(t){return new Me(Re.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function $H(t){return new Me(Re.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function HH(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Me(Re.UNAUTHENTICATED,t)}function qH(){return new Me(Re.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function zH(t){return new Me(Re.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function DR(){return new Me(Re.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function bR(){return new Me(Re.CANCELED,"User canceled the upload/download.")}function GH(t){return new Me(Re.INVALID_URL,"Invalid URL '"+t+"'.")}function WH(t){return new Me(Re.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function KH(){return new Me(Re.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+TR+"' property when initializing the app?")}function CR(){return new Me(Re.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function QH(){return new Me(Re.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function YH(){return new Me(Re.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function JH(t){return new Me(Re.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function oI(t){return new Me(Re.INVALID_ARGUMENT,t)}function SR(){return new Me(Re.APP_DELETED,"The Firebase app was deleted.")}function ZH(t){return new Me(Re.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Pc(t,e){return new Me(Re.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function xc(t){throw new Me(Re.INTERNAL_ERROR,"Internal error: "+t)}var rn=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw WH(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function l(B){B.path_=decodeURIComponent(B.path)}let h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${p}/${h}/b/${i}/o${m}`,"i"),D={bucket:1,path:3},R=n===ER?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",P=new RegExp(`^https?://${R}/${i}/${S}`,"i"),k=[{regex:a,indices:u,postModify:s},{regex:y,indices:D,postModify:l},{regex:P,indices:{bucket:1,path:2},postModify:l}];for(let B=0;B<k.length;B++){let ae=k[B],q=ae.regex.exec(e);if(q){let E=q[ae.indices.bucket],v=q[ae.indices.path];v||(v=""),r=new t(E,v),ae.postModify(r);break}}if(r==null)throw GH(e);return r}},aI=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function XH(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let l=!1;function h(...S){l||(l=!0,e.apply(null,S))}function p(S){i=setTimeout(()=>{i=null,t(y,u())},S)}function m(){s&&clearTimeout(s)}function y(S,...P){if(l){m();return}if(S){m(),h.call(null,S,...P);return}if(u()||o){m(),h.call(null,S,...P);return}r<64&&(r*=2);let k;a===1?(a=2,k=0):k=(r+Math.random())*1e3,p(k)}let D=!1;function R(S){D||(D=!0,m(),!l&&(i!==null?(S||(a=2),clearTimeout(i),p(0)):S||(a=1)))}return p(0),s=setTimeout(()=>{o=!0,R(!0)},n),R}function eq(t){t(!1)}function tq(t){return t!==void 0}function nq(t){return typeof t=="function"}function rq(t){return typeof t=="object"&&!Array.isArray(t)}function Fh(t){return typeof t=="string"||t instanceof String}function gR(t){return pI()&&t instanceof Blob}function pI(){return typeof Blob<"u"}function mR(t,e,n,r){if(r<e)throw oI(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw oI(`Invalid value for '${t}'. Expected ${n} or less.`)}function Lc(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function AR(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var To=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(To||{});function RR(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var cI=class{constructor(e,n,r,i,s,o,a,u,l,h,p,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=h,this.connectionFactory_=p,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,D)=>{this.resolve_=y,this.reject_=D,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Eo(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===To.NO_ERROR,u=s.getStatus();if(!a||RR(u,this.additionalRetryCodes_)&&this.retry){let h=s.getErrorCode()===To.ABORT;r(!1,new Eo(!1,null,h));return}let l=this.successCodes_.indexOf(u)!==-1;r(!0,new Eo(l,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(a,a.getResponse());tq(u)?s(u):s()}catch(u){o(u)}else if(a!==null){let u=fI();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){let u=this.appDelete_?SR():bR();o(u)}else{let u=DR();o(u)}};this.canceled_?n(!1,new Eo(!1,null,!0)):this.backoffId_=XH(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&eq(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Eo=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function iq(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function sq(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function oq(t,e){e&&(t["X-Firebase-GMPID"]=e)}function aq(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function cq(t,e,n,r,i,s,o=!0){let a=AR(t.urlParams),u=t.url+a,l=Object.assign({},t.headers);return oq(l,e),iq(l,n),sq(l,s),aq(l,r),new cI(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function uq(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function lq(...t){let e=uq();if(e!==void 0){let n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(pI())return new Blob(t);throw new Me(Re.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function dq(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function hq(t){if(typeof atob>"u")throw JH("base-64");return atob(t)}var Tn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Oc=class{constructor(e,n){this.data=e,this.contentType=n||null}};function fq(t,e){switch(t){case Tn.RAW:return new Oc(NR(e));case Tn.BASE64:case Tn.BASE64URL:return new Oc(MR(t,e));case Tn.DATA_URL:return new Oc(gq(e),mq(e))}throw fI()}function NR(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function pq(t){let e;try{e=decodeURIComponent(t)}catch{throw Pc(Tn.DATA_URL,"Malformed data URL.")}return NR(e)}function MR(t,e){switch(t){case Tn.BASE64:{let i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Pc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Tn.BASE64URL:{let i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Pc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=hq(e)}catch(i){throw i.message.includes("polyfill")?i:Pc(t,"Invalid character found")}let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var kh=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw Pc(Tn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=n[1]||null;r!=null&&(this.base64=yq(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function gq(t){let e=new kh(t);return e.base64?MR(Tn.BASE64,e.rest):pq(e.rest)}function mq(t){return new kh(t).contentType}function yq(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var Lh=class t{constructor(e,n){let r=0,i="";gR(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(gR(this.data_)){let r=this.data_,i=dq(r,e,n);return i===null?null:new t(i)}else{let r=new Uint8Array(this.data_.buffer,e,n-e);return new t(r,!0)}}static getBlob(...e){if(pI()){let n=e.map(r=>r instanceof t?r.data_:r);return new t(lq.apply(null,n))}else{let n=e.map(o=>Fh(o)?fq(Tn.RAW,o).data:o.data_),r=0;n.forEach(o=>{r+=o.byteLength});let i=new Uint8Array(r),s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new t(i,!0)}}uploadData(){return this.data_}};function xR(t){let e;try{e=JSON.parse(t)}catch{return null}return rq(e)?e:null}function vq(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function _q(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function PR(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function Iq(t,e){return e}var Ze=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Iq}},Oh=null;function wq(t){return!Fh(t)||t.length<2?t:PR(t)}function OR(){if(Oh)return Oh;let t=[];t.push(new Ze("bucket")),t.push(new Ze("generation")),t.push(new Ze("metageneration")),t.push(new Ze("name","fullPath",!0));function e(s,o){return wq(o)}let n=new Ze("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}let i=new Ze("size");return i.xform=r,t.push(i),t.push(new Ze("timeCreated")),t.push(new Ze("updated")),t.push(new Ze("md5Hash",null,!0)),t.push(new Ze("cacheControl",null,!0)),t.push(new Ze("contentDisposition",null,!0)),t.push(new Ze("contentEncoding",null,!0)),t.push(new Ze("contentLanguage",null,!0)),t.push(new Ze("contentType",null,!0)),t.push(new Ze("metadata","customMetadata",!0)),Oh=t,Oh}function Eq(t,e){function n(){let r=t.bucket,i=t.fullPath,s=new rn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Tq(t,e,n){let r={};r.type="file";let i=n.length;for(let s=0;s<i;s++){let o=n[s];r[o.local]=o.xform(r,e[o.server])}return Eq(r,t),r}function kR(t,e,n){let r=xR(e);return r===null?null:Tq(t,r,n)}function Dq(t,e,n,r){let i=xR(e);if(i===null||!Fh(i.downloadTokens))return null;let s=i.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(l=>{let h=t.bucket,p=t.fullPath,m="/b/"+o(h)+"/o/"+o(p),y=Lc(m,n,r),D=AR({alt:"media",token:l});return y+D})[0]}function LR(t,e){let n={},r=e.length;for(let i=0;i<r;i++){let s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var Qr=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function or(t){if(!t)throw fI()}function gI(t,e){function n(r,i){let s=kR(t,i,e);return or(s!==null),s}return n}function bq(t,e){function n(r,i){let s=kR(t,i,e);return or(s!==null),Dq(s,i,t.host,t._protocol)}return n}function Fc(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=qH():i=HH():n.getStatus()===402?i=$H(t.bucket):n.getStatus()===403?i=zH(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function FR(t){let e=Fc(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=BH(t.path)),s.serverResponse=i.serverResponse,s}return n}function Cq(t,e,n){let r=e.fullServerUrl(),i=Lc(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Qr(i,s,gI(t,n),o);return a.errorHandler=FR(e),a}function Sq(t,e,n){let r=e.fullServerUrl(),i=Lc(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Qr(i,s,bq(t,n),o);return a.errorHandler=FR(e),a}function Aq(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function VR(t,e,n){let r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Aq(null,e)),r}function Rq(t,e,n,r,i){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let k="";for(let B=0;B<2;B++)k=k+Math.random().toString().slice(2);return k}let u=a();o["Content-Type"]="multipart/related; boundary="+u;let l=VR(e,r,i),h=LR(l,n),p="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,m=`\r
--`+u+"--",y=Lh.getBlob(p,r,m);if(y===null)throw CR();let D={name:l.fullPath},R=Lc(s,t.host,t._protocol),S="POST",P=t.maxUploadRetryTime,V=new Qr(R,S,gI(t,n),P);return V.urlParams=D,V.headers=o,V.body=y.uploadData(),V.errorHandler=Fc(e),V}var Do=class{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}};function mI(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{or(!1)}return or(!!n&&(e||["active"]).indexOf(n)!==-1),n}function Nq(t,e,n,r,i){let s=e.bucketOnlyServerUrl(),o=VR(e,r,i),a={name:o.fullPath},u=Lc(s,t.host,t._protocol),l="POST",h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},p=LR(o,n),m=t.maxUploadRetryTime;function y(R){mI(R);let S;try{S=R.getResponseHeader("X-Goog-Upload-URL")}catch{or(!1)}return or(Fh(S)),S}let D=new Qr(u,l,y,m);return D.urlParams=a,D.headers=h,D.body=p,D.errorHandler=Fc(e),D}function Mq(t,e,n,r){let i={"X-Goog-Upload-Command":"query"};function s(l){let h=mI(l,["active","final"]),p=null;try{p=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{or(!1)}p||or(!1);let m=Number(p);return or(!isNaN(m)),new Do(m,r.size(),h==="final")}let o="POST",a=t.maxUploadRetryTime,u=new Qr(n,o,s,a);return u.headers=i,u.errorHandler=Fc(e),u}var yR=256*1024;function xq(t,e,n,r,i,s,o,a){let u=new Do(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw QH();let l=u.total-u.current,h=l;i>0&&(h=Math.min(h,i));let p=u.current,m=p+h,y="";h===0?y="finalize":l===h?y="upload, finalize":y="upload";let D={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":`${u.current}`},R=r.slice(p,m);if(R===null)throw CR();function S(B,ae){let q=mI(B,["active","final"]),E=u.current+h,v=r.size(),I;return q==="final"?I=gI(e,s)(B,ae):I=null,new Do(E,v,q==="final",I)}let P="POST",V=e.maxUploadRetryTime,k=new Qr(n,P,S,V);return k.headers=D,k.body=R.uploadData(),k.progressCallback=a||null,k.errorHandler=Fc(t),k}var Dt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function sI(t){switch(t){case"running":case"pausing":case"canceling":return Dt.RUNNING;case"paused":return Dt.PAUSED;case"success":return Dt.SUCCESS;case"canceled":return Dt.CANCELED;case"error":return Dt.ERROR;default:return Dt.ERROR}}var uI=class{constructor(e,n,r){if(nq(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{let s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}};function Io(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}var vR=null,lI=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=To.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=To.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=To.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw xc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw xc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw xc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw xc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw xc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},dI=class extends lI{initXhr(){this.xhr_.responseType="text"}};function wo(){return vR?vR():new dI}var hI=class{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=OR(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Re.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let s=this.isExponentialBackoffExpired();if(RR(i.status,[]))if(s)i=DR();else{this.sleepTime=Math.max(this.sleepTime*2,jH),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Re.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{let r=Nq(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,wo,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((n,r)=>{let i=Mq(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,wo,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=yR*this._chunkMultiplier,n=new Do(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=xq(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(u){this._error=u,this._transition("error");return}let a=this._ref.storage._makeRequest(o,wo,i,s,!1);this._request=a,a.getPromise().then(u=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(u.current),u.finalized?(this._metadata=u.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){yR*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{let r=Cq(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,wo,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{let r=Rq(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,wo,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=bR(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=sI(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){let s=new uI(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(sI(this._state)){case Dt.SUCCESS:Io(this._resolve.bind(null,this.snapshot))();break;case Dt.CANCELED:case Dt.ERROR:let n=this._reject;Io(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(sI(this._state)){case Dt.RUNNING:case Dt.PAUSED:e.next&&Io(e.next.bind(e,this.snapshot))();break;case Dt.SUCCESS:e.complete&&Io(e.complete.bind(e))();break;case Dt.CANCELED:case Dt.ERROR:e.error&&Io(e.error.bind(e,this._error))();break;default:e.error&&Io(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var bo=class t{constructor(e,n){this._service=e,n instanceof rn?this._location=n:this._location=rn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new rn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return PR(this._location.path)}get storage(){return this._service}get parent(){let e=vq(this._location.path);if(e===null)return null;let n=new rn(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw ZH(e)}};function Pq(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new hI(t,new Lh(e),n)}function Oq(t){t._throwIfRoot("getDownloadURL");let e=Sq(t.storage,t._location,OR());return t.storage.makeRequestWithTokens(e,wo).then(n=>{if(n===null)throw YH();return n})}function kq(t,e){let n=_q(t._location.path,e),r=new rn(t._location.bucket,n);return new bo(t.storage,r)}function Lq(t){return/^[A-Za-z]+:\/\//.test(t)}function Fq(t,e){return new bo(t,e)}function UR(t,e){if(t instanceof kc){let n=t;if(n._bucket==null)throw KH();let r=new bo(n,n._bucket);return e!=null?UR(r,e):r}else return e!==void 0?kq(t,e):t}function Vq(t,e){if(e&&Lq(e)){if(t instanceof kc)return Fq(t,e);throw oI("To use ref(service, url), the first argument must be a Storage instance.")}else return UR(t,e)}function _R(t,e){let n=e?.[TR];return n==null?null:rn.makeFromBucketSpec(n,t)}function Uq(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:hd(i,t.app.options.projectId))}var kc=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=ER,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=VH,this._maxUploadRetryTime=UH,this._requests=new Set,i!=null?this._bucket=rn.makeFromBucketSpec(i,this._host):this._bucket=_R(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=rn.makeFromBucketSpec(this._url,e):this._bucket=_R(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){mR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){mR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return _(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return _(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new bo(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new aI(SR());{let o=cq(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return _(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},IR="@firebase/storage",wR="0.13.2";var jR="storage";function BR(t,e,n){return t=be(t),Pq(t,e,n)}function $R(t){return t=be(t),Oq(t)}function HR(t,e){return t=be(t),Vq(t,e)}function qR(t=Wn(),e){t=be(t);let r=Gn(t,jR).getImmediate({identifier:e}),i=dd("storage");return i&&zR(r,...i),r}function zR(t,e,n,r={}){Uq(t,e,n,r)}function jq(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new kc(n,r,i,e,Zt)}function Bq(){Jt(new Tt(jR,jq,"PUBLIC").setMultipleInstances(!0)),Te(IR,wR,""),Te(IR,wR,"esm2017")}Bq();var Vc=class{constructor(e){return e}},GR="storage",yI=class{constructor(){return bi(GR)}};var vI=new $("angularfire2.storage-instances");function $q(t,e){let n=Qs(GR,t,e);return n&&new Vc(n)}function Hq(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Vc(r)}}var qq={provide:yI,deps:[[new ke,vI]]},zq={provide:Vc,useFactory:$q,deps:[[new ke,vI],Xt]};function pY(t,...e){return Te("angularfire",Kn.full,"gcs"),Et([zq,qq,{provide:vI,useFactory:Hq(t),multi:!0,deps:[he,qe,Vr,Qn,[new ke,Ni],[new ke,Fr],...e]}])}var gY=Ce($R,!0);var mY=Ce(qR,!0);var yY=Ce(HR,!0);var vY=Ce(BR,!0);export{U as a,Ee as b,_ as c,rt as d,Se as e,Z as f,oM as g,z as h,QE as i,H as j,Ds as k,$ as l,se as m,G as n,lT as o,bs as p,mi as q,oa as r,l6 as s,d6 as t,og as u,qe as v,it as w,he as x,Fn as y,h6 as z,Ye as A,ua as B,m6 as C,mk as D,Ak as E,Bk as F,$k as G,ib as H,sb as I,Rg as J,y6 as K,Ng as L,v6 as M,_6 as N,s1 as O,o1 as P,I6 as Q,w6 as R,c1 as S,ab as T,u1 as U,E6 as V,l1 as W,T6 as X,ub as Y,D6 as Z,la as _,b6 as $,ha as aa,fa as ba,C6 as ca,L1 as da,Ns as ea,Z6 as fa,X6 as ga,e8 as ha,$1 as ia,p8 as ja,j8 as ka,lF as la,Hn as ma,s5 as na,o5 as oa,a5 as pa,OV as qa,LV as ra,qn as sa,l5 as ta,ZC as ua,Tt as va,kr as wa,Ga as xa,ty as ya,OU as za,Jt as Aa,Zt as Ba,md as Ca,sy as Da,Te as Ea,gS as Fa,mS as Ga,qU as Ha,$5 as Ia,H5 as Ja,rc as Ka,LK as La,FK as Ma,VK as Na,UK as Oa,jK as Pa,Mc as Qa,RQ as Ra,NQ as Sa,MQ as Ta,xQ as Ua,PQ as Va,OQ as Wa,kQ as Xa,LQ as Ya,FQ as Za,VQ as _a,UQ as $a,jQ as ab,BQ as bb,Vc as cb,pY as db,gY as eb,mY as fb,yY as gb,vY as hb};
