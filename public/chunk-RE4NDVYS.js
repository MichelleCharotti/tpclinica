var Mw=Object.defineProperty,qN=Object.defineProperties;var HN=Object.getOwnPropertyDescriptors;var Rw=Object.getOwnPropertySymbols,zN=Object.getPrototypeOf,GN=Object.prototype.hasOwnProperty,WN=Object.prototype.propertyIsEnumerable,KN=Reflect.get;var Nw=(t,e,n)=>e in t?Mw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,U=(t,e)=>{for(var n in e||={})GN.call(e,n)&&Nw(t,n,e[n]);if(Rw)for(var n of Rw(e))WN.call(e,n)&&Nw(t,n,e[n]);return t},Ee=(t,e)=>qN(t,HN(e));var QN=(t,e)=>{for(var n in e)Mw(t,n,{get:e[n],enumerable:!0})};var hr=(t,e,n)=>KN(zN(t),n,e);var _=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(l){i(l)}},o=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});function xw(t,e){return Object.is(t,e)}var $e=null,ou=!1,au=1,An=Symbol("SIGNAL");function pe(t){let e=$e;return $e=t,e}function Pw(){return $e}var ea={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function If(t){if(ou)throw new Error("");if($e===null)return;$e.consumerOnSignalRead(t);let e=$e.nextProducerIndex++;if(du($e),e<$e.producerNode.length&&$e.producerNode[e]!==t&&Xo($e)){let n=$e.producerNode[e];lu(n,$e.producerIndexOfThis[e])}$e.producerNode[e]!==t&&($e.producerNode[e]=t,$e.producerIndexOfThis[e]=Xo($e)?Fw(t,$e,e):0),$e.producerLastReadVersion[e]=t.version}function YN(){au++}function Ow(t){if(!(Xo(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===au)){if(!t.producerMustRecompute(t)&&!Ef(t)){t.dirty=!1,t.lastCleanEpoch=au;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=au}}function kw(t){if(t.liveConsumerNode===void 0)return;let e=ou;ou=!0;try{for(let n of t.liveConsumerNode)n.dirty||JN(n)}finally{ou=e}}function Lw(){return $e?.consumerAllowSignalWrites!==!1}function JN(t){t.dirty=!0,kw(t),t.consumerMarkedDirty?.(t)}function uu(t){return t&&(t.nextProducerIndex=0),pe(t)}function wf(t,e){if(pe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Xo(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)lu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ef(t){du(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Ow(n),r!==n.version))return!0}return!1}function Tf(t){if(du(t),Xo(t))for(let e=0;e<t.producerNode.length;e++)lu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Fw(t,e,n){if(Vw(t),t.liveConsumerNode.length===0&&Uw(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Fw(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function lu(t,e){if(Vw(t),t.liveConsumerNode.length===1&&Uw(t))for(let r=0;r<t.producerNode.length;r++)lu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];du(i),i.producerIndexOfThis[r]=e}}function Xo(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function du(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Vw(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Uw(t){return t.producerNode!==void 0}function jw(t){let e=Object.create(ZN);e.computation=t;let n=()=>{if(Ow(e),If(e),e.value===cu)throw e.error;return e.value};return n[An]=e,n}var vf=Symbol("UNSET"),_f=Symbol("COMPUTING"),cu=Symbol("ERRORED"),ZN=Ee(U({},ea),{value:vf,dirty:!0,error:null,equal:xw,producerMustRecompute(t){return t.value===vf||t.value===_f},producerRecomputeValue(t){if(t.value===_f)throw new Error("Detected cycle in computations.");let e=t.value;t.value=_f;let n=uu(t),r;try{r=t.computation()}catch(i){r=cu,t.error=i}finally{wf(t,n)}if(e!==vf&&e!==cu&&r!==cu&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function XN(){throw new Error}var Bw=XN;function $w(){Bw()}function qw(t){Bw=t}var eM=null;function Hw(t){let e=Object.create(Gw);e.value=t;let n=()=>(If(e),e.value);return n[An]=e,n}function Df(t,e){Lw()||$w(),t.equal(t.value,e)||(t.value=e,tM(t))}function zw(t,e){Lw()||$w(),Df(t,e(t.value))}var Gw=Ee(U({},ea),{equal:xw,value:void 0});function tM(t){t.version++,YN(),kw(t),eM?.()}function ee(t){return typeof t=="function"}function Xi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var hu=Xi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ti(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Pe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ee(r))try{r()}catch(s){e=s instanceof hu?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Ww(s)}catch(o){e=e??[],o instanceof hu?e=[...e,...o.errors]:e.push(o)}}if(e)throw new hu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Ww(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ti(n,e)}remove(e){let{_finalizers:n}=this;n&&ti(n,e),e instanceof t&&e._removeParent(this)}};Pe.EMPTY=(()=>{let t=new Pe;return t.closed=!0,t})();var bf=Pe.EMPTY;function fu(t){return t instanceof Pe||t&&"closed"in t&&ee(t.remove)&&ee(t.add)&&ee(t.unsubscribe)}function Ww(t){ee(t)?t():t.unsubscribe()}var zt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var es={setTimeout(t,e,...n){let{delegate:r}=es;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=es;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function pu(t){es.setTimeout(()=>{let{onUnhandledError:e}=zt;if(e)e(t);else throw t})}function ta(){}var Kw=Cf("C",void 0,void 0);function Qw(t){return Cf("E",void 0,t)}function Yw(t){return Cf("N",t,void 0)}function Cf(t,e,n){return{kind:t,value:e,error:n}}var ni=null;function ts(t){if(zt.useDeprecatedSynchronousErrorHandling){let e=!ni;if(e&&(ni={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ni;if(ni=null,n)throw r}}else t()}function Jw(t){zt.useDeprecatedSynchronousErrorHandling&&ni&&(ni.errorThrown=!0,ni.error=t)}var ri=class extends Pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,fu(e)&&e.add(this)):this.destination=iM}static create(e,n,r){return new ns(e,n,r)}next(e){this.isStopped?Af(Yw(e),this):this._next(e)}error(e){this.isStopped?Af(Qw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Af(Kw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},nM=Function.prototype.bind;function Sf(t,e){return nM.call(t,e)}var Rf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){gu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){gu(r)}else gu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){gu(n)}}},ns=class extends ri{constructor(e,n,r){super();let i;if(ee(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&zt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Sf(e.next,s),error:e.error&&Sf(e.error,s),complete:e.complete&&Sf(e.complete,s)}):i=e}this.destination=new Rf(i)}};function gu(t){zt.useDeprecatedSynchronousErrorHandling?Jw(t):pu(t)}function rM(t){throw t}function Af(t,e){let{onStoppedNotification:n}=zt;n&&es.setTimeout(()=>n(t,e))}var iM={closed:!0,next:ta,error:rM,complete:ta};var rs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ct(t){return t}function mu(...t){return Nf(t)}function Nf(t){return t.length===0?Ct:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ie=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=oM(n)?n:new ns(n,r,i);return ts(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Zw(r),new r((i,s)=>{let o=new ns({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[rs](){return this}pipe(...n){return Nf(n)(this)}toPromise(n){return n=Zw(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Zw(t){var e;return(e=t??zt.Promise)!==null&&e!==void 0?e:Promise}function sM(t){return t&&ee(t.next)&&ee(t.error)&&ee(t.complete)}function oM(t){return t&&t instanceof ri||sM(t)&&fu(t)}function Mf(t){return ee(t?.lift)}function de(t){return e=>{if(Mf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(t,e,n,r,i){return new xf(t,e,n,r,i)}var xf=class extends ri{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function is(){return de((t,e)=>{let n=null;t._refCount++;let r=ue(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ss=class extends ie{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Mf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pe;let n=this.getSubject();e.add(this.source.subscribe(ue(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pe.EMPTY)}return e}refCount(){return is()(this)}};var Xw=Xi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var rt=(()=>{class t extends ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new yu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Xw}next(n){ts(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ts(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ts(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?bf:(this.currentObservers=null,s.push(n),new Pe(()=>{this.currentObservers=null,ti(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ie;return n.source=this,n}}return t.create=(e,n)=>new yu(e,n),t})(),yu=class extends rt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:bf}};var Qe=class extends rt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Pf={now(){return(Pf.delegate||Date).now()},delegate:void 0};var vu=class extends Pe{constructor(e,n){super()}schedule(e,n=0){return this}};var na={setInterval(t,e,...n){let{delegate:r}=na;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=na;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var os=class extends vu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return na.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&na.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ti(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var as=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};as.now=Pf.now;var cs=class extends as{constructor(e,n=as.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Of=new cs(os);var _u=class extends os{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Iu=class extends cs{};var kf=new Iu(_u);var St=new ie(t=>t.complete());function eE(t){return t&&ee(t.schedule)}function tE(t){return t[t.length-1]}function wu(t){return ee(tE(t))?t.pop():void 0}function fr(t){return eE(tE(t))?t.pop():void 0}function Lf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function rE(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function nE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ii(t){return this instanceof ii?(this.v=t,this):new ii(t)}function iE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(D){return Promise.resolve(D).then(y,p)}}function a(y,D){r[y]&&(i[y]=function(R){return new Promise(function(S,P){s.push([y,R,S,P])>1||u(y,R)})},D&&(i[y]=D(i[y])))}function u(y,D){try{l(r[y](D))}catch(R){m(s[0][3],R)}}function l(y){y.value instanceof ii?Promise.resolve(y.value.v).then(h,p):m(s[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,D){y(D),s.shift(),s.length&&u(s[0][0],s[0][1])}}function sE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof nE=="function"?nE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var Eu=t=>t&&typeof t.length=="number"&&typeof t!="function";function Tu(t){return ee(t?.then)}function Du(t){return ee(t[rs])}function bu(t){return Symbol.asyncIterator&&ee(t?.[Symbol.asyncIterator])}function Cu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function aM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Su=aM();function Au(t){return ee(t?.[Su])}function Ru(t){return iE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ii(n.read());if(i)return yield ii(void 0);yield yield ii(r)}}finally{n.releaseLock()}})}function Nu(t){return ee(t?.getReader)}function Le(t){if(t instanceof ie)return t;if(t!=null){if(Du(t))return cM(t);if(Eu(t))return uM(t);if(Tu(t))return lM(t);if(bu(t))return oE(t);if(Au(t))return dM(t);if(Nu(t))return hM(t)}throw Cu(t)}function cM(t){return new ie(e=>{let n=t[rs]();if(ee(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function uM(t){return new ie(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function lM(t){return new ie(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,pu)})}function dM(t){return new ie(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function oE(t){return new ie(e=>{fM(t,e).catch(n=>e.error(n))})}function hM(t){return oE(Ru(t))}function fM(t,e){var n,r,i,s;return rE(this,void 0,void 0,function*(){try{for(n=sE(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function It(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function pr(t,e=0){return de((n,r)=>{n.subscribe(ue(r,i=>It(r,t,()=>r.next(i),e),()=>It(r,t,()=>r.complete(),e),i=>It(r,t,()=>r.error(i),e)))})}function gr(t,e=0){return de((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function aE(t,e){return Le(t).pipe(gr(e),pr(e))}function cE(t,e){return Le(t).pipe(gr(e),pr(e))}function uE(t,e){return new ie(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function lE(t,e){return new ie(n=>{let r;return It(n,e,()=>{r=t[Su](),It(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>ee(r?.return)&&r.return()})}function Mu(t,e){if(!t)throw new Error("Iterable cannot be null");return new ie(n=>{It(n,e,()=>{let r=t[Symbol.asyncIterator]();It(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function dE(t,e){return Mu(Ru(t),e)}function hE(t,e){if(t!=null){if(Du(t))return aE(t,e);if(Eu(t))return uE(t,e);if(Tu(t))return cE(t,e);if(bu(t))return Mu(t,e);if(Au(t))return lE(t,e);if(Nu(t))return dE(t,e)}throw Cu(t)}function Se(t,e){return e?hE(t,e):Le(t)}function Q(...t){let e=fr(t);return Se(t,e)}function us(t,e){let n=ee(t)?t:()=>t,r=i=>i.error(n());return new ie(e?i=>e.schedule(r,0,i):r)}function Ff(t){return!!t&&(t instanceof ie||ee(t.lift)&&ee(t.subscribe))}var Rn=Xi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function J(t,e){return de((n,r)=>{let i=0;n.subscribe(ue(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:pM}=Array;function gM(t,e){return pM(e)?t(...e):t(e)}function xu(t){return J(e=>gM(t,e))}var{isArray:mM}=Array,{getPrototypeOf:yM,prototype:vM,keys:_M}=Object;function Pu(t){if(t.length===1){let e=t[0];if(mM(e))return{args:e,keys:null};if(IM(e)){let n=_M(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function IM(t){return t&&typeof t=="object"&&yM(t)===vM}function Ou(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ra(...t){let e=fr(t),n=wu(t),{args:r,keys:i}=Pu(t);if(r.length===0)return Se([],e);let s=new ie(wM(r,e,i?o=>Ou(i,o):Ct));return n?s.pipe(xu(n)):s}function wM(t,e,n=Ct){return r=>{fE(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)fE(e,()=>{let l=Se(t[u],e),h=!1;l.subscribe(ue(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function fE(t,e,n){t?It(n,t,e):e()}function pE(t,e,n,r,i,s,o,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=R=>l<r?D(R):u.push(R),D=R=>{s&&e.next(R),l++;let S=!1;Le(n(R,h++)).subscribe(ue(e,P=>{i?.(P),s?y(P):e.next(P)},()=>{S=!0},void 0,()=>{if(S)try{for(l--;u.length&&l<r;){let P=u.shift();o?It(e,o,()=>D(P)):D(P)}m()}catch(P){e.error(P)}}))};return t.subscribe(ue(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Fe(t,e,n=1/0){return ee(e)?Fe((r,i)=>J((s,o)=>e(r,s,i,o))(Le(t(r,i))),n):(typeof e=="number"&&(n=e),de((r,i)=>pE(r,i,t,n)))}function ls(t=1/0){return Fe(Ct,t)}function gE(){return ls(1)}function ds(...t){return gE()(Se(t,fr(t)))}function ku(t){return new ie(e=>{Le(t()).subscribe(e)})}function EM(...t){let e=wu(t),{args:n,keys:r}=Pu(t),i=new ie(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;Le(n[h]).subscribe(ue(s,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?Ou(r,a):a),s.complete())}))}});return e?i.pipe(xu(e)):i}function pt(t,e){return de((n,r)=>{let i=0;n.subscribe(ue(r,s=>t.call(e,s,i++)&&r.next(s)))})}function mr(t){return de((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ue(n,void 0,void 0,o=>{s=Le(t(o,mr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function mE(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(ue(o,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Nn(t,e){return ee(e)?Fe(t,e,1):Fe(t,1)}function yr(t){return de((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Mn(t){return t<=0?()=>St:de((e,n)=>{let r=0;e.subscribe(ue(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Vf(t){return J(()=>t)}function Lu(t=TM){return de((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function TM(){return new Rn}function si(t){return de((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function sn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?pt((i,s)=>t(i,s,r)):Ct,Mn(1),n?yr(e):Lu(()=>new Rn))}function hs(t){return t<=0?()=>St:de((e,n)=>{let r=[];e.subscribe(ue(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Uf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?pt((i,s)=>t(i,s,r)):Ct,hs(1),n?yr(e):Lu(()=>new Rn))}function Fu(t,e){return de(mE(t,e,arguments.length>=2,!0))}function Vu(...t){let e=fr(t);return de((n,r)=>{(e?ds(t,n,e):ds(t,n)).subscribe(r)})}function wt(t,e){return de((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(ue(r,u=>{i?.unsubscribe();let l=0,h=s++;Le(t(u,h)).subscribe(i=ue(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function jf(t){return de((e,n)=>{Le(t).subscribe(ue(n,()=>n.complete(),ta)),!n.closed&&e.subscribe(n)})}function Ve(t,e,n){let r=ee(t)||e||n?{next:t,error:e,complete:n}:t;return r?de((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ue(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ct}var nT="https://g.co/ng/security#xss",G=class extends Error{constructor(e,n){super(_l(e,n)),this.code=e}};function _l(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ha(t){return{toString:t}.toString()}var Uu="__parameters__";function DM(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function rT(t,e,n){return ha(()=>{let r=DM(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,h){let p=u.hasOwnProperty(Uu)?u[Uu]:Object.defineProperty(u,Uu,{value:[]})[Uu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var ep=globalThis;function we(t){for(let e in t)if(t[e]===we)return e;throw Error("Could not find renamed property on target object.")}function bM(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function mt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(mt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function yE(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var CM=we({__forward_ref__:we});function iT(t){return t.__forward_ref__=iT,t.toString=function(){return mt(this())},t}function gt(t){return sT(t)?t():t}function sT(t){return typeof t=="function"&&t.hasOwnProperty(CM)&&t.__forward_ref__===iT}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ns(t){return{providers:t.providers||[],imports:t.imports||[]}}function Il(t){return vE(t,aT)||vE(t,cT)}function oT(t){return Il(t)!==null}function vE(t,e){return t.hasOwnProperty(e)?t[e]:null}function SM(t){let e=t&&(t[aT]||t[cT]);return e||null}function _E(t){return t&&(t.hasOwnProperty(IE)||t.hasOwnProperty(AM))?t[IE]:null}var aT=we({\u0275prov:we}),IE=we({\u0275inj:we}),cT=we({ngInjectableDef:we}),AM=we({ngInjectorDef:we}),q=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function uT(t){return t&&!!t.\u0275providers}var RM=we({\u0275cmp:we}),NM=we({\u0275dir:we}),MM=we({\u0275pipe:we}),xM=we({\u0275mod:we}),Yu=we({\u0275fac:we}),sa=we({__NG_ELEMENT_ID__:we}),wE=we({__NG_ENV_ID__:we});function wl(t){return typeof t=="string"?t:t==null?"":String(t)}function PM(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():wl(t)}function OM(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new G(-200,t)}function Zp(t,e){throw new G(-201,!1)}var se=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(se||{}),tp;function lT(){return tp}function Pt(t){let e=tp;return tp=t,e}function dT(t,e,n){let r=Il(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&se.Optional)return null;if(e!==void 0)return e;Zp(t,"Injector")}var kM={},oa=kM,np="__NG_DI_FLAG__",Ju="ngTempTokenPath",LM="ngTokenPath",FM=/\n/gm,VM="\u0275",EE="__source",ys;function UM(){return ys}function vr(t){let e=ys;return ys=t,e}function jM(t,e=se.Default){if(ys===void 0)throw new G(-203,!1);return ys===null?dT(t,void 0,e):ys.get(t,e&se.Optional?null:void 0,e)}function H(t,e=se.Default){return(lT()||jM)(gt(t),e)}function x(t,e=se.Default){return H(t,El(e))}function El(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function rp(t){let e=[];for(let n=0;n<t.length;n++){let r=gt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new G(900,!1);let i,s=se.Default;for(let o=0;o<r.length;o++){let a=r[o],u=BM(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(H(i,s))}else e.push(H(r))}return e}function hT(t,e){return t[np]=e,t.prototype[np]=e,t}function BM(t){return t[np]}function $M(t,e,n,r){let i=t[Ju];throw e[EE]&&i.unshift(e[EE]),t.message=qM(`
`+t.message,i,n,r),t[LM]=i,t[Ju]=null,t}function qM(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==VM?t.slice(2):t;let i=mt(e);if(Array.isArray(e))i=e.map(mt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):mt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(FM,`
  `)}`}var ke=hT(rT("Optional"),8);var Xp=hT(rT("SkipSelf"),4);function _s(t,e){let n=t.hasOwnProperty(Yu);return n?t[Yu]:null}function HM(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function zM(t){return t.flat(Number.POSITIVE_INFINITY)}function eg(t,e){t.forEach(n=>Array.isArray(n)?eg(n,e):e(n))}function fT(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Zu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function GM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function WM(t,e,n){let r=fa(t,e);return r>=0?t[r|1]=n:(r=~r,GM(t,r,e,n)),r}function Bf(t,e){let n=fa(t,e);if(n>=0)return t[n|1]}function fa(t,e){return KM(t,e,1)}function KM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Is={},Ot=[],ws=new q(""),pT=new q("",-1),gT=new q(""),Xu=class{get(e,n=oa){if(n===oa){let r=new Error(`NullInjectorError: No provider for ${mt(e)}!`);throw r.name="NullInjectorError",r}return n}},mT=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(mT||{}),cn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(cn||{}),wr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(wr||{});function QM(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function ip(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];YM(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function yT(t){return t===3||t===4||t===6}function YM(t){return t.charCodeAt(0)===64}function aa(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?TE(t,n,i,null,e[++r]):TE(t,n,i,null,null))}}return t}function TE(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var vT="ng-template";function JM(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&QM(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(tg(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function tg(t){return t.type===4&&t.value!==vT}function ZM(t,e,n){let r=t.type===4&&!n?vT:t.value;return e===r}function XM(t,e,n){let r=4,i=t.attrs,s=i!==null?nx(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!Gt(r)&&!Gt(u))return!1;if(o&&Gt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!ZM(t,u,n)||u===""&&e.length===1){if(Gt(r))return!1;o=!0}}else if(r&8){if(i===null||!JM(t,i,u,n)){if(Gt(r))return!1;o=!0}}else{let l=e[++a],h=ex(u,i,tg(t),n);if(h===-1){if(Gt(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Gt(r))return!1;o=!0}}}}return Gt(r)||o}function Gt(t){return(t&1)===0}function ex(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return rx(e,t)}function tx(t,e,n=!1){for(let r=0;r<e.length;r++)if(XM(t,e[r],n))return!0;return!1}function nx(t){for(let e=0;e<t.length;e++){let n=t[e];if(yT(n))return e}return t.length}function rx(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function DE(t,e){return t?":not("+e.trim()+")":e}function ix(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Gt(o)&&(e+=DE(s,i),i=""),r=o,s=s||!Gt(r);n++}return i!==""&&(e+=DE(s,i)),e}function sx(t){return t.map(ix).join(",")}function ox(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Gt(i))break;i=s}r++}return{attrs:e,classes:n}}function _T(t){return ha(()=>{let e=DT(t),n=Ee(U({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===mT.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||cn.Emulated,styles:t.styles||Ot,_:null,schemas:t.schemas||null,tView:null,id:""});bT(n);let r=t.dependencies;return n.directiveDefs=CE(r,!1),n.pipeDefs=CE(r,!0),n.id=ux(n),n})}function ax(t){return Er(t)||IT(t)}function cx(t){return t!==null}function Ms(t){return ha(()=>({type:t.type,bootstrap:t.bootstrap||Ot,declarations:t.declarations||Ot,imports:t.imports||Ot,exports:t.exports||Ot,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function bE(t,e){if(t==null)return Is;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=wr.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==wr.None?[r,a]:r,e[s]=o):n[s]=r}return n}function yi(t){return ha(()=>{let e=DT(t);return bT(e),e})}function Er(t){return t[RM]||null}function IT(t){return t[NM]||null}function wT(t){return t[MM]||null}function ET(t){let e=Er(t)||IT(t)||wT(t);return e!==null?e.standalone:!1}function TT(t,e){let n=t[xM]||null;if(!n&&e===!0)throw new Error(`Type ${mt(t)} does not have '\u0275mod' property.`);return n}function DT(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Is,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Ot,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bE(t.inputs,e),outputs:bE(t.outputs),debugInfo:null}}function bT(t){t.features?.forEach(e=>e(t))}function CE(t,e){if(!t)return null;let n=e?wT:ax;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(cx)}function ux(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Et(t){return{\u0275providers:t}}function lx(...t){return{\u0275providers:CT(!0,t),\u0275fromNgModule:!0}}function CT(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return eg(e,o=>{let a=o;sp(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&ST(i,s),n}function ST(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];ng(i,s=>{e(s,r)})}}function sp(t,e,n,r){if(t=gt(t),!t)return!1;let i=null,s=_E(t),o=!s&&Er(t);if(!s&&!o){let u=t.ngModule;if(s=_E(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)sp(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{eg(s.imports,h=>{sp(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&ST(l,e)}if(!a){let l=_s(i)||(()=>new i);e({provide:i,useFactory:l,deps:Ot},i),e({provide:gT,useValue:i,multi:!0},i),e({provide:ws,useValue:()=>H(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;ng(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function ng(t,e){for(let n of t)uT(n)&&(n=n.\u0275providers),Array.isArray(n)?ng(n,e):e(n)}var dx=we({provide:String,useValue:we});function AT(t){return t!==null&&typeof t=="object"&&dx in t}function hx(t){return!!(t&&t.useExisting)}function fx(t){return!!(t&&t.useFactory)}function Es(t){return typeof t=="function"}function px(t){return!!t.useClass}var Tl=new q(""),Hu={},gx={},$f;function rg(){return $f===void 0&&($f=new Xu),$f}var yt=class{},ca=class extends yt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ap(e,o=>this.processProvider(o)),this.records.set(pT,fs(void 0,this)),i.has("environment")&&this.records.set(yt,fs(void 0,this));let s=this.records.get(Tl);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(gT,Ot,se.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=vr(this),r=Pt(void 0),i;try{return e()}finally{vr(n),Pt(r)}}get(e,n=oa,r=se.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(wE))return e[wE](this);r=El(r);let i,s=vr(this),o=Pt(void 0);try{if(!(r&se.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=Ix(e)&&Il(e);l&&this.injectableDefInScope(l)?u=fs(op(e),Hu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&se.Self?rg():this.parent;return n=r&se.Optional&&n===oa?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ju]=a[Ju]||[]).unshift(mt(e)),s)throw a;return $M(a,e,"R3InjectorError",this.source)}else throw a}finally{Pt(o),vr(s)}}resolveInjectorInitializers(){let e=pe(null),n=vr(this),r=Pt(void 0),i;try{let s=this.get(ws,Ot,se.Self);for(let o of s)o()}finally{vr(n),Pt(r),pe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(mt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new G(205,!1)}processProvider(e){e=gt(e);let n=Es(e)?e:gt(e&&e.provide),r=yx(e);if(!Es(e)&&e.multi===!0){let i=this.records.get(n);i||(i=fs(void 0,Hu,!0),i.factory=()=>rp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=pe(null);try{return n.value===Hu&&(n.value=gx,n.value=n.factory()),typeof n.value=="object"&&n.value&&_x(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=gt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function op(t){let e=Il(t),n=e!==null?e.factory:_s(t);if(n!==null)return n;if(t instanceof q)throw new G(204,!1);if(t instanceof Function)return mx(t);throw new G(204,!1)}function mx(t){if(t.length>0)throw new G(204,!1);let n=SM(t);return n!==null?()=>n.factory(t):()=>new t}function yx(t){if(AT(t))return fs(void 0,t.useValue);{let e=RT(t);return fs(e,Hu)}}function RT(t,e,n){let r;if(Es(t)){let i=gt(t);return _s(i)||op(i)}else if(AT(t))r=()=>gt(t.useValue);else if(fx(t))r=()=>t.useFactory(...rp(t.deps||[]));else if(hx(t))r=()=>H(gt(t.useExisting));else{let i=gt(t&&(t.useClass||t.provide));if(vx(t))r=()=>new i(...rp(t.deps));else return _s(i)||op(i)}return r}function fs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function vx(t){return!!t.deps}function _x(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Ix(t){return typeof t=="function"||typeof t=="object"&&t instanceof q}function ap(t,e){for(let n of t)Array.isArray(n)?ap(n,e):n&&uT(n)?ap(n.\u0275providers,e):e(n)}function Lt(t,e){t instanceof ca&&t.assertNotDestroyed();let n,r=vr(t),i=Pt(void 0);try{return e()}finally{vr(r),Pt(i)}}function NT(){return lT()!==void 0||UM()!=null}function wx(t){if(!NT())throw new G(-203,!1)}function Ex(t){return typeof t=="function"}var Ln=0,re=1,Z=2,st=3,Wt=4,Qt=5,el=6,tl=7,Kt=8,Ts=9,un=10,qe=11,ua=12,SE=13,xs=14,ln=15,ai=16,ps=17,xn=18,Dl=19,MT=20,_r=21,qf=22,kt=23,Pn=25,xT=1;var ci=7,nl=8,Ds=9,At=10,rl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(rl||{});function Ir(t){return Array.isArray(t)&&typeof t[xT]=="object"}function Fn(t){return Array.isArray(t)&&t[xT]===!0}function PT(t){return(t.flags&4)!==0}function bl(t){return t.componentOffset>-1}function ig(t){return(t.flags&1)===1}function Tr(t){return!!t.template}function cp(t){return(t[Z]&512)!==0}var up=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function OT(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function pa(){return kT}function kT(t){return t.type.prototype.ngOnChanges&&(t.setInput=Dx),Tx}pa.ngInherit=!0;function Tx(){let t=FT(this),e=t?.current;if(e){let n=t.previous;if(n===Is)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Dx(t,e,n,r,i){let s=this.declaredInputs[r],o=FT(t)||bx(t,{previous:Is,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new up(l&&l.currentValue,n,u===Is),OT(t,e,i,n)}var LT="__ngSimpleChanges__";function FT(t){return t[LT]||null}function bx(t,e){return t[LT]=e}var AE=null;var on=function(t,e,n){AE?.(t,e,n)},Cx="svg",Sx="math";function dn(t){for(;Array.isArray(t);)t=t[Ln];return t}function VT(t,e){return dn(e[t])}function Ft(t,e){return dn(e[t.index])}function UT(t,e){return t.data[e]}function Ax(t,e){return t[e]}function Cr(t,e){let n=e[t];return Ir(n)?n:n[Ln]}function Rx(t){return(t[Z]&4)===4}function sg(t){return(t[Z]&128)===128}function Nx(t){return Fn(t[st])}function il(t,e){return e==null?null:t[e]}function jT(t){t[ps]=0}function BT(t){t[Z]&1024||(t[Z]|=1024,sg(t)&&Sl(t))}function Mx(t,e){for(;t>0;)e=e[xs],t--;return e}function Cl(t){return!!(t[Z]&9216||t[kt]?.dirty)}function lp(t){t[un].changeDetectionScheduler?.notify(8),t[Z]&64&&(t[Z]|=1024),Cl(t)&&Sl(t)}function Sl(t){t[un].changeDetectionScheduler?.notify(0);let e=ui(t);for(;e!==null&&!(e[Z]&8192||(e[Z]|=8192,!sg(e)));)e=ui(e)}function $T(t,e){if((t[Z]&256)===256)throw new G(911,!1);t[_r]===null&&(t[_r]=[]),t[_r].push(e)}function xx(t,e){if(t[_r]===null)return;let n=t[_r].indexOf(e);n!==-1&&t[_r].splice(n,1)}function ui(t){let e=t[st];return Fn(e)?e[st]:e}var oe={lFrame:JT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var qT=!1;function Px(){return oe.lFrame.elementDepthCount}function Ox(){oe.lFrame.elementDepthCount++}function kx(){oe.lFrame.elementDepthCount--}function HT(){return oe.bindingsEnabled}function Lx(){return oe.skipHydrationRootTNode!==null}function Fx(t){return oe.skipHydrationRootTNode===t}function Vx(){oe.skipHydrationRootTNode=null}function ve(){return oe.lFrame.lView}function vt(){return oe.lFrame.tView}function N6(t){return oe.lFrame.contextLView=t,t[Kt]}function M6(t){return oe.lFrame.contextLView=null,t}function _t(){let t=zT();for(;t!==null&&t.type===64;)t=t.parent;return t}function zT(){return oe.lFrame.currentTNode}function Ux(){let t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ga(t,e){let n=oe.lFrame;n.currentTNode=t,n.isParent=e}function GT(){return oe.lFrame.isParent}function jx(){oe.lFrame.isParent=!1}function Bx(){return oe.lFrame.contextLView}function WT(){return qT}function RE(t){qT=t}function $x(){let t=oe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function qx(t){return oe.lFrame.bindingIndex=t}function Al(){return oe.lFrame.bindingIndex++}function Hx(t){let e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function zx(){return oe.lFrame.inI18n}function Gx(t,e){let n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,dp(e)}function Wx(){return oe.lFrame.currentDirectiveIndex}function dp(t){oe.lFrame.currentDirectiveIndex=t}function Kx(t){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function KT(){return oe.lFrame.currentQueryIndex}function og(t){oe.lFrame.currentQueryIndex=t}function Qx(t){let e=t[re];return e.type===2?e.declTNode:e.type===1?t[Qt]:null}function QT(t,e,n){if(n&se.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&se.Host);)if(i=Qx(s),i===null||(s=s[xs],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=oe.lFrame=YT();return r.currentTNode=e,r.lView=t,!0}function ag(t){let e=YT(),n=t[re];oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function YT(){let t=oe.lFrame,e=t===null?null:t.child;return e===null?JT(t):e}function JT(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function ZT(){let t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var XT=ZT;function cg(){let t=ZT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Yx(t){return(oe.lFrame.contextLView=Mx(t,oe.lFrame.contextLView))[Kt]}function Ps(){return oe.lFrame.selectedIndex}function li(t){oe.lFrame.selectedIndex=t}function ug(){let t=oe.lFrame;return UT(t.tView,t.selectedIndex)}function Jx(){return oe.lFrame.currentNamespace}var eD=!0;function lg(){return eD}function dg(t){eD=t}function Zx(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=kT(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function hg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function zu(t,e,n){tD(t,e,3,n)}function Gu(t,e,n,r){(t[Z]&3)===n&&tD(t,e,n,r)}function Hf(t,e){let n=t[Z];(n&3)===e&&(n&=16383,n+=1,t[Z]=n)}function tD(t,e,n,r){let i=r!==void 0?t[ps]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[ps]+=65536),(a<s||s==-1)&&(Xx(t,n,e,u),t[ps]=(t[ps]&4294901760)+u+2),u++}function NE(t,e){on(4,t,e);let n=pe(null);try{e.call(t)}finally{pe(n),on(5,t,e)}}function Xx(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[Z]>>14<t[ps]>>16&&(t[Z]&3)===e&&(t[Z]+=16384,NE(a,s)):NE(a,s)}var vs=-1,di=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function eP(t){return t instanceof di}function tP(t){return(t.flags&8)!==0}function nP(t){return(t.flags&16)!==0}var zf={},hp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=El(r);let i=this.injector.get(e,zf,r);return i!==zf||n===zf?i:this.parentInjector.get(e,n,r)}};function nD(t){return t!==vs}function sl(t){return t&32767}function rP(t){return t>>16}function ol(t,e){let n=rP(t),r=e;for(;n>0;)r=r[xs],n--;return r}var fp=!0;function ME(t){let e=fp;return fp=t,e}var iP=256,rD=iP-1,iD=5,sP=0,an={};function oP(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(sa)&&(r=n[sa]),r==null&&(r=n[sa]=sP++);let i=r&rD,s=1<<i;e.data[t+(i>>iD)]|=s}function al(t,e){let n=sD(t,e);if(n!==-1)return n;let r=e[re];r.firstCreatePass&&(t.injectorIndex=e.length,Gf(r.data,t),Gf(e,null),Gf(r.blueprint,null));let i=fg(t,e),s=t.injectorIndex;if(nD(i)){let o=sl(i),a=ol(i,e),u=a[re].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Gf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function sD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function fg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=lD(i),r===null)return vs;if(n++,i=i[xs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return vs}function pp(t,e,n){oP(t,e,n)}function aP(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(yT(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function oD(t,e,n){if(n&se.Optional||t!==void 0)return t;Zp(e,"NodeInjector")}function aD(t,e,n,r){if(n&se.Optional&&r===void 0&&(r=null),!(n&(se.Self|se.Host))){let i=t[Ts],s=Pt(void 0);try{return i?i.get(e,r,n&se.Optional):dT(e,r,n&se.Optional)}finally{Pt(s)}}return oD(r,e,n)}function cD(t,e,n,r=se.Default,i){if(t!==null){if(e[Z]&2048&&!(r&se.Self)){let o=dP(t,e,n,r,an);if(o!==an)return o}let s=uD(t,e,n,r,an);if(s!==an)return s}return aD(e,n,r,i)}function uD(t,e,n,r,i){let s=uP(n);if(typeof s=="function"){if(!QT(e,t,r))return r&se.Host?oD(i,n,r):aD(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&se.Optional))Zp(n);else return o}finally{XT()}}else if(typeof s=="number"){let o=null,a=sD(t,e),u=vs,l=r&se.Host?e[ln][Qt]:null;for((a===-1||r&se.SkipSelf)&&(u=a===-1?fg(t,e):e[a+8],u===vs||!PE(r,!1)?a=-1:(o=e[re],a=sl(u),e=ol(u,e)));a!==-1;){let h=e[re];if(xE(s,a,h.data)){let p=cP(a,e,n,o,r,l);if(p!==an)return p}u=e[a+8],u!==vs&&PE(r,e[re].data[a+8]===l)&&xE(s,a,e)?(o=h,a=sl(u),e=ol(u,e)):a=-1}}return i}function cP(t,e,n,r,i,s){let o=e[re],a=o.data[t+8],u=r==null?bl(a)&&fp:r!=o&&(a.type&3)!==0,l=i&se.Host&&s===a,h=Wu(a,o,n,u,l);return h!==null?hi(e,o,h,a):an}function Wu(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let D=o[y];if(y<u&&n===D||y>=u&&D.type===n)return y}if(i){let y=o[u];if(y&&Tr(y)&&y.type===n)return u}return null}function hi(t,e,n,r){let i=t[n],s=e.data;if(eP(i)){let o=i;o.resolving&&OM(PM(s[n]));let a=ME(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Pt(o.injectImpl):null,h=QT(t,r,se.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&Zx(n,s[n],e)}finally{l!==null&&Pt(l),ME(a),o.resolving=!1,XT()}}return i}function uP(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(sa)?t[sa]:void 0;return typeof e=="number"?e>=0?e&rD:lP:e}function xE(t,e,n){let r=1<<t;return!!(n[e+(t>>iD)]&r)}function PE(t,e){return!(t&se.Self)&&!(t&se.Host&&e)}var oi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return cD(this._tNode,this._lView,e,El(r),n)}};function lP(){return new oi(_t(),ve())}function pg(t){return ha(()=>{let e=t.prototype.constructor,n=e[Yu]||gp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Yu]||gp(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function gp(t){return sT(t)?()=>{let e=gp(gt(t));return e&&e()}:_s(t)}function dP(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[Z]&2048&&!(o[Z]&512);){let a=uD(s,o,n,r|se.Self,an);if(a!==an)return a;let u=s.parent;if(!u){let l=o[MT];if(l){let h=l.get(n,an,r);if(h!==an)return h}u=lD(o),o=o[xs]}s=u}return i}function lD(t){let e=t[re],n=e.type;return n===2?e.declTNode:n===1?t[Qt]:null}function gg(t){return aP(_t(),t)}function OE(t,e=null,n=null,r){let i=dD(t,e,n,r);return i.resolveInjectorInitializers(),i}function dD(t,e=null,n=null,r,i=new Set){let s=[n||Ot,lx(t)];return r=r||(typeof t=="object"?void 0:mt(t)),new ca(s,e||rg(),r||null,i)}var He=class t{static{this.THROW_IF_NOT_FOUND=oa}static{this.NULL=new Xu}static create(e,n){if(Array.isArray(e))return OE({name:""},n,e,"");{let r=e.name??"";return OE({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=$({token:t,providedIn:"any",factory:()=>H(pT)})}static{this.__NG_ELEMENT_ID__=-1}};var hP=new q("");hP.__NG_ELEMENT_ID__=t=>{let e=_t();if(e===null)throw new G(204,!1);if(e.type&2)return e.value;if(t&se.Optional)return null;throw new G(204,!1)};var fP="ngOriginalError";function Wf(t){return t[fP]}var hD=!0,mg=(()=>{class t{static{this.__NG_ELEMENT_ID__=pP}static{this.__NG_ENV_ID__=n=>n}}return t})(),mp=class extends mg{constructor(e){super(),this._lView=e}onDestroy(e){return $T(this._lView,e),()=>xx(this._lView,e)}};function pP(){return new mp(ve())}var Sr=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Qe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}}return t})();var yp=class extends rt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,NT()&&(this.destroyRef=x(mg,{optional:!0})??void 0,this.pendingTasks=x(Sr,{optional:!0})??void 0)}emit(e){let n=pe(null);try{super.next(e)}finally{pe(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Pe&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},it=yp;function cl(...t){}function fD(t){let e,n;function r(){t=cl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function kE(t){return queueMicrotask(()=>t()),()=>{t=cl}}var yg="isAngularZone",ul=yg+"_ID",gP=0,he=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new it(!1),this.onMicrotaskEmpty=new it(!1),this.onStable=new it(!1),this.onError=new it(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=hD}=e;if(typeof Zone>"u")throw new G(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,vP(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(yg)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new G(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new G(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,mP,cl,cl);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},mP={};function vg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function yP(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){fD(()=>{t.callbackScheduled=!1,vp(t),t.isCheckStableRunning=!0,vg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),vp(t)}function vP(t){let e=()=>{yP(t)},n=gP++;t._inner=t._inner.fork({name:"angular",properties:{[yg]:!0,[ul]:n,[ul+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(_P(u))return r.invokeTask(s,o,a,u);try{return LE(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),FE(t)}},onInvoke:(r,i,s,o,a,u,l)=>{try{return LE(t),r.invoke(s,o,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!IP(u)&&e(),FE(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,vp(t),vg(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function vp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function LE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function FE(t){t._nesting--,vg(t)}var _p=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new it,this.onMicrotaskEmpty=new it,this.onStable=new it,this.onError=new it}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function _P(t){return pD(t,"__ignore_ng_zone__")}function IP(t){return pD(t,"__scheduler_tick__")}function pD(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var On=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Wf(e);for(;n&&Wf(n);)n=Wf(n);return n||null}},wP=new q("",{providedIn:"root",factory:()=>{let t=x(he),e=x(On);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function EP(){return Os(_t(),ve())}function Os(t,e){return new Vn(Ft(t,e))}var Vn=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=EP}}return t})();function TP(t){return t instanceof Vn?t.nativeElement:t}function DP(){return this._results[Symbol.iterator]()}var Ip=class t{get changes(){return this._changes??=new it}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=DP)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=zM(e);(this._changesDetected=!HM(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function gD(t){return(t.flags&128)===128}var mD=new Map,bP=0;function CP(){return bP++}function SP(t){mD.set(t[Dl],t)}function wp(t){mD.delete(t[Dl])}var VE="__ngContext__";function fi(t,e){Ir(e)?(t[VE]=e[Dl],SP(e)):t[VE]=e}function yD(t){return _D(t[ua])}function vD(t){return _D(t[Wt])}function _D(t){for(;t!==null&&!Fn(t);)t=t[Wt];return t}var Ep;function ID(t){Ep=t}function AP(){if(Ep!==void 0)return Ep;if(typeof document<"u")return document;throw new G(210,!1)}var _g=new q("",{providedIn:"root",factory:()=>RP}),RP="ng",Ig=new q(""),Vt=new q("",{providedIn:"platform",factory:()=>"unknown"});var wg=new q("",{providedIn:"root",factory:()=>AP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var NP="h",MP="b";var xP=()=>null;function Eg(t,e,n=!1){return xP(t,e,n)}var wD=!1,PP=new q("",{providedIn:"root",factory:()=>wD});var ju;function OP(){if(ju===void 0&&(ju=null,ep.trustedTypes))try{ju=ep.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ju}function UE(t){return OP()?.createScriptURL(t)||t}var ll=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nT})`}};function ma(t){return t instanceof ll?t.changingThisBreaksApplicationSecurity:t}function Tg(t,e){let n=kP(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${nT})`)}return n===e}function kP(t){return t instanceof ll&&t.getTypeName()||null}var LP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ED(t){return t=String(t),t.match(LP)?t:"unsafe:"+t}var Rl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Rl||{});function FP(t){let e=DD();return e?e.sanitize(Rl.URL,t)||"":Tg(t,"URL")?ma(t):ED(wl(t))}function VP(t){let e=DD();if(e)return UE(e.sanitize(Rl.RESOURCE_URL,t)||"");if(Tg(t,"ResourceURL"))return UE(ma(t));throw new G(904,!1)}function UP(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?VP:FP}function TD(t,e,n){return UP(e,n)(t)}function DD(){let t=ve();return t&&t[un].sanitizer}function bD(t){return t instanceof Function?t():t}function jP(t){return(t??x(He)).get(Vt)==="browser"}var kn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(kn||{}),BP;function Dg(t,e){return BP(t,e)}function gs(t,e,n,r,i){if(r!=null){let s,o=!1;Fn(r)?s=r:Ir(r)&&(o=!0,r=r[Ln]);let a=dn(r);t===0&&n!==null?i==null?ND(e,n,a):dl(e,n,a,i||null,!0):t===1&&n!==null?dl(e,n,a,i||null,!0):t===2?nO(e,a,o):t===3&&e.destroyNode(a),s!=null&&iO(e,t,s,n,i)}}function $P(t,e){return t.createText(e)}function qP(t,e,n){t.setValue(e,n)}function CD(t,e,n){return t.createElement(e,n)}function HP(t,e){SD(t,e),e[Ln]=null,e[Qt]=null}function zP(t,e,n,r,i,s){r[Ln]=i,r[Qt]=e,Nl(t,r,n,1,i,s)}function SD(t,e){e[un].changeDetectionScheduler?.notify(9),Nl(t,e,e[qe],2,null,null)}function GP(t){let e=t[ua];if(!e)return Kf(t[re],t);for(;e;){let n=null;if(Ir(e))n=e[ua];else{let r=e[At];r&&(n=r)}if(!n){for(;e&&!e[Wt]&&e!==t;)Ir(e)&&Kf(e[re],e),e=e[st];e===null&&(e=t),Ir(e)&&Kf(e[re],e),n=e&&e[Wt]}e=n}}function WP(t,e,n,r){let i=At+r,s=n.length;r>0&&(n[i-1][Wt]=e),r<s-At?(e[Wt]=n[i],fT(n,At+r,e)):(n.push(e),e[Wt]=null),e[st]=n;let o=e[ai];o!==null&&n!==o&&AD(o,e);let a=e[xn];a!==null&&a.insertView(t),lp(e),e[Z]|=128}function AD(t,e){let n=t[Ds],r=e[st];if(Ir(r))t[Z]|=rl.HasTransplantedViews;else{let i=r[st][ln];e[ln]!==i&&(t[Z]|=rl.HasTransplantedViews)}n===null?t[Ds]=[e]:n.push(e)}function bg(t,e){let n=t[Ds],r=n.indexOf(e);n.splice(r,1)}function Tp(t,e){if(t.length<=At)return;let n=At+e,r=t[n];if(r){let i=r[ai];i!==null&&i!==t&&bg(i,r),e>0&&(t[n-1][Wt]=r[Wt]);let s=Zu(t,At+e);HP(r[re],r);let o=s[xn];o!==null&&o.detachView(s[re]),r[st]=null,r[Wt]=null,r[Z]&=-129}return r}function RD(t,e){if(!(e[Z]&256)){let n=e[qe];n.destroyNode&&Nl(t,e,n,3,null,null),GP(e)}}function Kf(t,e){if(e[Z]&256)return;let n=pe(null);try{e[Z]&=-129,e[Z]|=256,e[kt]&&Tf(e[kt]),QP(t,e),KP(t,e),e[re].type===1&&e[qe].destroy();let r=e[ai];if(r!==null&&Fn(e[st])){r!==e[st]&&bg(r,e);let i=e[xn];i!==null&&i.detachView(t)}wp(e)}finally{pe(n)}}function KP(t,e){let n=t.cleanup,r=e[tl];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[tl]=null);let i=e[_r];if(i!==null){e[_r]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function QP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof di)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];on(4,a,u);try{u.call(a)}finally{on(5,a,u)}}else{on(4,i,s);try{s.call(i)}finally{on(5,i,s)}}}}}function YP(t,e,n){return JP(t,e.parent,n)}function JP(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Ln];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===cn.None||s===cn.Emulated)return null}return Ft(r,n)}}function dl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function ND(t,e,n){t.appendChild(e,n)}function jE(t,e,n,r,i){r!==null?dl(t,e,n,r,i):ND(t,e,n)}function MD(t,e){return t.parentNode(e)}function ZP(t,e){return t.nextSibling(e)}function XP(t,e,n){return tO(t,e,n)}function eO(t,e,n){return t.type&40?Ft(t,n):null}var tO=eO,BE;function Cg(t,e,n,r){let i=YP(t,r,e),s=e[qe],o=r.parent||e[Qt],a=XP(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)jE(s,i,n[u],a,!1);else jE(s,i,n,a,!1);BE!==void 0&&BE(s,r,e,n,i)}function ia(t,e){if(e!==null){let n=e.type;if(n&3)return Ft(e,t);if(n&4)return Dp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ia(t,r);{let i=t[e.index];return Fn(i)?Dp(-1,i):dn(i)}}else{if(n&128)return ia(t,e.next);if(n&32)return Dg(e,t)()||dn(t[e.index]);{let r=xD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ui(t[ln]);return ia(i,r)}else return ia(t,e.next)}}}return null}function xD(t,e){if(e!==null){let r=t[ln][Qt],i=e.projection;return r.projection[i]}return null}function Dp(t,e){let n=At+t+1;if(n<e.length){let r=e[n],i=r[re].firstChild;if(i!==null)return ia(r,i)}return e[ci]}function nO(t,e,n){t.removeChild(null,e,n)}function Sg(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&fi(dn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Sg(t,e,n.child,r,i,s,!1),gs(e,t,i,a,s);else if(u&32){let l=Dg(n,r),h;for(;h=l();)gs(e,t,i,h,s);gs(e,t,i,a,s)}else u&16?rO(t,e,r,n,i,s):gs(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Nl(t,e,n,r,i,s){Sg(n,r,t.firstChild,e,i,s,!1)}function rO(t,e,n,r,i,s){let o=n[ln],u=o[Qt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];gs(e,t,i,h,s)}else{let l=u,h=o[st];gD(r)&&(l.flags|=128),Sg(t,e,l,h,i,s,!0)}}function iO(t,e,n,r,i){let s=n[ci],o=dn(n);s!==o&&gs(e,t,r,s,i);for(let a=At;a<n.length;a++){let u=n[a];Nl(u[re],u,t,e,r,s)}}function sO(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:kn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=kn.Important),t.setStyle(n,r,i,s))}}function oO(t,e,n){t.setAttribute(e,"style",n)}function PD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function OD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&ip(t,e,r),i!==null&&PD(t,e,i),s!==null&&oO(t,e,s)}var vi={};function x6(t=1){kD(vt(),ve(),Ps()+t,!1)}function kD(t,e,n,r){if(!r)if((e[Z]&3)===3){let s=t.preOrderCheckHooks;s!==null&&zu(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Gu(e,s,0,n)}li(n)}function Ye(t,e=se.Default){let n=ve();if(n===null)return H(t,e);let r=_t();return cD(r,n,gt(t),e)}function LD(){let t="invalid";throw new Error(t)}function FD(t,e,n,r,i,s){let o=pe(null);try{let a=null;i&wr.SignalBased&&(a=e[r][An]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&wr.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):OT(e,a,r,s)}finally{pe(o)}}function aO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)li(~i);else{let s=i,o=n[++r],a=n[++r];Gx(o,s);let u=e[s];a(2,u)}}}finally{li(-1)}}function Ml(t,e,n,r,i,s,o,a,u,l,h){let p=e.blueprint.slice();return p[Ln]=i,p[Z]=r|4|128|8|64,(l!==null||t&&t[Z]&2048)&&(p[Z]|=2048),jT(p),p[st]=p[xs]=t,p[Kt]=n,p[un]=o||t&&t[un],p[qe]=a||t&&t[qe],p[Ts]=u||t&&t[Ts]||null,p[Qt]=s,p[Dl]=CP(),p[el]=h,p[MT]=l,p[ln]=e.type==2?t[ln]:p,p}function xl(t,e,n,r,i){let s=t.data[e];if(s===null)s=cO(t,e,n,r,i),zx()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=Ux();s.injectorIndex=o===null?-1:o.injectorIndex}return ga(s,!0),s}function cO(t,e,n,r,i){let s=zT(),o=GT(),a=o?s:s&&s.parent,u=t.data[e]=pO(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function VD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function UD(t,e,n,r,i){let s=Ps(),o=r&2;try{li(-1),o&&e.length>Pn&&kD(t,e,Pn,!1),on(o?2:0,i),n(r,i)}finally{li(s),on(o?3:1,i)}}function jD(t,e,n){if(PT(e)){let r=pe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{pe(r)}}}function BD(t,e,n){HT()&&(IO(t,e,n,Ft(n,e)),(n.flags&64)===64&&WD(t,e,n))}function $D(t,e,n=Ft){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function qD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Ag(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ag(t,e,n,r,i,s,o,a,u,l,h){let p=Pn+r,m=p+i,y=uO(p,m),D=typeof l=="function"?l():l;return y[re]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:D,incompleteFirstPass:!1,ssrId:h}}function uO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:vi);return n}function lO(t,e,n,r){let s=r.get(PP,wD)||n===cn.ShadowDom,o=t.selectRootElement(e,s);return dO(o),o}function dO(t){hO(t)}var hO=()=>null;function fO(t,e,n,r){let i=YD(e);i.push(n),t.firstCreatePass&&JD(t).push(r,i.length-1)}function pO(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Lx()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function $E(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=wr.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?qE(r,n,l,a,u):qE(r,n,l,a)}return r}function qE(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function gO(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],m=n?n.get(p):null,y=m?m.inputs:null,D=m?m.outputs:null;u=$E(0,p.inputs,h,u,y),l=$E(1,p.outputs,h,l,D);let R=u!==null&&o!==null&&!tg(e)?MO(u,h,o):null;a.push(R)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function mO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function HD(t,e,n,r,i,s,o,a){let u=Ft(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Rg(t,n,h,r,i),bl(e)&&yO(n,e.index)):e.type&3?(r=mO(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function yO(t,e){let n=Cr(e,t);n[Z]&16||(n[Z]|=64)}function zD(t,e,n,r){if(HT()){let i=r===null?null:{"":-1},s=EO(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&GD(t,e,n,o,i,a),i&&TO(n,r,i)}n.mergedAttrs=aa(n.mergedAttrs,n.attrs)}function GD(t,e,n,r,i,s){for(let l=0;l<r.length;l++)pp(al(n,e),t,r[l].type);bO(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=VD(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=aa(n.mergedAttrs,h.hostAttrs),CO(t,n,e,u,h),DO(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}gO(t,n,s)}function vO(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;_O(o)!=a&&o.push(a),o.push(n,r,s)}}function _O(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function IO(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;bl(n)&&SO(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||al(n,e),fi(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=hi(e,t,a,n);if(fi(l,e),o!==null&&NO(e,a-i,l,u,n,o),Tr(u)){let h=Cr(n.index,e);h[Kt]=hi(e,t,a,n)}}}function WD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Wx();try{li(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];dp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&wO(u,l)}}finally{li(-1),dp(o)}}function wO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function EO(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(tx(e,o.selectors,!1))if(r||(r=[]),Tr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;bp(t,e,u)}else r.unshift(o),bp(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function bp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function TO(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new G(-301,!1);r.push(e[i],s)}}}function DO(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Tr(e)&&(n[""]=t)}}function bO(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function CO(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=_s(i.type,!0)),o=new di(s,Tr(i),Ye);t.blueprint[r]=o,n[r]=o,vO(t,e,r,VD(t,n,i.hostVars,vi),i)}function SO(t,e,n){let r=Ft(e,t),i=qD(n),s=t[un].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Pl(t,Ml(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function AO(t,e,n,r,i,s){let o=Ft(t,e);RO(e[qe],o,s,t.value,n,r,i)}function RO(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?wl(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function NO(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],p=o[a++];FD(r,n,u,l,h,p)}}function MO(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function KD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function QD(t,e){let n=t.contentQueries;if(n!==null){let r=pe(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];og(s),a.contentQueries(2,e[o],o)}}}finally{pe(r)}}}function Pl(t,e){return t[ua]?t[SE][Wt]=e:t[ua]=e,t[SE]=e,e}function Cp(t,e,n){og(0);let r=pe(null);try{e(t,n)}finally{pe(r)}}function YD(t){return t[tl]??=[]}function JD(t){return t.cleanup??=[]}function ZD(t,e){let n=t[Ts],r=n?n.get(On,null):null;r&&r.handleError(e)}function Rg(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],h=t.data[o];FD(h,l,r,a,u,i)}}function xO(t,e,n){let r=VT(e,t);qP(t[qe],r,n)}function PO(t,e){let n=Cr(e,t),r=n[re];OO(r,n);let i=n[Ln];i!==null&&n[el]===null&&(n[el]=Eg(i,n[Ts])),Ng(r,n,n[Kt])}function OO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Ng(t,e,n){ag(e);try{let r=t.viewQuery;r!==null&&Cp(1,r,n);let i=t.template;i!==null&&UD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[xn]?.finishViewCreation(t),t.staticContentQueries&&QD(t,e),t.staticViewQueries&&Cp(2,t.viewQuery,n);let s=t.components;s!==null&&kO(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Z]&=-5,cg()}}function kO(t,e){for(let n=0;n<e.length;n++)PO(t,e[n])}function LO(t,e,n,r){let i=pe(null);try{let s=e.tView,a=t[Z]&4096?4096:16,u=Ml(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[ai]=l;let h=t[xn];return h!==null&&(u[xn]=h.createEmbeddedView(s)),Ng(s,u,n),u}finally{pe(i)}}function HE(t,e){return!e||e.firstChild===null||gD(t)}function FO(t,e,n,r=!0){let i=e[re];if(WP(i,e,t,n),r){let o=Dp(n,t),a=e[qe],u=MD(a,t[ci]);u!==null&&zP(i,t[Qt],a,e,u,o)}let s=e[el];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function hl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(dn(s)),Fn(s)&&VO(s,r);let o=n.type;if(o&8)hl(t,e,n.child,r);else if(o&32){let a=Dg(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=xD(e,n);if(Array.isArray(a))r.push(...a);else{let u=ui(e[ln]);hl(u[re],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function VO(t,e){for(let n=At;n<t.length;n++){let r=t[n],i=r[re].firstChild;i!==null&&hl(r[re],r,i,e)}t[ci]!==t[Ln]&&e.push(t[ci])}var XD=[];function UO(t){return t[kt]??jO(t)}function jO(t){let e=XD.pop()??Object.create($O);return e.lView=t,e}function BO(t){t.lView[kt]!==t&&(t.lView=null,XD.push(t))}var $O=Ee(U({},ea),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Sl(t.lView)},consumerOnSignalRead(){this.lView[kt]=this}});function qO(t){let e=t[kt]??Object.create(HO);return e.lView=t,e}var HO=Ee(U({},ea),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=ui(t.lView);for(;e&&!eb(e[re]);)e=ui(e);e&&BT(e)},consumerOnSignalRead(){this.lView[kt]=this}});function eb(t){return t.type!==2}var zO=100;function tb(t,e=!0,n=0){let r=t[un],i=r.rendererFactory,s=!1;s||i.begin?.();try{GO(t,n)}catch(o){throw e&&ZD(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function GO(t,e){let n=WT();try{RE(!0),Sp(t,e);let r=0;for(;Cl(t);){if(r===zO)throw new G(103,!1);r++,Sp(t,1)}}finally{RE(n)}}function WO(t,e,n,r){let i=e[Z];if((i&256)===256)return;let s=!1,o=!1;!s&&e[un].inlineEffectRunner?.flush(),ag(e);let a=!0,u=null,l=null;s||(eb(t)?(l=UO(e),u=uu(l)):Pw()===null?(a=!1,l=qO(e),u=uu(l)):e[kt]&&(Tf(e[kt]),e[kt]=null));try{jT(e),qx(t.bindingStartIndex),n!==null&&UD(t,e,n,2,r);let h=(i&3)===3;if(!s)if(h){let y=t.preOrderCheckHooks;y!==null&&zu(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Gu(e,y,0,null),Hf(e,0)}if(o||KO(e),nb(e,0),t.contentQueries!==null&&QD(t,e),!s)if(h){let y=t.contentCheckHooks;y!==null&&zu(e,y)}else{let y=t.contentHooks;y!==null&&Gu(e,y,1),Hf(e,1)}aO(t,e);let p=t.components;p!==null&&ib(e,p,0);let m=t.viewQuery;if(m!==null&&Cp(2,m,r),!s)if(h){let y=t.viewCheckHooks;y!==null&&zu(e,y)}else{let y=t.viewHooks;y!==null&&Gu(e,y,2),Hf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[qf]){for(let y of e[qf])y();e[qf]=null}s||(e[Z]&=-73)}catch(h){throw s||Sl(e),h}finally{l!==null&&(wf(l,u),a&&BO(l)),cg()}}function nb(t,e){for(let n=yD(t);n!==null;n=vD(n))for(let r=At;r<n.length;r++){let i=n[r];rb(i,e)}}function KO(t){for(let e=yD(t);e!==null;e=vD(e)){if(!(e[Z]&rl.HasTransplantedViews))continue;let n=e[Ds];for(let r=0;r<n.length;r++){let i=n[r];BT(i)}}}function QO(t,e,n){let r=Cr(e,t);rb(r,n)}function rb(t,e){sg(t)&&Sp(t,e)}function Sp(t,e){let r=t[re],i=t[Z],s=t[kt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Ef(s)),o||=!1,s&&(s.dirty=!1),t[Z]&=-9217,o)WO(r,t,r.template,t[Kt]);else if(i&8192){nb(t,1);let a=r.components;a!==null&&ib(t,a,1)}}function ib(t,e,n){for(let r=0;r<e.length;r++)QO(t,e[r],n)}function Mg(t,e){let n=WT()?64:1088;for(t[un].changeDetectionScheduler?.notify(e);t;){t[Z]|=n;let r=ui(t);if(cp(t)&&!r)return t;t=r}return null}var pi=class{get rootNodes(){let e=this._lView,n=e[re];return hl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Kt]}set context(e){this._lView[Kt]=e}get destroyed(){return(this._lView[Z]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[st];if(Fn(e)){let n=e[nl],r=n?n.indexOf(this):-1;r>-1&&(Tp(e,r),Zu(n,r))}this._attachedToViewContainer=!1}RD(this._lView[re],this._lView)}onDestroy(e){$T(this._lView,e)}markForCheck(){Mg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Z]&=-129}reattach(){lp(this._lView),this._lView[Z]|=128}detectChanges(){this._lView[Z]|=1024,tb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new G(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=cp(this._lView),n=this._lView[ai];n!==null&&!e&&bg(n,this._lView),SD(this._lView[re],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new G(902,!1);this._appRef=e;let n=cp(this._lView),r=this._lView[ai];r!==null&&!n&&AD(r,this._lView),lp(this._lView)}},gi=(()=>{class t{static{this.__NG_ELEMENT_ID__=ZO}}return t})(),YO=gi,JO=class extends YO{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=LO(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new pi(i)}};function ZO(){return xg(_t(),ve())}function xg(t,e){return t.type&4?new JO(e,t,Os(t,e)):null}var O6=new RegExp(`^(\\d+)*(${MP}|${NP})*(.*)`);var XO=()=>null;function zE(t,e){return XO(t,e)}var bs=class{},Ol=new q("",{providedIn:"root",factory:()=>!1});var sb=new q(""),ob=new q(""),Ap=class{},fl=class{};function ek(t){let e=Error(`No component factory found for ${mt(t)}.`);return e[tk]=t,e}var tk="ngComponent";var Rp=class{resolveComponentFactory(e){throw ek(e)}},Cs=class{static{this.NULL=new Rp}},Ss=class{},ya=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>nk()}}return t})();function nk(){let t=ve(),e=_t(),n=Cr(e.index,t);return(Ir(n)?n:t)[qe]}var rk=(()=>{class t{static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>null})}}return t})();function Np(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=yE(i,a);else if(s==2){let u=a,l=e[++o];r=yE(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var pl=class extends Cs{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Er(e);return new As(n,this.ngModule)}};function GE(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:wr.None;e?n.push({propName:o,templateName:r,isSignal:(a&wr.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function ik(t){let e=t.toLowerCase();return e==="svg"?Cx:e==="math"?Sx:null}var As=class extends fl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=GE(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return GE(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=sx(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=pe(null);try{i=i||this.ngModule;let o=i instanceof yt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new hp(e,o):e,u=a.get(Ss,null);if(u===null)throw new G(407,!1);let l=a.get(rk,null),h=a.get(bs,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",D=r?lO(m,r,this.componentDef.encapsulation,a):CD(m,y,ik(y)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let S=null;D!==null&&(S=Eg(D,a,!0));let P=Ag(0,null,null,1,0,null,null,null,null,null,null),V=Ml(null,P,null,R,null,null,p,m,a,null,S);ag(V);let k,B,ae=null;try{let z=this.componentDef,E,v=null;z.findHostDirectiveDefs?(E=[],v=new Map,z.findHostDirectiveDefs(z,E,v),E.push(z)):E=[z];let I=sk(V,D);ae=ok(I,D,z,E,V,p,m),B=UT(P,Pn),D&&uk(m,z,D,r),n!==void 0&&lk(B,this.ngContentSelectors,n),k=ck(ae,z,E,v,V,[dk]),Ng(P,V,null)}catch(z){throw ae!==null&&wp(ae),wp(V),z}finally{cg()}return new Mp(this.componentType,k,Os(B,V),V,B)}finally{pe(s)}}},Mp=class extends Ap{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new pi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Rg(s[re],s,i,e,n),this.previousInputValues.set(e,n);let o=Cr(this._tNode.index,s);Mg(o,1)}}get injector(){return new oi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function sk(t,e){let n=t[re],r=Pn;return t[r]=e,xl(n,r,2,"#host",null)}function ok(t,e,n,r,i,s,o){let a=i[re];ak(r,t,e,o);let u=null;e!==null&&(u=Eg(e,i[Ts]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=Ml(i,qD(n),null,h,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&bp(a,t,r.length-1),Pl(i,p),i[t.index]=p}function ak(t,e,n,r){for(let i of t)e.mergedAttrs=aa(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Np(e,e.mergedAttrs,!0),n!==null&&OD(r,n,e))}function ck(t,e,n,r,i,s){let o=_t(),a=i[re],u=Ft(o,i);GD(a,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,m=hi(i,a,p,o);fi(m,i)}WD(a,i,o),u&&fi(u,i);let l=hi(i,a,o.directiveStart+o.componentOffset,o);if(t[Kt]=i[Kt]=l,s!==null)for(let h of s)h(l,e);return jD(a,o,i),l}function uk(t,e,n,r){if(r)ip(t,n,["ng-version","18.2.9"]);else{let{attrs:i,classes:s}=ox(e.selectors[0]);i&&ip(t,n,i),s&&s.length>0&&PD(t,n,s.join(" "))}}function lk(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function dk(){let t=_t();hg(ve()[re],t)}var Ar=(()=>{class t{static{this.__NG_ELEMENT_ID__=hk}}return t})();function hk(){let t=_t();return cb(t,ve())}var fk=Ar,ab=class extends fk{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Os(this._hostTNode,this._hostLView)}get injector(){return new oi(this._hostTNode,this._hostLView)}get parentInjector(){let e=fg(this._hostTNode,this._hostLView);if(nD(e)){let n=ol(e,this._hostLView),r=sl(e),i=n[re].data[r+8];return new oi(i,n)}else return new oi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=WE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-At}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=zE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,HE(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!Ex(e),a;if(o)a=n;else{let D=n||{};a=D.index,r=D.injector,i=D.projectableNodes,s=D.environmentInjector||D.ngModuleRef}let u=o?e:new As(Er(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let R=(o?l:this.parentInjector).get(yt,null);R&&(s=R)}let h=Er(u.componentType??{}),p=zE(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,s);return this.insertImpl(y.hostView,a,HE(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Nx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[st],l=new ab(u,u[Qt],u[st]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return FO(o,i,s,r),e.attachToViewContainerRef(),fT(Qf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=WE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Tp(this._lContainer,n);r&&(Zu(Qf(this._lContainer),n),RD(r[re],r))}detach(e){let n=this._adjustIndex(e,-1),r=Tp(this._lContainer,n);return r&&Zu(Qf(this._lContainer),n)!=null?new pi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function WE(t){return t[nl]}function Qf(t){return t[nl]||(t[nl]=[])}function cb(t,e){let n,r=e[t.index];return Fn(r)?n=r:(n=KD(r,e,null,t),e[t.index]=n,Pl(e,n)),gk(n,e,t,r),new ab(n,t,e)}function pk(t,e){let n=t[qe],r=n.createComment(""),i=Ft(e,t),s=MD(n,i);return dl(n,s,r,ZP(n,i),!1),r}var gk=vk,mk=()=>!1;function yk(t,e,n){return mk(t,e,n)}function vk(t,e,n,r){if(t[ci])return;let i;n.type&8?i=dn(r):i=pk(e,n),t[ci]=i}var xp=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Pp=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Pg(e,n).matches!==null&&this.queries[n].setDirty()}},Op=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=Ck(e):this.predicate=e}},kp=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Lp=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,_k(n,s)),this.matchTNodeWithReadOption(e,n,Wu(n,e,s,!1,!1))}else r===gi?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Wu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Vn||i===Ar||i===gi&&n.type&4)this.addMatch(n.index,-2);else{let s=Wu(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function _k(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function Ik(t,e){return t.type&11?Os(t,e):t.type&4?xg(t,e):null}function wk(t,e,n,r){return n===-1?Ik(e,t):n===-2?Ek(t,e,r):hi(t,t[re],n,e)}function Ek(t,e,n){if(n===Vn)return Os(e,t);if(n===gi)return xg(e,t);if(n===Ar)return cb(e,t)}function ub(t,e,n,r){let i=e[xn].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)a.push(null);else{let h=s[l];a.push(wk(e,h,o[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Fp(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=ub(t,e,i,n);for(let a=0;a<s.length;a+=2){let u=s[a];if(u>0)r.push(o[a/2]);else{let l=s[a+1],h=e[-u];for(let p=At;p<h.length;p++){let m=h[p];m[ai]===m[st]&&Fp(m[re],m,l,r)}if(h[Ds]!==null){let p=h[Ds];for(let m=0;m<p.length;m++){let y=p[m];Fp(y[re],y,l,r)}}}}}return r}function Tk(t,e){return t[xn].queries[e].queryList}function Dk(t,e,n){let r=new Ip((n&4)===4);return fO(t,e,r,r.destroy),(e[xn]??=new Pp).queries.push(new xp(r))-1}function bk(t,e,n){let r=vt();return r.firstCreatePass&&(Sk(r,new Op(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),Dk(r,ve(),e)}function Ck(t){return t.split(",").map(e=>e.trim())}function Sk(t,e,n){t.queries===null&&(t.queries=new kp),t.queries.track(new Lp(e,n))}function Pg(t,e){return t.queries.getByIndex(e)}function Ak(t,e){let n=t[re],r=Pg(n,e);return r.crossesNgTemplate?Fp(n,t,e,[]):ub(n,t,r,e)}var KE=new Set;function _i(t){KE.has(t)||(KE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Rk(t){return typeof t=="function"&&t[An]!==void 0}function L6(t,e){_i("NgSignals");let n=Hw(t),r=n[An];return e?.equal&&(r.equal=e.equal),n.set=i=>Df(r,i),n.update=i=>zw(r,i),n.asReadonly=Nk.bind(n),n}function Nk(){let t=this[An];if(t.readonlyFn===void 0){let e=()=>this();e[An]=t,t.readonlyFn=e}return t.readonlyFn}function lb(t){return Rk(t)&&typeof t.set=="function"}function Mk(t){return Object.getPrototypeOf(t.prototype).constructor}function xk(t){let e=Mk(t.type),n=!0,r=[t];for(;e;){let i;if(Tr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new G(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Bu(t.inputs),o.inputTransforms=Bu(t.inputTransforms),o.declaredInputs=Bu(t.declaredInputs),o.outputs=Bu(t.outputs);let a=i.hostBindings;a&&Fk(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&kk(t,u),l&&Lk(t,l),Pk(t,i),bM(t.outputs,i.outputs),Tr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===xk&&(n=!1)}}e=Object.getPrototypeOf(e)}Ok(r)}function Pk(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Ok(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=aa(i.hostAttrs,n=aa(n,i.hostAttrs))}}function Bu(t){return t===Is?{}:t===Ot?[]:t}function kk(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function Lk(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function Fk(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Og(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Dr=class{},la=class{};var Vp=class extends Dr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new pl(this);let s=TT(e);this._bootstrapComponents=bD(s.bootstrap),this._r3Injector=dD(e,n,[{provide:Dr,useValue:this},{provide:Cs,useValue:this.componentFactoryResolver},...r],mt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Up=class extends la{constructor(e){super(),this.moduleType=e}create(e){return new Vp(this.moduleType,e,[])}};var gl=class extends Dr{constructor(e){super(),this.componentFactoryResolver=new pl(this),this.instance=null;let n=new ca([...e.providers,{provide:Dr,useValue:this},{provide:Cs,useValue:this.componentFactoryResolver}],e.parent||rg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function kl(t,e,n=null){return new gl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function db(t){return Uk(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Vk(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Uk(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function jk(t,e,n){return t[e]=n}function ks(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Bk(t){return(t.flags&32)===32}function $k(t,e,n,r,i,s,o,a,u){let l=e.consts,h=xl(e,t,4,o||null,a||null);zD(e,n,h,il(l,u)),hg(e,h);let p=h.tView=Ag(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function qk(t,e,n,r,i,s,o,a,u,l){let h=n+Pn,p=e.firstCreatePass?$k(h,e,t,r,i,s,o,a,u):e.data[h];ga(p,!1);let m=zk(e,t,p,n);lg()&&Cg(e,t,m,p),fi(m,t);let y=KD(m,t,m,p);return t[h]=y,Pl(t,y),yk(y,p,t),ig(p)&&BD(e,t,p),u!=null&&$D(t,p,l),p}function Hk(t,e,n,r,i,s,o,a){let u=ve(),l=vt(),h=il(l.consts,s);return qk(u,l,t,e,n,r,i,h,o,a),Hk}var zk=Gk;function Gk(t,e,n,r){return dg(!0),e[qe].createComment("")}var ms=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ms||{}),hb=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}}return t})(),jp=class t{constructor(){this.ngZone=x(he),this.scheduler=x(bs),this.errorHandler=x(On,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[ms.EarlyRead,ms.Write,ms.MixedReadWrite,ms.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}},Bp=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function kg(t,e){!e?.injector&&wx(kg);let n=e?.injector??x(He);return jP(n)?(_i("NgAfterNextRender"),Kk(t,n,e,!0)):Qk}function Wk(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function Kk(t,e,n,r){let i=e.get(hb);i.impl??=e.get(jp);let s=n?.phase??ms.MixedReadWrite,o=n?.manualCleanup!==!0?e.get(mg):null,a=new Bp(i.impl,Wk(t,s),r,o);return i.impl.register(a),a}var Qk={destroy(){}};function Lg(t,e,n,r){let i=ve(),s=Al();if(ks(i,s,e)){let o=vt(),a=ug();AO(a,i,t,e,n,r)}return Lg}function Yk(t,e,n,r){return ks(t,Al(),n)?e+wl(n)+r:vi}function $u(t,e){return t<<17|e<<2}function mi(t){return t>>17&32767}function Jk(t){return(t&2)==2}function Zk(t,e){return t&131071|e<<17}function $p(t){return t|2}function Rs(t){return(t&131068)>>2}function Yf(t,e){return t&-131069|e<<2}function Xk(t){return(t&1)===1}function qp(t){return t|1}function e1(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=mi(o),u=Rs(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||fa(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=mi(t[a+1]);t[r+1]=$u(m,a),m!==0&&(t[m+1]=Yf(t[m+1],r)),t[a+1]=Zk(t[a+1],r)}else t[r+1]=$u(a,0),a!==0&&(t[a+1]=Yf(t[a+1],r)),a=r;else t[r+1]=$u(u,0),a===0?a=r:t[u+1]=Yf(t[u+1],r),u=r;l&&(t[r+1]=$p(t[r+1])),QE(t,h,r,!0),QE(t,h,r,!1),t1(e,h,t,r,s),o=$u(a,u),s?e.classBindings=o:e.styleBindings=o}function t1(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&fa(s,e)>=0&&(n[r+1]=qp(n[r+1]))}function QE(t,e,n,r){let i=t[n+1],s=e===null,o=r?mi(i):Rs(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];n1(u,e)&&(a=!0,t[o+1]=r?qp(l):$p(l)),o=r?mi(l):Rs(l)}a&&(t[n+1]=r?$p(i):qp(i))}function n1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?fa(t,e)>=0:!1}function r1(t,e,n){let r=ve(),i=Al();if(ks(r,i,e)){let s=vt(),o=ug();HD(s,o,r,t,e,r[qe],n,!1)}return r1}function YE(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Rg(t,n,s[o],o,r)}function i1(t,e){return s1(t,e,null,!0),i1}function s1(t,e,n,r){let i=ve(),s=vt(),o=Hx(2);if(s.firstUpdatePass&&a1(s,t,o,r),e!==vi&&ks(i,o,e)){let a=s.data[Ps()];h1(s,a,i,i[qe],t,i[o+1]=f1(e,n),r,o)}}function o1(t,e){return e>=t.expandoStartIndex}function a1(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Ps()],o=o1(t,n);p1(s,r)&&e===null&&!o&&(e=!1),e=c1(i,s,e,r),e1(i,s,e,n,o,r)}}function c1(t,e,n,r){let i=Kx(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Jf(null,t,e,n,r),n=da(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Jf(i,t,e,n,r),s===null){let u=u1(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Jf(null,t,e,u[1],r),u=da(u,e.attrs,r),l1(t,e,r,u))}else s=d1(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function u1(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Rs(r)!==0)return t[mi(r)]}function l1(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[mi(i)]=r}function d1(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=da(r,o,n)}return da(r,e.attrs,n)}function Jf(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=da(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function da(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),WM(t,o,n?!0:e[++s]))}return t===void 0?null:t}function h1(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=Xk(l)?JE(u,e,n,i,Rs(l),o):void 0;if(!ml(h)){ml(s)||Jk(l)&&(s=JE(u,null,n,i,a,o));let p=VT(Ps(),n);sO(r,o,p,i,s)}}function JE(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===vi&&(m=p?Ot:void 0);let y=p?Bf(m,r):h===r?m:void 0;if(l&&!ml(y)&&(y=Bf(u,r)),ml(y)&&(a=y,o))return a;let D=t[i+1];i=o?mi(D):Rs(D)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=Bf(u,r))}return a}function ml(t){return t!==void 0}function f1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=mt(ma(t)))),t}function p1(t,e){return(t.flags&(e?8:16))!==0}function g1(t,e,n,r,i,s){let o=e.consts,a=il(o,i),u=xl(e,t,2,r,a);return zD(e,n,u,il(o,s)),u.attrs!==null&&Np(u,u.attrs,!1),u.mergedAttrs!==null&&Np(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function fb(t,e,n,r){let i=ve(),s=vt(),o=Pn+t,a=i[qe],u=s.firstCreatePass?g1(o,s,i,e,n,r):s.data[o],l=m1(s,i,u,a,e,t);i[o]=l;let h=ig(u);return ga(u,!0),OD(a,l,u),!Bk(u)&&lg()&&Cg(s,i,l,u),Px()===0&&fi(l,i),Ox(),h&&(BD(s,i,u),jD(s,u,i)),r!==null&&$D(i,u),fb}function pb(){let t=_t();GT()?jx():(t=t.parent,ga(t,!1));let e=t;Fx(e)&&Vx(),kx();let n=vt();return n.firstCreatePass&&(hg(n,t),PT(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&tP(e)&&YE(n,e,ve(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&nP(e)&&YE(n,e,ve(),e.stylesWithoutHost,!1),pb}function Fg(t,e,n,r){return fb(t,e,n,r),pb(),Fg}var m1=(t,e,n,r,i,s)=>(dg(!0),CD(r,i,Jx()));function F6(){return ve()}var yl="en-US";var y1=yl;function v1(t){typeof t=="string"&&(y1=t.toLowerCase().replace(/_/g,"-"))}var _1=(t,e,n)=>{};function Vg(t,e,n,r){let i=ve(),s=vt(),o=_t();return gb(s,i,i[qe],o,t,e,r),Vg}function I1(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[tl],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function gb(t,e,n,r,i,s,o){let a=ig(r),l=t.firstCreatePass&&JD(t),h=e[Kt],p=YD(e),m=!0;if(r.type&3||o){let R=Ft(r,e),S=o?o(R):R,P=p.length,V=o?B=>o(dn(B[r.index])):r.index,k=null;if(!o&&a&&(k=I1(t,e,i,r.index)),k!==null){let B=k.__ngLastListenerFn__||k;B.__ngNextListenerFn__=s,k.__ngLastListenerFn__=s,m=!1}else{s=XE(r,e,h,s),_1(R,i,s);let B=n.listen(S,i,s);p.push(s,B),l&&l.push(i,V,P,P+1)}}else s=XE(r,e,h,s);let y=r.outputs,D;if(m&&y!==null&&(D=y[i])){let R=D.length;if(R)for(let S=0;S<R;S+=2){let P=D[S],V=D[S+1],ae=e[P][V].subscribe(s),z=p.length;p.push(s,ae),l&&l.push(i,r.index,z,-(z+1))}}}function ZE(t,e,n,r){let i=pe(null);try{return on(6,e,n),n(r)!==!1}catch(s){return ZD(t,s),!1}finally{on(7,e,n),pe(i)}}function XE(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?Cr(t.index,e):e;Mg(o,5);let a=ZE(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=ZE(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function V6(t=1){return Yx(t)}function U6(t,e,n){bk(t,e,n)}function w1(t){let e=ve(),n=vt(),r=KT();og(r+1);let i=Pg(n,r);if(t.dirty&&Rx(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=Ak(e,r);t.reset(s,TP),t.notifyOnChanges()}return!0}return!1}function E1(){return Tk(ve(),KT())}function j6(t){let e=Bx();return Ax(e,Pn+t)}function B6(t,e=""){let n=ve(),r=vt(),i=t+Pn,s=r.firstCreatePass?xl(r,i,1,e,null):r.data[i],o=T1(r,n,s,e,t);n[i]=o,lg()&&Cg(r,n,o,s),ga(s,!1)}var T1=(t,e,n,r,i)=>(dg(!0),$P(e[qe],r));function D1(t){return mb("",t,""),D1}function mb(t,e,n){let r=ve(),i=Yk(r,t,e,n);return i!==vi&&xO(r,Ps(),i),mb}function b1(t,e,n){lb(e)&&(e=e());let r=ve(),i=Al();if(ks(r,i,e)){let s=vt(),o=ug();HD(s,o,r,t,e,r[qe],n,!1)}return b1}function $6(t,e){let n=lb(t);return n&&t.set(e),n}function C1(t,e){let n=ve(),r=vt(),i=_t();return gb(r,n,n[qe],i,t,e),C1}function S1(t,e,n){let r=vt();if(r.firstCreatePass){let i=Tr(t);Hp(n,r.data,r.blueprint,i,!0),Hp(e,r.data,r.blueprint,i,!1)}}function Hp(t,e,n,r,i){if(t=gt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Hp(t[s],e,n,r,i);else{let s=vt(),o=ve(),a=_t(),u=Es(t)?t:gt(t.provide),l=RT(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Es(t)||!t.multi){let y=new di(l,i,Ye),D=Xf(u,e,i?h:h+m,p);D===-1?(pp(al(a,o),s,u),Zf(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),o.push(y)):(n[D]=y,o[D]=y)}else{let y=Xf(u,e,h+m,p),D=Xf(u,e,h,h+m),R=y>=0&&n[y],S=D>=0&&n[D];if(i&&!S||!i&&!R){pp(al(a,o),s,u);let P=N1(i?R1:A1,n.length,i,r,l);!i&&S&&(n[D].providerFactory=P),Zf(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(P),o.push(P)}else{let P=yb(n[i?D:y],l,!i&&r);Zf(s,t,y>-1?y:D,P)}!i&&r&&S&&n[D].componentProviders++}}}function Zf(t,e,n,r){let i=Es(e),s=px(e);if(i||s){let u=(s?gt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function yb(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Xf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function A1(t,e,n,r){return zp(this.multi,[])}function R1(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=hi(n,n[re],this.providerFactory.index,r);s=a.slice(0,o),zp(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],zp(i,s);return s}function zp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function N1(t,e,n,r,i){let s=new di(t,n,Ye);return s.multi=[],s.index=e,s.componentProviders=0,yb(s,i,r&&!n),s}function q6(t,e=[]){return n=>{n.providersResolver=(r,i)=>S1(r,i?i(t):t,e)}}var M1=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=CT(!1,n.type),i=r.length>0?kl([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=$({token:t,providedIn:"environment",factory:()=>new t(H(yt))})}}return t})();function vb(t){_i("NgStandalone"),t.getStandaloneInjector=e=>e.get(M1).getOrCreateStandaloneInjector(t)}function H6(t,e,n,r){return P1(ve(),$x(),t,e,n,r)}function x1(t,e){let n=t[e];return n===vi?void 0:n}function P1(t,e,n,r,i,s){let o=e+n;return ks(t,o,i)?jk(t,o+1,s?r.call(s,i):r(i)):x1(t,o+1)}var br=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},_b=new br("18.2.9");var Ll=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var Ib=new q("");function va(t){return!!t&&typeof t.then=="function"}function wb(t){return!!t&&typeof t.subscribe=="function"}var Fl=new q(""),Eb=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=x(Fl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(va(s))n.push(s);else if(wb(s)){let o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),_a=new q("");function O1(){qw(()=>{throw new G(600,!1)})}function k1(t){return t.isBoundToModule}var L1=10;function F1(t,e,n){try{let r=n();return va(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Rr=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=x(wP),this.afterRenderManager=x(hb),this.zonelessEnabled=x(Ol),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new rt,this.afterTick=new rt,this.componentTypes=[],this.components=[],this.isStable=x(Sr).hasPendingTasks.pipe(J(n=>!n)),this._injector=x(yt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof fl;if(!this._injector.get(Eb).done){let m=!i&&ET(n),y=!1;throw new G(405,y)}let o;i?o=n:o=this._injector.get(Cs).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let a=k1(o)?void 0:this._injector.get(Dr),u=r||o.selector,l=o.create(He.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(Ib,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Ku(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new G(101,!1);let n=pe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,pe(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Ss,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<L1;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)V1(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Cl(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ku(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(_a,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ku(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new G(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ku(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function V1(t,e,n,r){if(!n&&!Cl(t))return;tb(t,e,n&&!r?0:1)}var Gp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Vl=(()=>{class t{compileModuleSync(n){return new Up(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=TT(n),s=bD(i.declarations).reduce((o,a)=>{let u=Er(a);return u&&o.push(new As(u)),o},[]);return new Gp(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var U1=(()=>{class t{constructor(){this.zone=x(he),this.changeDetectionScheduler=x(bs),this.applicationRef=x(Rr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),j1=new q("",{factory:()=>!1});function Tb({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new he(Ee(U({},Db()),{scheduleInRootZone:n})),[{provide:he,useFactory:t},{provide:ws,multi:!0,useFactory:()=>{let r=x(U1,{optional:!0});return()=>r.initialize()}},{provide:ws,multi:!0,useFactory:()=>{let r=x(B1);return()=>{r.initialize()}}},e===!0?{provide:sb,useValue:!0}:[],{provide:ob,useValue:n??hD}]}function z6(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=Tb({ngZoneFactory:()=>{let i=Db(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&_i("NgZone_CoalesceEvent"),new he(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Et([{provide:j1,useValue:!0},{provide:Ol,useValue:!1},r])}function Db(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var B1=(()=>{class t{constructor(){this.subscription=new Pe,this.initialized=!1,this.zone=x(he),this.pendingTasks=x(Sr)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{he.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var $1=(()=>{class t{constructor(){this.appRef=x(Rr),this.taskService=x(Sr),this.ngZone=x(he),this.zonelessEnabled=x(Ol),this.disableScheduling=x(sb,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Pe,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ul):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(ob,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof _p||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?kE:fD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ul+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,kE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function q1(){return typeof $localize<"u"&&$localize.locale||yl}var Ug=new q("",{providedIn:"root",factory:()=>x(Ug,se.Optional|se.SkipSelf)||q1()});var Wp=new q("");function qu(t){return!t.moduleRef}function H1(t){let e=qu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(he);return n.run(()=>{qu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(On,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),qu(t)){let s=()=>e.destroy(),o=t.platformInjector.get(Wp);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(Wp);o.add(s),t.moduleRef.onDestroy(()=>{Ku(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return F1(r,n,()=>{let s=e.get(Eb);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Ug,yl);if(v1(o||yl),qu(t)){let a=e.get(Rr);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return z1(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function z1(t,e){let n=t.injector.get(Rr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new G(-403,!1);e.push(t)}var Qu=null;function G1(t=[],e){return He.create({name:e,providers:[{provide:Tl,useValue:"platform"},{provide:Wp,useValue:new Set([()=>Qu=null])},...t]})}function W1(t=[]){if(Qu)return Qu;let e=G1(t);return Qu=e,O1(),K1(e),e}function K1(t){t.get(Ig,null)?.forEach(n=>n())}var Ia=(()=>{class t{static{this.__NG_ELEMENT_ID__=Q1}}return t})();function Q1(t){return Y1(_t(),ve(),(t&16)===16)}function Y1(t,e,n){if(bl(t)&&!n){let r=Cr(t.index,e);return new pi(r,r)}else if(t.type&175){let r=e[ln];return new pi(r,e)}return null}var Kp=class{constructor(){}supports(e){return db(e)}create(e){return new Qp(e)}},J1=(t,e)=>e,Qp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||J1}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<eT(r,i,s)?n:r,a=eT(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<s.length?s[m]:s[m]=0,D=y+m;h<=D&&D<l&&(s[m]=y+1)}let p=o.previousIndex;s[p]=h-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!db(e))throw new G(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,Vk(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Yp(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new vl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new vl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Yp=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Jp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},vl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Jp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function eT(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function tT(){return new jg([new Kp])}var jg=(()=>{class t{static{this.\u0275prov=$({token:t,providedIn:"root",factory:tT})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||tT()),deps:[[t,new Xp,new ke]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new G(901,!1)}}return t})();function bb(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=W1(r),s=[Tb({}),{provide:bs,useExisting:$1},...n||[]],o=new gl({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return H1({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function wa(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function G6(t,e){_i("NgSignals");let n=jw(t);return e?.equal&&(n[An].equal=e.equal),n}function Z1(t){let e=pe(null);try{return t()}finally{pe(e)}}function Cb(t){let e=Er(t);if(!e)return null;let n=new As(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var xb=null;function Ls(){return xb}function Pb(t){xb??=t}var Ul=class{};var ot=new q(""),Gg=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>x(eL),providedIn:"platform"})}}return t})(),Ob=new q(""),eL=(()=>{class t extends Gg{constructor(){super(),this._doc=x(ot),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ls().getBaseHref(this._doc)}onPopState(n){let r=Ls().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Ls().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Wg(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Sb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Un(t){return t&&t[0]!=="?"?"?"+t:t}var jn=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>x(Kg),providedIn:"root"})}}return t})(),kb=new q(""),Kg=(()=>{class t extends jn{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(ot).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Wg(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Un(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Un(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Un(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(H(Gg),H(kb,8))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Lb=(()=>{class t extends jn{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Wg(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Un(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Un(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(H(Gg),H(kb,8))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),Vs=(()=>{class t{constructor(n){this._subject=new it,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=rL(Sb(Ab(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Un(r))}normalize(n){return t.stripTrailingSlash(nL(this._basePath,Ab(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Un(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Un(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Un}static{this.joinWithSlash=Wg}static{this.stripTrailingSlash=Sb}static{this.\u0275fac=function(r){return new(r||t)(H(jn))}}static{this.\u0275prov=$({token:t,factory:()=>tL(),providedIn:"root"})}}return t})();function tL(){return new Vs(H(jn))}function nL(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Ab(t){return t.replace(/\/index.html$/,"")}function rL(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function jl(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Bg=/\s+/,Rb=[],v8=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=Rb,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Bg):Rb}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Bg):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Bg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(Ye(Vn),Ye(ya))}}static{this.\u0275dir=yi({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var $g=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},_8=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new $g(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),Nb(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);Nb(s,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(Ye(Ar),Ye(gi),Ye(jg))}}static{this.\u0275dir=yi({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function Nb(t,e){t.context.$implicit=e.item}var I8=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new qg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Mb("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Mb("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(Ye(Ar),Ye(gi))}}static{this.\u0275dir=yi({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),qg=class{constructor(){this.$implicit=null,this.ngIf=null}};function Mb(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${mt(e)}'.`)}var iL=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Ms({type:t})}static{this.\u0275inj=Ns({})}}return t})(),Qg="browser",sL="server";function oL(t){return t===Qg}function Bl(t){return t===sL}var Fb=(()=>{class t{static{this.\u0275prov=$({token:t,providedIn:"root",factory:()=>oL(x(Vt))?new Hg(x(ot),window):new zg})}}return t})(),Hg=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=aL(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function aL(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var zg=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Fs=class{};var Ta=class{},ql=class{},Bn=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Jg=class{encodeKey(e){return Ub(e)}encodeValue(e){return Ub(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function cL(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}var uL=/%(\d[a-f0-9])/gi,lL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ub(t){return encodeURIComponent(t).replace(uL,(e,n)=>lL[n]??e)}function $l(t){return`${t}`}var Mr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Jg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=cL(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map($l):[$l(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push($l(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf($l(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Zg=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function dL(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function jb(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Bb(t){return typeof Blob<"u"&&t instanceof Blob}function $b(t){return typeof FormData<"u"&&t instanceof FormData}function hL(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Ea=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(dL(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Bn,this.context??=new Zg,!this.params)this.params=new Mr,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||jb(this.body)||Bb(this.body)||$b(this.body)||hL(this.body)?this.body:this.body instanceof Mr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||$b(this.body)?null:Bb(this.body)?this.body.type||null:jb(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Mr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new t(n,r,o,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:s})}},xr=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(xr||{}),Da=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new Bn,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Hl=class t extends Da{constructor(e={}){super(e),this.type=xr.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ba=class t extends Da{constructor(e={}){super(e),this.type=xr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Nr=class extends Da{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Gb=200,fL=204;function Yg(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var pL=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof Ea)s=n;else{let u;i.headers instanceof Bn?u=i.headers:u=new Bn(i.headers);let l;i.params&&(i.params instanceof Mr?l=i.params:l=new Mr({fromObject:i.params})),s=new Ea(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=Q(s).pipe(Nn(u=>this.handler.handle(u)));if(n instanceof Ea||i.observe==="events")return o;let a=o.pipe(pt(u=>u instanceof ba));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(J(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(J(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(J(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(J(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Mr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Yg(i,r))}post(n,r,i={}){return this.request("POST",n,Yg(i,r))}put(n,r,i={}){return this.request("PUT",n,Yg(i,r))}static{this.\u0275fac=function(r){return new(r||t)(H(Ta))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),gL=/^\)\]\}',?\n/,mL="X-Request-URL";function qb(t){if(t.url)return t.url;let e=mL.toLocaleLowerCase();return t.headers.get(e)}var yL=(()=>{class t{constructor(){this.fetchImpl=x(Xg,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=x(he)}handle(n){return new ie(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(em,s=>r.error(new Nr({error:s}))),()=>i.abort()})}doRequest(n,r,i){return _(this,null,function*(){let s=this.createRequestInit(n),o;try{let y=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,U({signal:r},s)));vL(y),i.next({type:xr.Sent}),o=yield y}catch(y){i.error(new Nr({error:y,status:y.status??0,statusText:y.statusText,url:n.urlWithParams,headers:y.headers}));return}let a=new Bn(o.headers),u=o.statusText,l=qb(o)??n.urlWithParams,h=o.status,p=null;if(n.reportProgress&&i.next(new Hl({headers:a,status:h,statusText:u,url:l})),o.body){let y=o.headers.get("content-length"),D=[],R=o.body.getReader(),S=0,P,V,k=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>_(this,null,function*(){for(;;){let{done:ae,value:z}=yield R.read();if(ae)break;if(D.push(z),S+=z.length,n.reportProgress){V=n.responseType==="text"?(V??"")+(P??=new TextDecoder).decode(z,{stream:!0}):void 0;let E=()=>i.next({type:xr.DownloadProgress,total:y?+y:void 0,loaded:S,partialText:V});k?k.run(E):E()}}}));let B=this.concatChunks(D,S);try{let ae=o.headers.get("Content-Type")??"";p=this.parseBody(n,B,ae)}catch(ae){i.error(new Nr({error:ae,headers:new Bn(o.headers),status:o.status,statusText:o.statusText,url:qb(o)??n.urlWithParams}));return}}h===0&&(h=p?Gb:0),h>=200&&h<300?(i.next(new ba({body:p,headers:a,status:h,statusText:u,url:l})),i.complete()):i.error(new Nr({error:p,headers:a,status:h,statusText:u,url:l}))})}parseBody(n,r,i){switch(n.responseType){case"json":let s=new TextDecoder().decode(r).replace(gL,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((s,o)=>r[s]=o.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let s=n.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),s=0;for(let o of n)i.set(o,s),s+=o.length;return i}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),Xg=class{};function em(){}function vL(t){t.then(em,em)}function _L(t,e){return e(t)}function IL(t,e,n){return(r,i)=>Lt(n,()=>e(r,s=>t(s,i)))}var Wb=new q(""),wL=new q(""),EL=new q("",{providedIn:"root",factory:()=>!0});var Hb=(()=>{class t extends Ta{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=x(Sr),this.contributeToStability=x(EL)}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Wb),...this.injector.get(wL,[])]));this.chain=r.reduceRight((i,s)=>IL(i,s,this.injector),_L)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(si(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||t)(H(ql),H(yt))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();var TL=/^\)\]\}',?\n/;function DL(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var zb=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new G(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Se(r.\u0275loadImpl()):Q(null)).pipe(wt(()=>new ie(s=>{let o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((R,S)=>o.setRequestHeader(R,S.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let R=n.detectContentTypeHeader();R!==null&&o.setRequestHeader("Content-Type",R)}if(n.responseType){let R=n.responseType.toLowerCase();o.responseType=R!=="json"?R:"text"}let a=n.serializeBody(),u=null,l=()=>{if(u!==null)return u;let R=o.statusText||"OK",S=new Bn(o.getAllResponseHeaders()),P=DL(o)||n.url;return u=new Hl({headers:S,status:o.status,statusText:R,url:P}),u},h=()=>{let{headers:R,status:S,statusText:P,url:V}=l(),k=null;S!==fL&&(k=typeof o.response>"u"?o.responseText:o.response),S===0&&(S=k?Gb:0);let B=S>=200&&S<300;if(n.responseType==="json"&&typeof k=="string"){let ae=k;k=k.replace(TL,"");try{k=k!==""?JSON.parse(k):null}catch(z){k=ae,B&&(B=!1,k={error:z,text:k})}}B?(s.next(new ba({body:k,headers:R,status:S,statusText:P,url:V||void 0})),s.complete()):s.error(new Nr({error:k,headers:R,status:S,statusText:P,url:V||void 0}))},p=R=>{let{url:S}=l(),P=new Nr({error:R,status:o.status||0,statusText:o.statusText||"Unknown Error",url:S||void 0});s.error(P)},m=!1,y=R=>{m||(s.next(l()),m=!0);let S={type:xr.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(S.total=R.total),n.responseType==="text"&&o.responseText&&(S.partialText=o.responseText),s.next(S)},D=R=>{let S={type:xr.UploadProgress,loaded:R.loaded};R.lengthComputable&&(S.total=R.total),s.next(S)};return o.addEventListener("load",h),o.addEventListener("error",p),o.addEventListener("timeout",p),o.addEventListener("abort",p),n.reportProgress&&(o.addEventListener("progress",y),a!==null&&o.upload&&o.upload.addEventListener("progress",D)),o.send(a),s.next({type:xr.Sent}),()=>{o.removeEventListener("error",p),o.removeEventListener("abort",p),o.removeEventListener("load",h),o.removeEventListener("timeout",p),n.reportProgress&&(o.removeEventListener("progress",y),a!==null&&o.upload&&o.upload.removeEventListener("progress",D)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(H(Fs))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),Kb=new q(""),bL="XSRF-TOKEN",CL=new q("",{providedIn:"root",factory:()=>bL}),SL="X-XSRF-TOKEN",AL=new q("",{providedIn:"root",factory:()=>SL}),zl=class{},RL=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=jl(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(H(ot),H(Vt),H(CL))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();function NL(t,e){let n=t.url.toLowerCase();if(!x(Kb)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=x(zl).getToken(),i=x(AL);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function O8(...t){let e=[pL,zb,Hb,{provide:Ta,useExisting:Hb},{provide:ql,useFactory:()=>x(yL,{optional:!0})??x(zb)},{provide:Wb,useValue:NL,multi:!0},{provide:Kb,useValue:!0},{provide:zl,useClass:RL}];for(let n of t)e.push(...n.\u0275providers);return Et(e)}var rm=class extends Ul{constructor(){super(...arguments),this.supportsDOMEvents=!0}},im=class t extends rm{static makeCurrent(){Pb(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=ML();return n==null?null:xL(n)}resetBaseElement(){Ca=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return jl(document.cookie,e)}},Ca=null;function ML(){return Ca=Ca||document.querySelector("base"),Ca?Ca.getAttribute("href"):null}function xL(t){return new URL(t,document.baseURI).pathname}var PL=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),sm=new q(""),Zb=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new G(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(H(sm),H(he))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),Gl=class{constructor(e){this._doc=e}},tm="ng-app-id",Xb=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Bl(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${tm}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(tm),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(tm,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(H(ot),H(_g),H(wg,8),H(Vt))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),nm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},am=/%COMP%/g,eC="%COMP%",OL=`_nghost-${eC}`,kL=`_ngcontent-${eC}`,LL=!0,FL=new q("",{providedIn:"root",factory:()=>LL});function VL(t){return kL.replace(am,t)}function UL(t){return OL.replace(am,t)}function tC(t,e){return e.map(n=>n.replace(am,t))}var Qb=(()=>{class t{constructor(n,r,i,s,o,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Bl(a),this.defaultRenderer=new Sa(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===cn.ShadowDom&&(r=Ee(U({},r),{encapsulation:cn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Wl?i.applyToHost(n):i instanceof Aa&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case cn.Emulated:s=new Wl(u,l,r,this.appId,h,o,a,p);break;case cn.ShadowDom:return new om(u,l,n,r,o,a,this.nonce,p);default:s=new Aa(u,l,r,h,o,a,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(H(Zb),H(Xb),H(_g),H(FL),H(ot),H(Vt),H(he),H(wg))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),Sa=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(nm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Yb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Yb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new G(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=nm[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=nm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(kn.DashCase|kn.Important)?e.style.setProperty(n,r,i&kn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&kn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Ls().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Yb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var om=class extends Sa{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=tC(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Aa=class extends Sa{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?tC(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Wl=class extends Aa{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=VL(l),this.hostAttr=UL(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},jL=(()=>{class t extends Gl{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(H(ot))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})(),Jb=["alt","control","meta","shift"],BL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$L={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},qL=(()=>{class t extends Gl{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ls().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Jb.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=BL[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Jb.forEach(o=>{if(o!==i){let a=$L[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(H(ot))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();function o5(t,e){return bb(U({rootComponent:t},HL(e)))}function HL(t){return{appProviders:[...QL,...t?.providers??[]],platformProviders:KL}}function zL(){im.makeCurrent()}function GL(){return new On}function WL(){return ID(document),document}var KL=[{provide:Vt,useValue:Qg},{provide:Ig,useValue:zL,multi:!0},{provide:ot,useFactory:WL,deps:[]}];var QL=[{provide:Tl,useValue:"root"},{provide:On,useFactory:GL,deps:[]},{provide:sm,useClass:jL,multi:!0,deps:[ot,he,Vt]},{provide:sm,useClass:qL,multi:!0,deps:[ot]},Qb,Xb,Zb,{provide:Ss,useExisting:Qb},{provide:Fs,useClass:PL,deps:[]},[]];var nC=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(H(ot))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ne="primary",qa=Symbol("RouteTitle"),hm=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Hs(t){return new hm(t)}function JL(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function ZL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!hn(t[n],e[n]))return!1;return!0}function hn(t,e){let n=t?fm(t):void 0,r=e?fm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!fC(t[i],e[i]))return!1;return!0}function fm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function fC(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function pC(t){return t.length>0?t[t.length-1]:null}function kr(t){return Ff(t)?t:va(t)?Se(Promise.resolve(t)):Q(t)}var XL={exact:mC,subset:yC},gC={exact:eF,subset:tF,ignored:()=>!0};function rC(t,e,n){return XL[n.paths](t.root,e.root,n.matrixParams)&&gC[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function eF(t,e){return hn(t,e)}function mC(t,e,n){if(!Ei(t.segments,e.segments)||!Yl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!mC(t.children[r],e.children[r],n))return!1;return!0}function tF(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>fC(t[n],e[n]))}function yC(t,e,n){return vC(t,e,e.segments,n)}function vC(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ei(i,n)||e.hasChildren()||!Yl(i,n,r))}else if(t.segments.length===n.length){if(!Ei(t.segments,n)||!Yl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!yC(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Ei(t.segments,i)||!Yl(t.segments,i,r)||!t.children[ne]?!1:vC(t.children[ne],e,s,r)}}function Yl(t,e,n){return e.every((r,i)=>gC[n](t[i].parameters,r.parameters))}var qn=class{constructor(e=new ye([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Hs(this.queryParams),this._queryParamMap}toString(){return iF.serialize(this)}},ye=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jl(this)}},wi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Hs(this.parameters),this._parameterMap}toString(){return IC(this)}};function nF(t,e){return Ei(t,e)&&t.every((n,r)=>hn(n.parameters,e[r].parameters))}function Ei(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function rF(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ne&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ne&&(n=n.concat(e(i,r)))}),n}var Ha=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>new zs,providedIn:"root"})}}return t})(),zs=class{parse(e){let n=new gm(e);return new qn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ra(e.root,!0)}`,r=aF(e.queryParams),i=typeof e.fragment=="string"?`#${sF(e.fragment)}`:"";return`${n}${r}${i}`}},iF=new zs;function Jl(t){return t.segments.map(e=>IC(e)).join("/")}function Ra(t,e){if(!t.hasChildren())return Jl(t);if(e){let n=t.children[ne]?Ra(t.children[ne],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ne&&r.push(`${i}:${Ra(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=rF(t,(r,i)=>i===ne?[Ra(t.children[ne],!1)]:[`${i}:${Ra(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ne]!=null?`${Jl(t)}/${n[0]}`:`${Jl(t)}/(${n.join("//")})`}}function _C(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kl(t){return _C(t).replace(/%3B/gi,";")}function sF(t){return encodeURI(t)}function pm(t){return _C(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zl(t){return decodeURIComponent(t)}function iC(t){return Zl(t.replace(/\+/g,"%20"))}function IC(t){return`${pm(t.path)}${oF(t.parameters)}`}function oF(t){return Object.entries(t).map(([e,n])=>`;${pm(e)}=${pm(n)}`).join("")}function aF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Kl(n)}=${Kl(i)}`).join("&"):`${Kl(n)}=${Kl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var cF=/^[^\/()?;#]+/;function cm(t){let e=t.match(cF);return e?e[0]:""}var uF=/^[^\/()?;=#]+/;function lF(t){let e=t.match(uF);return e?e[0]:""}var dF=/^[^=?&#]+/;function hF(t){let e=t.match(dF);return e?e[0]:""}var fF=/^[^&#]+/;function pF(t){let e=t.match(fF);return e?e[0]:""}var gm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ne]=new ye(e,n)),r}parseSegment(){let e=cm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new G(4009,!1);return this.capture(e),new wi(Zl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=lF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=cm(this.remaining);i&&(r=i,this.capture(r))}e[Zl(n)]=Zl(r)}parseQueryParam(e){let n=hF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=pF(this.remaining);o&&(r=o,this.capture(r))}let i=iC(n),s=iC(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=cm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new G(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ne);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ne]:new ye([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new G(4011,!1)}};function wC(t){return t.segments.length>0?new ye([],{[ne]:t}):t}function EC(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=EC(i);if(r===ne&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new ye(t.segments,e);return gF(n)}function gF(t){if(t.numberOfChildren===1&&t.children[ne]){let e=t.children[ne];return new ye(t.segments.concat(e.segments),e.children)}return t}function Ti(t){return t instanceof qn}function mF(t,e,n=null,r=null){let i=TC(t);return DC(i,e,n,r)}function TC(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new ye(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=wC(r);return e??i}function DC(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return um(i,i,i,n,r);let s=yF(e);if(s.toRoot())return um(i,i,new ye([],{}),n,r);let o=vF(s,i,t),a=o.processChildren?xa(o.segmentGroup,o.index,s.commands):CC(o.segmentGroup,o.index,s.commands);return um(i,o.segmentGroup,a,n,r)}function Xl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ka(t){return typeof t=="object"&&t!=null&&t.outlets}function um(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;t===e?o=n:o=bC(t,e,n);let a=wC(EC(o));return new qn(a,s,i)}function bC(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=bC(s,e,n)}),new ye(t.segments,r)}var ed=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Xl(r[0]))throw new G(4003,!1);let i=r.find(ka);if(i&&i!==pC(r))throw new G(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function yF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new ed(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new ed(n,e,r)}var Bs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function vF(t,e,n){if(t.isAbsolute)return new Bs(e,!0,0);if(!n)return new Bs(e,!1,NaN);if(n.parent===null)return new Bs(n,!0,0);let r=Xl(t.commands[0])?0:1,i=n.segments.length-1+r;return _F(n,i,t.numberOfDoubleDots)}function _F(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new G(4005,!1);i=r.segments.length}return new Bs(r,!1,i-s)}function IF(t){return ka(t[0])?t[0].outlets:{[ne]:t}}function CC(t,e,n){if(t??=new ye([],{}),t.segments.length===0&&t.hasChildren())return xa(t,e,n);let r=wF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new ye(t.segments.slice(0,r.pathIndex),{});return s.children[ne]=new ye(t.segments.slice(r.pathIndex),t.children),xa(s,0,i)}else return r.match&&i.length===0?new ye(t.segments,{}):r.match&&!t.hasChildren()?mm(t,e,n):r.match?xa(t,0,i):mm(t,e,n)}function xa(t,e,n){if(n.length===0)return new ye(t.segments,{});{let r=IF(n),i={};if(Object.keys(r).some(s=>s!==ne)&&t.children[ne]&&t.numberOfChildren===1&&t.children[ne].segments.length===0){let s=xa(t.children[ne],e,n);return new ye(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=CC(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new ye(t.segments,i)}}function wF(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(ka(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!oC(u,l,o))return s;r+=2}else{if(!oC(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function mm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(ka(s)){let u=EF(s.outlets);return new ye(r,u)}if(i===0&&Xl(n[0])){let u=t.segments[e];r.push(new wi(u.path,sC(n[0]))),i++;continue}let o=ka(s)?s.outlets[ne]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Xl(a)?(r.push(new wi(o,sC(a))),i+=2):(r.push(new wi(o,{})),i++)}return new ye(r,{})}function EF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=mm(new ye([],{}),0,r))}),e}function sC(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function oC(t,e,n){return t==n.path&&hn(e,n.parameters)}var Pa="imperative",ze=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ze||{}),Ut=class{constructor(e,n){this.id=e,this.url=n}},Gs=class extends Ut{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ze.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},fn=class extends Ut{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ze.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Nt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Nt||{}),td=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(td||{}),$n=class extends Ut{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ze.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Pr=class extends Ut{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ze.NavigationSkipped}},La=class extends Ut{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ze.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},nd=class extends Ut{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ze.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ym=class extends Ut{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ze.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vm=class extends Ut{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=ze.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},_m=class extends Ut{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ze.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Im=class extends Ut{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ze.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wm=class{constructor(e){this.route=e,this.type=ze.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Em=class{constructor(e){this.route=e,this.type=ze.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Tm=class{constructor(e){this.snapshot=e,this.type=ze.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dm=class{constructor(e){this.snapshot=e,this.type=ze.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bm=class{constructor(e){this.snapshot=e,this.type=ze.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cm=class{constructor(e){this.snapshot=e,this.type=ze.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rd=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=ze.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Fa=class{},Ws=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function TF(t,e){return t.providers&&!t._injector&&(t._injector=kl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Yt(t){return t.outlet||ne}function DF(t,e){let n=t.filter(r=>Yt(r)===e);return n.push(...t.filter(r=>Yt(r)!==e)),n}function za(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Sm=class{get injector(){return za(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Ga(this.rootInjector),this.attachRef=null}},Ga=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Sm(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(H(yt))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),id=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Am(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Am(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Rm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Rm(e,this._root).map(n=>n.value)}};function Am(t,e){if(t===e.value)return e;for(let n of e.children){let r=Am(t,n);if(r)return r}return null}function Rm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Rm(t,n);if(r.length)return r.unshift(e),r}return[]}var Rt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function js(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var sd=class extends id{constructor(e,n){super(e),this.snapshot=n,Vm(this,e)}toString(){return this.snapshot.toString()}};function SC(t){let e=bF(t),n=new Qe([new wi("",{})]),r=new Qe({}),i=new Qe({}),s=new Qe({}),o=new Qe(""),a=new Or(n,r,s,o,i,ne,t,e.root);return a.snapshot=e.root,new sd(new Rt(a,[]),e)}function bF(t){let e={},n={},r={},i="",s=new $s([],e,r,i,n,ne,t,null,{});return new ad("",new Rt(s,[]))}var Or=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(J(l=>l[qa]))??Q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(J(e=>Hs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(J(e=>Hs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function od(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),t.params),data:U(U({},e.data),t.data),resolve:U(U(U(U({},t.data),e.data),i?.data),t._resolvedData)}:r={params:U({},t.params),data:U({},t.data),resolve:U(U({},t.data),t._resolvedData??{})},i&&RC(i)&&(r.resolve[qa]=i.title),r}var $s=class{get title(){return this.data?.[qa]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Hs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Hs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ad=class extends id{constructor(e,n){super(n),this.url=e,Vm(this,n)}toString(){return AC(this._root)}};function Vm(t,e){e.value._routerState=t,e.children.forEach(n=>Vm(t,n))}function AC(t){let e=t.children.length>0?` { ${t.children.map(AC).join(", ")} } `:"";return`${t.value}${e}`}function lm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,hn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),hn(e.params,n.params)||t.paramsSubject.next(n.params),ZL(e.url,n.url)||t.urlSubject.next(n.url),hn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Nm(t,e){let n=hn(t.params,e.params)&&nF(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Nm(t.parent,e.parent))}function RC(t){return typeof t.title=="string"||t.title===null}var CF=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ne,this.activateEvents=new it,this.deactivateEvents=new it,this.attachEvents=new it,this.detachEvents=new it,this.parentContexts=x(Ga),this.location=x(Ar),this.changeDetector=x(Ia),this.inputBinder=x(dd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new G(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new G(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new G(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new G(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Mm(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=yi({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[pa]})}}return t})(),Mm=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Or?this.route:e===Ga?this.childContexts:this.parent.get(e,n)}},dd=new q(""),aC=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=ra([r.queryParams,r.params,r.data]).pipe(wt(([s,o,a],u)=>(a=U(U(U({},s),o),a),u===0?Q(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let o=Cb(r.component);if(!o){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();function SF(t,e,n){let r=Va(t,e._root,n?n._root:void 0);return new sd(r,e)}function Va(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=AF(t,e,n);return new Rt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Va(t,a)),o}}let r=RF(e.value),i=e.children.map(s=>Va(t,s));return new Rt(r,i)}}function AF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Va(t,r,i);return Va(t,r)})}function RF(t){return new Or(new Qe(t.url),new Qe(t.params),new Qe(t.queryParams),new Qe(t.fragment),new Qe(t.data),t.outlet,t.component,t)}var Ua=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},NC="ngNavigationCancelingError";function cd(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ti(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=MC(!1,Nt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function MC(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[NC]=!0,n.cancellationCode=e,n}function NF(t){return xC(t)&&Ti(t.url)}function xC(t){return!!t&&t[NC]}var MF=(t,e,n,r)=>J(i=>(new xm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),xm=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),lm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=js(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=js(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=js(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=js(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Cm(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Dm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(lm(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),lm(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},ud=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},qs=class{constructor(e,n){this.component=e,this.route=n}};function xF(t,e,n){let r=t._root,i=e?e._root:null;return Na(r,i,n,[r.value])}function PF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Qs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!oT(t)?t:e.get(t):r}function Na(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=js(e);return t.children.forEach(o=>{OF(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Oa(a,n.getContext(o),i)),i}function OF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=kF(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ud(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Na(t,e,a?a.children:null,r,i):Na(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new qs(a.outlet.component,o))}else o&&Oa(e,a,i),i.canActivateChecks.push(new ud(r)),s.component?Na(t,null,a?a.children:null,r,i):Na(t,null,n,r,i);return i}function kF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ei(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ei(t.url,e.url)||!hn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Nm(t,e)||!hn(t.queryParams,e.queryParams);case"paramsChange":default:return!Nm(t,e)}}function Oa(t,e,n){let r=js(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Oa(o,e.children.getContext(s),n):Oa(o,null,n):Oa(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new qs(e.outlet.component,i)):n.canDeactivateChecks.push(new qs(null,i)):n.canDeactivateChecks.push(new qs(null,i))}function Wa(t){return typeof t=="function"}function LF(t){return typeof t=="boolean"}function FF(t){return t&&Wa(t.canLoad)}function VF(t){return t&&Wa(t.canActivate)}function UF(t){return t&&Wa(t.canActivateChild)}function jF(t){return t&&Wa(t.canDeactivate)}function BF(t){return t&&Wa(t.canMatch)}function PC(t){return t instanceof Rn||t?.name==="EmptyError"}var Ql=Symbol("INITIAL_VALUE");function Ks(){return wt(t=>ra(t.map(e=>e.pipe(Mn(1),Vu(Ql)))).pipe(J(e=>{for(let n of e)if(n!==!0){if(n===Ql)return Ql;if(n===!1||$F(n))return n}return!0}),pt(e=>e!==Ql),Mn(1)))}function $F(t){return Ti(t)||t instanceof Ua}function qF(t,e){return Fe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?Q(Ee(U({},n),{guardsResult:!0})):HF(o,r,i,t).pipe(Fe(a=>a&&LF(a)?zF(r,s,t,e):Q(a)),J(a=>Ee(U({},n),{guardsResult:a})))})}function HF(t,e,n,r){return Se(t).pipe(Fe(i=>YF(i.component,i.route,n,e,r)),sn(i=>i!==!0,!0))}function zF(t,e,n,r){return Se(e).pipe(Nn(i=>ds(WF(i.route.parent,r),GF(i.route,r),QF(t,i.path,n),KF(t,i.route,n))),sn(i=>i!==!0,!0))}function GF(t,e){return t!==null&&e&&e(new bm(t)),Q(!0)}function WF(t,e){return t!==null&&e&&e(new Tm(t)),Q(!0)}function KF(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Q(!0);let i=r.map(s=>ku(()=>{let o=za(e)??n,a=Qs(s,o),u=VF(a)?a.canActivate(e,t):Lt(o,()=>a(e,t));return kr(u).pipe(sn())}));return Q(i).pipe(Ks())}function QF(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>PF(o)).filter(o=>o!==null).map(o=>ku(()=>{let a=o.guards.map(u=>{let l=za(o.node)??n,h=Qs(u,l),p=UF(h)?h.canActivateChild(r,t):Lt(l,()=>h(r,t));return kr(p).pipe(sn())});return Q(a).pipe(Ks())}));return Q(s).pipe(Ks())}function YF(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Q(!0);let o=s.map(a=>{let u=za(e)??i,l=Qs(a,u),h=jF(l)?l.canDeactivate(t,e,n,r):Lt(u,()=>l(t,e,n,r));return kr(h).pipe(sn())});return Q(o).pipe(Ks())}function JF(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Q(!0);let s=i.map(o=>{let a=Qs(o,t),u=FF(a)?a.canLoad(e,n):Lt(t,()=>a(e,n));return kr(u)});return Q(s).pipe(Ks(),OC(r))}function OC(t){return mu(Ve(e=>{if(typeof e!="boolean")throw cd(t,e)}),J(e=>e===!0))}function ZF(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Q(!0);let s=i.map(o=>{let a=Qs(o,t),u=BF(a)?a.canMatch(e,n):Lt(t,()=>a(e,n));return kr(u)});return Q(s).pipe(Ks(),OC(r))}var ja=class{constructor(e){this.segmentGroup=e||null}},Ba=class extends Error{constructor(e){super(),this.urlTree=e}};function Us(t){return us(new ja(t))}function XF(t){return us(new G(4e3,!1))}function eV(t){return us(MC(!1,Nt.GuardRejected))}var Pm=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Q(r);if(i.numberOfChildren>1||!i.children[ne])return XF(`${e.redirectTo}`);i=i.children[ne]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:D,title:R}=i,S=Lt(s,()=>a({params:y,data:D,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:R}));if(S instanceof qn)throw new Ba(S);n=S}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ba(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new qn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new ye(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new G(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Om={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tV(t,e,n,r,i){let s=kC(t,e,n);return s.matched?(r=TF(e,r),ZF(r,e,n,i).pipe(J(o=>o===!0?s:U({},Om)))):Q(s)}function kC(t,e,n){if(e.path==="**")return nV(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?U({},Om):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||JL)(n,t,e);if(!i)return U({},Om);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?U(U({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function nV(t){return{matched:!0,parameters:t.length>0?pC(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function cC(t,e,n,r){return n.length>0&&sV(t,n,r)?{segmentGroup:new ye(e,iV(r,new ye(n,t.children))),slicedSegments:[]}:n.length===0&&oV(t,n,r)?{segmentGroup:new ye(t.segments,rV(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new ye(t.segments,t.children),slicedSegments:n}}function rV(t,e,n,r){let i={};for(let s of n)if(hd(t,e,s)&&!r[Yt(s)]){let o=new ye([],{});i[Yt(s)]=o}return U(U({},r),i)}function iV(t,e){let n={};n[ne]=e;for(let r of t)if(r.path===""&&Yt(r)!==ne){let i=new ye([],{});n[Yt(r)]=i}return n}function sV(t,e,n){return n.some(r=>hd(t,e,r)&&Yt(r)!==ne)}function oV(t,e,n){return n.some(r=>hd(t,e,r))}function hd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function aV(t,e,n){return e.length===0&&!t.children[n]}var km=class{};function cV(t,e,n,r,i,s,o="emptyOnly"){return new Lm(t,e,n,r,i,o,s).recognize()}var uV=31,Lm=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Pm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new G(4002,`'${e.segmentGroup}'`)}recognize(){let e=cC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(J(({children:n,rootSnapshot:r})=>{let i=new Rt(r,n),s=new ad("",i),o=mF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new $s([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ne,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ne,n).pipe(J(r=>({children:r,rootSnapshot:n})),mr(r=>{if(r instanceof Ba)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ja?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(J(o=>o instanceof Rt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Se(s).pipe(Nn(o=>{let a=r.children[o],u=DF(n,o);return this.processSegmentGroup(e,u,a,o,i)}),Fu((o,a)=>(o.push(...a),o)),yr(null),Uf(),Fe(o=>{if(o===null)return Us(r);let a=LC(o);return lV(a),Q(a)}))}processSegment(e,n,r,i,s,o,a){return Se(n).pipe(Nn(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(mr(l=>{if(l instanceof ja)return Q(null);throw l}))),sn(u=>!!u),mr(u=>{if(PC(u))return aV(r,i,s)?Q(new km):Us(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return Yt(r)!==o&&(o===ne||!hd(i,s,r))?Us(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):Us(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=kC(n,i,s);if(!u)return Us(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>uV&&(this.allowRedirects=!1));let y=new $s(s,l,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,uC(i),Yt(i),i.component??i._loadedComponent??null,i,lC(i)),D=od(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(D.params),y.data=Object.freeze(D.data);let R=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,R).pipe(Fe(S=>this.processSegment(e,r,n,S.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=tV(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(wt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(wt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,D=new $s(m,p,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,uC(r),Yt(r),r.component??r._loadedComponent??null,r,lC(r)),R=od(D,o,this.paramsInheritanceStrategy);D.params=Object.freeze(R.params),D.data=Object.freeze(R.data);let{segmentGroup:S,slicedSegments:P}=cC(n,m,y,l);if(P.length===0&&S.hasChildren())return this.processChildren(h,l,S,D).pipe(J(k=>new Rt(D,k)));if(l.length===0&&P.length===0)return Q(new Rt(D,[]));let V=Yt(r)===s;return this.processSegment(h,l,S,P,V?ne:s,!0,D).pipe(J(k=>new Rt(D,k instanceof Rt?[k]:[])))}))):Us(n)))}getChildConfig(e,n,r){return n.children?Q({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Q({routes:n._loadedRoutes,injector:n._loadedInjector}):JF(e,n,r,this.urlSerializer).pipe(Fe(i=>i?this.configLoader.loadChildren(e,n).pipe(Ve(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):eV(n))):Q({routes:[],injector:e})}};function lV(t){t.sort((e,n)=>e.value.outlet===ne?-1:n.value.outlet===ne?1:e.value.outlet.localeCompare(n.value.outlet))}function dV(t){let e=t.value.routeConfig;return e&&e.path===""}function LC(t){let e=[],n=new Set;for(let r of t){if(!dV(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=LC(r.children);e.push(new Rt(r.value,i))}return e.filter(r=>!n.has(r))}function uC(t){return t.data||{}}function lC(t){return t.resolve||{}}function hV(t,e,n,r,i,s){return Fe(o=>cV(t,e,n,r,o.extractedUrl,i,s).pipe(J(({state:a,tree:u})=>Ee(U({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function fV(t,e){return Fe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Q(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of FC(u))o.add(l);let a=0;return Se(o).pipe(Nn(u=>s.has(u)?pV(u,r,t,e):(u.data=od(u,u.parent,t).resolve,Q(void 0))),Ve(()=>a++),hs(1),Fe(u=>a===o.size?Q(n):St))})}function FC(t){let e=t.children.map(n=>FC(n)).flat();return[t,...e]}function pV(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!RC(i)&&(s[qa]=i.title),gV(s,t,e,r).pipe(J(o=>(t._resolvedData=o,t.data=od(t,t.parent,n).resolve,null)))}function gV(t,e,n,r){let i=fm(t);if(i.length===0)return Q({});let s={};return Se(i).pipe(Fe(o=>mV(t[o],e,n,r).pipe(sn(),Ve(a=>{if(a instanceof Ua)throw cd(new zs,a);s[o]=a}))),hs(1),Vf(s),mr(o=>PC(o)?St:us(o)))}function mV(t,e,n,r){let i=za(e)??r,s=Qs(t,i),o=s.resolve?s.resolve(e,n):Lt(i,()=>s(e,n));return kr(o)}function dm(t){return wt(e=>{let n=t(e);return n?Se(n).pipe(J(()=>e)):Q(e)})}var VC=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ne);return r}getResolvedTitleForRoute(n){return n.data[qa]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>x(yV),providedIn:"root"})}}return t})(),yV=(()=>{class t extends VC{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(H(nC))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ka=new q("",{providedIn:"root",factory:()=>({})}),vV=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=_T({type:t,selectors:[["ng-component"]],standalone:!0,features:[vb],decls:1,vars:0,template:function(r,i){r&1&&Fg(0,"router-outlet")},dependencies:[CF],encapsulation:2})}}return t})();function Um(t){let e=t.children&&t.children.map(Um),n=e?Ee(U({},t),{children:e}):U({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ne&&(n.component=vV),n}var $a=new q(""),jm=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=x(Vl)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Q(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=kr(n.loadComponent()).pipe(J(UC),Ve(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),si(()=>{this.componentLoaders.delete(n)})),i=new ss(r,()=>new rt).pipe(is());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=_V(r,this.compiler,n,this.onLoadEndListener).pipe(si(()=>{this.childrenLoaders.delete(r)})),o=new ss(s,()=>new rt).pipe(is());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function _V(t,e,n,r){return kr(t.loadChildren()).pipe(J(UC),Fe(i=>i instanceof la||Array.isArray(i)?Q(i):Se(e.compileModuleAsync(i))),J(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get($a,[],{optional:!0,self:!0}).flat()),{routes:o.map(Um),injector:s}}))}function IV(t){return t&&typeof t=="object"&&"default"in t}function UC(t){return IV(t)?t.default:t}var Bm=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>x(wV),providedIn:"root"})}}return t})(),wV=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),jC=new q(""),BC=new q("");function EV(t,e,n){let r=t.get(BC),i=t.get(ot);return t.get(he).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),TV(t))),{onViewTransitionCreated:u}=r;return u&&Lt(t,()=>u({transition:a,from:e,to:n})),o})}function TV(t){return new Promise(e=>{kg({read:()=>setTimeout(e)},{injector:t})})}var DV=new q(""),$m=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new rt,this.transitionAbortSubject=new rt,this.configLoader=x(jm),this.environmentInjector=x(yt),this.urlSerializer=x(Ha),this.rootContexts=x(Ga),this.location=x(Vs),this.inputBindingEnabled=x(dd,{optional:!0})!==null,this.titleStrategy=x(VC),this.options=x(Ka,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=x(Bm),this.createViewTransition=x(jC,{optional:!0}),this.navigationErrorHandler=x(DV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Q(void 0),this.rootComponentType=null;let n=i=>this.events.next(new wm(i)),r=i=>this.events.next(new Em(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Ee(U(U({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Qe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Pa,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(pt(s=>s.id!==0),J(s=>Ee(U({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),wt(s=>{let o=!1,a=!1;return Q(s).pipe(wt(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Nt.SupersededByNewNavigation),St;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Ee(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new Pr(u.id,this.urlSerializer.serialize(u.rawUrl),p,td.IgnoredSameUrlNavigation)),u.resolve(!1),St}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Q(u).pipe(wt(p=>{let m=this.transitions?.getValue();return this.events.next(new Gs(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?St:Promise.resolve(p)}),hV(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ve(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=Ee(U({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new nd(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:m,source:y,restoredState:D,extras:R}=u,S=new Gs(p,this.urlSerializer.serialize(m),y,D);this.events.next(S);let P=SC(this.rootComponentType).snapshot;return this.currentTransition=s=Ee(U({},u),{targetSnapshot:P,urlAfterRedirects:m,extras:Ee(U({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,Q(s)}else{let p="";return this.events.next(new Pr(u.id,this.urlSerializer.serialize(u.extractedUrl),p,td.IgnoredByUrlHandlingStrategy)),u.resolve(!1),St}}),Ve(u=>{let l=new ym(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),J(u=>(this.currentTransition=s=Ee(U({},u),{guards:xF(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),qF(this.environmentInjector,u=>this.events.next(u)),Ve(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw cd(this.urlSerializer,u.guardsResult);let l=new vm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),pt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Nt.GuardRejected),!1)),dm(u=>{if(u.guards.canActivateChecks.length)return Q(u).pipe(Ve(l=>{let h=new _m(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),wt(l=>{let h=!1;return Q(l).pipe(fV(this.paramsInheritanceStrategy,this.environmentInjector),Ve({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",Nt.NoDataFromResolver)}}))}),Ve(l=>{let h=new Im(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),dm(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ve(m=>{h.component=m}),J(()=>{})));for(let m of h.children)p.push(...l(m));return p};return ra(l(u.targetSnapshot.root)).pipe(yr(null),Mn(1))}),dm(()=>this.afterPreactivation()),wt(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?Se(h).pipe(J(()=>s)):Q(s)}),J(u=>{let l=SF(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=Ee(U({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Ve(()=>{this.events.next(new Fa)}),MF(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Mn(1),Ve({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new fn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),jf(this.transitionAbortSubject.pipe(Ve(u=>{throw u}))),si(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",Nt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),mr(u=>{if(a=!0,xC(u))this.events.next(new $n(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),NF(u)?this.events.next(new Ws(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let l=new La(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let h=Lt(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof Ua){let{message:p,cancellationCode:m}=cd(this.urlSerializer,h);this.events.next(new $n(s.id,this.urlSerializer.serialize(s.extractedUrl),p,m)),this.events.next(new Ws(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=n.errorHandler(u);s.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return St}))}))}cancelNavigationTransition(n,r,i){let s=new $n(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function bV(t){return t!==Pa}var CV=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>x(SV),providedIn:"root"})}}return t})(),Fm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},SV=(()=>{class t extends Fm{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=pg(t)))(i||t)}})()}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),$C=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:()=>x(AV),providedIn:"root"})}}return t})(),AV=(()=>{class t extends $C{constructor(){super(...arguments),this.location=x(Vs),this.urlSerializer=x(Ha),this.options=x(Ka,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=x(Bm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new qn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=SC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Gs)this.stateMemento=this.createStateMemento();else if(n instanceof Pr)this.rawUrlTree=r.initialUrl;else if(n instanceof nd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Fa?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof $n&&(n.code===Nt.GuardRejected||n.code===Nt.NoDataFromResolver)?this.restoreHistory(r):n instanceof La?this.restoreHistory(r,!0):n instanceof fn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof qn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=U(U({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=U(U({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=pg(t)))(i||t)}})()}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Ma=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ma||{});function qC(t,e){t.events.pipe(pt(n=>n instanceof fn||n instanceof $n||n instanceof La||n instanceof Pr),J(n=>n instanceof fn||n instanceof Pr?Ma.COMPLETE:(n instanceof $n?n.code===Nt.Redirect||n.code===Nt.SupersededByNewNavigation:!1)?Ma.REDIRECTING:Ma.FAILED),pt(n=>n!==Ma.REDIRECTING),Mn(1)).subscribe(()=>{e()})}function RV(t){throw t}var NV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},MV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Hn=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=x(Ll),this.stateManager=x($C),this.options=x(Ka,{optional:!0})||{},this.pendingTasks=x(Sr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=x($m),this.urlSerializer=x(Ha),this.location=x(Vs),this.urlHandlingStrategy=x(Bm),this._events=new rt,this.errorHandler=this.options.errorHandler||RV,this.navigated=!1,this.routeReuseStrategy=x(CV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=x($a,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!x(dd,{optional:!0}),this.eventsSubscription=new Pe,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof $n&&r.code!==Nt.Redirect&&r.code!==Nt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof fn)this.navigated=!0;else if(r instanceof Ws){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=U({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||bV(i.source)},o);this.scheduleNavigation(a,Pa,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}PV(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Pa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=U({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Um),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=U(U({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=TC(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return DC(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Ti(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Pa,null,r)}navigate(n,r={skipLocationChange:!1}){return xV(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=U({},NV):r===!1?i=U({},MV):i=r,Ti(n))return rC(this.currentUrlTree,n,i);let s=this.parseUrl(n);return rC(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return qC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function xV(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new G(4008,!1)}function PV(t){return!(t instanceof Fa)&&!(t instanceof Ws)}var b5=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.onChanges=new rt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof fn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ti(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:TD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return this.routerLinkInput===null?null:Ti(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(Ye(Hn),Ye(Or),gg("tabindex"),Ye(ya),Ye(Vn),Ye(jn))}}static{this.\u0275dir=yi({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Vg("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&Lg("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",wa],skipLocationChange:[2,"skipLocationChange","skipLocationChange",wa],replaceUrl:[2,"replaceUrl","replaceUrl",wa],routerLink:"routerLink"},standalone:!0,features:[Og,pa]})}}return t})();var ld=class{};var OV=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(pt(n=>n instanceof fn),Nn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=kl(s.providers,n,`Route: ${s.path}`));let o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Se(i).pipe(ls())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=Q(null);let s=i.pipe(Fe(o=>o===null?Q(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Se([s,o]).pipe(ls())}else return s})}static{this.\u0275fac=function(r){return new(r||t)(H(Hn),H(Vl),H(yt),H(ld),H(jm))}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),HC=new q(""),kV=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Gs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof fn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Pr&&n.code===td.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof rd&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new rd(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){LD()}}static{this.\u0275prov=$({token:t,factory:t.\u0275fac})}}return t})();function C5(t,...e){return Et([{provide:$a,multi:!0,useValue:t},[],{provide:Or,useFactory:zC,deps:[Hn]},{provide:_a,multi:!0,useFactory:GC},e.map(n=>n.\u0275providers)])}function zC(t){return t.routerState.root}function Qa(t,e){return{\u0275kind:t,\u0275providers:e}}function GC(){let t=x(He);return e=>{let n=t.get(Rr);if(e!==n.components[0])return;let r=t.get(Hn),i=t.get(WC);t.get(qm)===1&&r.initialNavigation(),t.get(KC,null,se.Optional)?.setUpPreloading(),t.get(HC,null,se.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var WC=new q("",{factory:()=>new rt}),qm=new q("",{providedIn:"root",factory:()=>1});function LV(){return Qa(2,[{provide:qm,useValue:0},{provide:Fl,multi:!0,deps:[He],useFactory:e=>{let n=e.get(Ob,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Hn),s=e.get(WC);qC(i,()=>{r(!0)}),e.get($m).afterPreactivation=()=>(r(!0),s.closed?Q(void 0):s),i.initialNavigation()}))}}])}function FV(){return Qa(3,[{provide:Fl,multi:!0,useFactory:()=>{let e=x(Hn);return()=>{e.setUpLocationChangeListener()}}},{provide:qm,useValue:2}])}var KC=new q("");function VV(t){return Qa(0,[{provide:KC,useExisting:OV},{provide:ld,useExisting:t}])}function UV(){return Qa(8,[aC,{provide:dd,useExisting:aC}])}function jV(t){let e=[{provide:jC,useValue:EV},{provide:BC,useValue:U({skipNextTransition:!!t?.skipInitialTransition},t)}];return Qa(9,e)}var dC=new q("ROUTER_FORROOT_GUARD"),BV=[Vs,{provide:Ha,useClass:zs},Hn,Ga,{provide:Or,useFactory:zC,deps:[Hn]},jm,[]],S5=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[BV,[],{provide:$a,multi:!0,useValue:n},{provide:dC,useFactory:zV,deps:[[Hn,new ke,new Xp]]},{provide:Ka,useValue:r||{}},r?.useHash?qV():HV(),$V(),r?.preloadingStrategy?VV(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?GV(r):[],r?.bindToComponentInputs?UV().\u0275providers:[],r?.enableViewTransitions?jV().\u0275providers:[],WV()]}}static forChild(n){return{ngModule:t,providers:[{provide:$a,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(H(dC,8))}}static{this.\u0275mod=Ms({type:t})}static{this.\u0275inj=Ns({})}}return t})();function $V(){return{provide:HC,useFactory:()=>{let t=x(Fb),e=x(he),n=x(Ka),r=x($m),i=x(Ha);return n.scrollOffset&&t.setOffset(n.scrollOffset),new kV(i,r,t,e,n)}}}function qV(){return{provide:jn,useClass:Lb}}function HV(){return{provide:jn,useClass:Kg}}function zV(t){return"guarded"}function GV(t){return[t.initialNavigation==="disabled"?FV().\u0275providers:[],t.initialNavigation==="enabledBlocking"?LV().\u0275providers:[]]}var hC=new q("");function WV(){return[{provide:hC,useFactory:GC},{provide:_a,multi:!0,useExisting:hC}]}var oj={};QN(oj,{FirebaseError:()=>at,SDK_VERSION:()=>Zt,_DEFAULT_ENTRY_NAME:()=>Xa,_addComponent:()=>uy,_addOrOverwriteComponent:()=>YU,_apps:()=>Fr,_clearComponents:()=>JU,_components:()=>Xs,_getProvider:()=>Wn,_isFirebaseApp:()=>ES,_isFirebaseServerApp:()=>Bt,_registerComponent:()=>Jt,_removeServiceInstance:()=>wS,_serverApps:()=>Zs,deleteApp:()=>fy,getApp:()=>Kn,getApps:()=>tc,initializeApp:()=>Id,initializeServerApp:()=>TS,onLog:()=>DS,registerVersion:()=>Te,setLogLevel:()=>bS});var YC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},KV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},JC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,o||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new zm;let m=s<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let D=l<<6&192|p;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},zm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},QV=function(t){let e=YC(t);return JC.encodeByteArray(e,!0)},Ya=function(t){return QV(t).replace(/\./g,"")},Wm=function(t){try{return JC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function YV(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!JV(n)||(t[n]=YV(t[n],e[n]));return t}function JV(t){return t!=="__proto__"}function ZV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var XV=()=>ZV().__FIREBASE_DEFAULTS__,eU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},tU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Wm(t[1]);return e&&JSON.parse(e)},pd=()=>{try{return XV()||eU()||tU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Km=t=>{var e,n;return(n=(e=pd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},gd=t=>{let e=Km(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Qm=()=>{var t;return(t=pd())===null||t===void 0?void 0:t.config},Ym=t=>{var e;return(e=pd())===null||e===void 0?void 0:e[`_${t}`]};var fd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function md(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ya(JSON.stringify(n)),Ya(JSON.stringify(o)),""].join(".")}function Ge(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function nU(){var t;let e=(t=pd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XC(){return typeof window<"u"||Jm()}function Jm(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function eS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tS(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rS(){let t=Ge();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function iS(){return!nU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zm(){try{return typeof indexedDB=="object"}catch{return!1}}function sS(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var rU="FirebaseError",at=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rU,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zn.prototype.create)}},zn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?iU(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new at(i,a,r)}};function iU(t,e){return t.replace(sU,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var sU=/\{\$([^}]+)}/g;function N5(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function oS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Di(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(QC(s)&&QC(o)){if(!Di(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function QC(t){return t!==null&&typeof t=="object"}function Ja(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ys(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Js(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function aS(t,e){let n=new Gm(t,e);return n.subscribe.bind(n)}var Gm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");oU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Hm),i.error===void 0&&(i.error=Hm),i.complete===void 0&&(i.complete=Hm);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function oU(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hm(){}var M5=4*60*60*1e3;function be(t){return t&&t._delegate?t._delegate:t}var Tt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var bi="[DEFAULT]";var Xm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new fd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cU(e))try{this.getOrInitializeService({instanceIdentifier:bi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=bi){return this.instances.has(e)}getOptions(e=bi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=bi){return this.component?this.component.multipleInstances?e:bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function aU(t){return t===bi?void 0:t}function cU(t){return t.instantiationMode==="EAGER"}var Za=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Xm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var ey=[],ce=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ce||{}),cS={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},uU=ce.INFO,lU={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},dU=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=lU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Lr=class{constructor(e){this.name=e,this._logLevel=uU,this._logHandler=dU,this._userLogHandler=null,ey.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};function uS(t){ey.forEach(e=>{e.setLogLevel(t)})}function lS(t,e){for(let n of ey){let r=null;e&&e.level&&(r=cS[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{let a=o.map(u=>{if(u==null)return null;if(typeof u=="string")return u;if(typeof u=="number"||typeof u=="boolean")return u.toString();if(u instanceof Error)return u.message;try{return JSON.stringify(u)}catch{return null}}).filter(u=>u).join(" ");s>=(r??i.logLevel)&&t({level:ce[s].toLowerCase(),message:a,args:o,type:i.name})}}}var hU=(t,e)=>e.some(n=>t instanceof n),dS,hS;function fU(){return dS||(dS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pU(){return hS||(hS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var fS=new WeakMap,ny=new WeakMap,pS=new WeakMap,ty=new WeakMap,iy=new WeakMap;function gU(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(pn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&fS.set(n,t)}).catch(()=>{}),iy.set(e,t),e}function mU(t){if(ny.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});ny.set(t,e)}var ry={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ny.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gS(t){ry=t(ry)}function yU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(yd(this),e,...n);return pS.set(r,e.sort?e.sort():[e]),pn(r)}:pU().includes(t)?function(...e){return t.apply(yd(this),e),pn(fS.get(this))}:function(...e){return pn(t.apply(yd(this),e))}}function vU(t){return typeof t=="function"?yU(t):(t instanceof IDBTransaction&&mU(t),hU(t,fU())?new Proxy(t,ry):t)}function pn(t){if(t instanceof IDBRequest)return gU(t);if(ty.has(t))return ty.get(t);let e=vU(t);return e!==t&&(ty.set(t,e),iy.set(e,t)),e}var yd=t=>iy.get(t);function yS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=pn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(pn(o.result),u.oldVersion,u.newVersion,pn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var _U=["get","getKey","getAll","getAllKeys","count"],IU=["put","add","delete","clear"],sy=new Map;function mS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sy.get(e))return sy.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=IU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||_U.includes(n)))return;let s=function(o,...a){return _(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return sy.set(e,s),s}gS(t=>Ee(U({},t),{get:(e,n,r)=>mS(e,n)||t.get(e,n,r),has:(e,n)=>!!mS(e,n)||t.has(e,n)}));var ay=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wU(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function wU(t){let e=t.getComponent();return e?.type==="VERSION"}var vd="@firebase/app",cy="0.10.13";var Gn=new Lr("@firebase/app"),EU="@firebase/app-compat",TU="@firebase/analytics-compat",DU="@firebase/analytics",bU="@firebase/app-check-compat",CU="@firebase/app-check",SU="@firebase/auth",AU="@firebase/auth-compat",RU="@firebase/database",NU="@firebase/data-connect",MU="@firebase/database-compat",xU="@firebase/functions",PU="@firebase/functions-compat",OU="@firebase/installations",kU="@firebase/installations-compat",LU="@firebase/messaging",FU="@firebase/messaging-compat",VU="@firebase/performance",UU="@firebase/performance-compat",jU="@firebase/remote-config",BU="@firebase/remote-config-compat",$U="@firebase/storage",qU="@firebase/storage-compat",HU="@firebase/firestore",zU="@firebase/vertexai-preview",GU="@firebase/firestore-compat",WU="firebase",KU="10.14.1";var Xa="[DEFAULT]",QU={[vd]:"fire-core",[EU]:"fire-core-compat",[DU]:"fire-analytics",[TU]:"fire-analytics-compat",[CU]:"fire-app-check",[bU]:"fire-app-check-compat",[SU]:"fire-auth",[AU]:"fire-auth-compat",[RU]:"fire-rtdb",[NU]:"fire-data-connect",[MU]:"fire-rtdb-compat",[xU]:"fire-fn",[PU]:"fire-fn-compat",[OU]:"fire-iid",[kU]:"fire-iid-compat",[LU]:"fire-fcm",[FU]:"fire-fcm-compat",[VU]:"fire-perf",[UU]:"fire-perf-compat",[jU]:"fire-rc",[BU]:"fire-rc-compat",[$U]:"fire-gcs",[qU]:"fire-gcs-compat",[HU]:"fire-fst",[GU]:"fire-fst-compat",[zU]:"fire-vertex","fire-js":"fire-js",[WU]:"fire-js-all"};var Fr=new Map,Zs=new Map,Xs=new Map;function uy(t,e){try{t.container.addComponent(e)}catch(n){Gn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function YU(t,e){t.container.addOrOverwriteComponent(e)}function Jt(t){let e=t.name;if(Xs.has(e))return Gn.debug(`There were multiple attempts to register component ${e}.`),!1;Xs.set(e,t);for(let n of Fr.values())uy(n,t);for(let n of Zs.values())uy(n,t);return!0}function Wn(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function wS(t,e,n=Xa){Wn(t,e).clearInstance(n)}function ES(t){return t.options!==void 0}function Bt(t){return t.settings!==void 0}function JU(){Xs.clear()}var ZU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jt=new zn("app","Firebase",ZU);var _d=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Tt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jt.create("app-deleted",{appName:this._name})}};var ly=class extends _d{constructor(e,n,r,i){let s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,o={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{let a=e;super(a.options,o,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},n),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Te(vd,cy,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){fy(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw jt.create("server-app-deleted")}};var Zt=KU;function Id(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Xa,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw jt.create("bad-app-name",{appName:String(i)});if(n||(n=Qm()),!n)throw jt.create("no-options");let s=Fr.get(i);if(s){if(Di(n,s.options)&&Di(r,s.config))return s;throw jt.create("duplicate-app",{appName:i})}let o=new Za(i);for(let u of Xs.values())o.addComponent(u);let a=new _d(n,r,o);return Fr.set(i,a),a}function TS(t,e){if(XC()&&!Jm())throw jt.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;ES(t)?n=t.options:n=t;let r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;let i=l=>[...l].reduce((h,p)=>Math.imul(31,h)+p.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw jt.create("finalization-registry-not-supported",{});let s=""+i(JSON.stringify(r)),o=Zs.get(s);if(o)return o.incRefCount(e.releaseOnDeref),o;let a=new Za(s);for(let l of Xs.values())a.addComponent(l);let u=new ly(n,e,s,a);return Zs.set(s,u),u}function Kn(t=Xa){let e=Fr.get(t);if(!e&&t===Xa&&Qm())return Id();if(!e)throw jt.create("no-app",{appName:t});return e}function tc(){return Array.from(Fr.values())}function fy(t){return _(this,null,function*(){let e=!1,n=t.name;Fr.has(n)?(e=!0,Fr.delete(n)):Zs.has(n)&&t.decRefCount()<=0&&(Zs.delete(n),e=!0),e&&(yield Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)})}function Te(t,e,n){var r;let i=(r=QU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gn.warn(a.join(" "));return}Jt(new Tt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function DS(t,e){if(t!==null&&typeof t!="function")throw jt.create("invalid-log-argument");lS(t,e)}function bS(t){uS(t)}var XU="firebase-heartbeat-database",ej=1,ec="firebase-heartbeat-store",oy=null;function CS(){return oy||(oy=yS(XU,ej,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ec)}catch(n){console.warn(n)}}}}).catch(t=>{throw jt.create("idb-open",{originalErrorMessage:t.message})})),oy}function tj(t){return _(this,null,function*(){try{let n=(yield CS()).transaction(ec),r=yield n.objectStore(ec).get(SS(t));return yield n.done,r}catch(e){if(e instanceof at)Gn.warn(e.message);else{let n=jt.create("idb-get",{originalErrorMessage:e?.message});Gn.warn(n.message)}}})}function vS(t,e){return _(this,null,function*(){try{let r=(yield CS()).transaction(ec,"readwrite");yield r.objectStore(ec).put(e,SS(t)),yield r.done}catch(n){if(n instanceof at)Gn.warn(n.message);else{let r=jt.create("idb-set",{originalErrorMessage:n?.message});Gn.warn(r.message)}}})}function SS(t){return`${t.name}!${t.options.appId}`}var nj=1024,rj=30*24*60*60*1e3,dy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new hy(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_S();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=rj}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Gn.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=_S(),{heartbeatsToSend:r,unsentEntries:i}=ij(this._heartbeatsCache.heartbeats),s=Ya(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Gn.warn(n),""}})}};function _S(){return new Date().toISOString().substring(0,10)}function ij(t,e=nj){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),IS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),IS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var hy=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return Zm()?sS().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield tj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return vS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return vS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function IS(t){return Ya(JSON.stringify({version:2,heartbeats:t})).length}function sj(t){Jt(new Tt("platform-logger",e=>new ay(e),"PRIVATE")),Jt(new Tt("heartbeat",e=>new dy(e),"PRIVATE")),Te(vd,cy,t),Te(vd,cy,"esm2017"),Te("fire-js","")}sj("");var aj="firebase",cj="10.14.1";Te(aj,cj,"app");var Qn=new br("ANGULARFIRE2_VERSION");function to(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Si=(t,e)=>{let n=e?[e]:tc(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Vr=class{constructor(){return Si(uj)}},uj="app-check";function eo(){}var wd=class{zone;delegate;constructor(e,n=kf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},py=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",eo,{},eo,eo)),n.pipe(Ve({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ur=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new wd(Zone.current)),this.insideAngular=n.run(()=>new wd(Zone.current,Of)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(H(he))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ed(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function lj(t){return Ed().ngZone.runOutsideAngular(()=>t())}function Ci(t){return Ed().ngZone.run(()=>t())}function dj(t){return hj(Ed())(t)}function hj(t){return function(n){return n=n.lift(new py(t.ngZone)),n.pipe(gr(t.outsideAngular),pr(t.insideAngular))}}var fj=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ci(()=>t.apply(void 0,r))},Ce=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Ci(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",eo,{},eo,eo))),r[s]=fj(r[s],n));let i=lj(()=>t.apply(this,r));if(!e)if(i instanceof ie){let s=Ed();return i.pipe(gr(s.outsideAngular),pr(s.insideAngular))}else return Ci(()=>i);return i instanceof ie?i.pipe(dj):i instanceof Promise?Ci(()=>new Promise((s,o)=>i.then(a=>Ci(()=>s(a)),a=>Ci(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Ci(()=>i)};var Xt=class{constructor(e){return e}},Yn=class{constructor(){return tc()}};function pj(t){return t&&t.length===1?t[0]:new Xt(Kn())}var gy=new q("angularfire2._apps"),gj={provide:Xt,useFactory:pj,deps:[[new ke,gy]]},mj={provide:Yn,deps:[[new ke,gy]]};function yj(t){return(e,n)=>{let r=n.get(Vt);Te("angularfire",Qn.full,"core"),Te("angularfire",Qn.full,"app"),Te("angular",_b.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Xt(i)}}function cK(t,...e){return Et([gj,mj,{provide:gy,useFactory:yj(t),multi:!0,deps:[he,He,Ur,...e]}])}var uK=Ce(Id,!0);function HS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var zS=HS,GS=new zn("auth","Firebase",HS());var Ad=new Lr("@firebase/auth");function vj(t,...e){Ad.logLevel<=ce.WARN&&Ad.warn(`Auth (${Zt}): ${t}`,...e)}function Dd(t,...e){Ad.logLevel<=ce.ERROR&&Ad.error(`Auth (${Zt}): ${t}`,...e)}function mn(t,...e){throw Vy(t,...e)}function Ai(t,...e){return Vy(t,...e)}function WS(t,e,n){let r=Object.assign(Object.assign({},zS()),{[e]:n});return new zn("auth","Firebase",r).create(e,{appName:t.name})}function Xn(t){return WS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return GS.create(t,...e)}function K(t,e,...n){if(!t)throw Vy(e,...n)}function Jn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Dd(e),new Error(e)}function Br(t,e){t||Jn(e)}function _y(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _j(){return AS()==="http:"||AS()==="https:"}function AS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Ij(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_j()||tS()||"connection"in navigator)?navigator.onLine:!0}function wj(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ri=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Br(n>e,"Short delay should be less than long delay!"),this.isMobile=ZC()||nS()}get(){return Ij()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Uy(t,e){Br(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Rd=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Ej={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Tj=new Ri(3e4,6e4);function er(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function tr(s,o,a,u){return _(this,arguments,function*(t,e,n,r,i={}){return KS(t,i,()=>_(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Ja(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return eS()||(y.referrerPolicy="no-referrer"),Rd.fetch()(QS(t,t.config.apiHost,n,p),y)}))})}function KS(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Ej),e);try{let i=new Iy(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Td(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Td(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Td(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Td(t,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw WS(t,h,l);mn(t,h)}}catch(i){if(i instanceof at)throw i;mn(t,"network-request-failed",{message:String(i)})}})}function uc(s,o,a,u){return _(this,arguments,function*(t,e,n,r,i={}){let l=yield tr(t,e,n,r,i);return"mfaPendingCredential"in l&&mn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function QS(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Uy(t.config,i):`${t.config.apiScheme}://${i}`}function Dj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Iy=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ai(this.auth,"network-request-failed")),Tj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Td(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ai(t,e,r);return i.customData._tokenResponse=n,i}function RS(t){return t!==void 0&&t.enterprise!==void 0}var wy=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Dj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function bj(t,e){return _(this,null,function*(){return tr(t,"GET","/v2/recaptchaConfig",er(t,e))})}function Cj(t,e){return _(this,null,function*(){return tr(t,"POST","/v1/accounts:delete",e)})}function YS(t,e){return _(this,null,function*(){return tr(t,"POST","/v1/accounts:lookup",e)})}function nc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function jy(t,e=!1){return _(this,null,function*(){let n=be(t),r=yield n.getIdToken(e),i=By(r);K(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:nc(my(i.auth_time)),issuedAtTime:nc(my(i.iat)),expirationTime:nc(my(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function my(t){return Number(t)*1e3}function By(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dd("JWT malformed, contained fewer than 3 sections"),null;try{let i=Wm(n);return i?JSON.parse(i):(Dd("Failed to decode base64 JWT payload"),null)}catch(i){return Dd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function NS(t){let e=By(t);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ic(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof at&&Sj(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function Sj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Ey=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var sc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nc(this.lastLoginAt),this.creationTime=nc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Nd(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield ic(t,YS(n,{idToken:r}));K(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?JS(s.providerUserInfo):[],a=Aj(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new sc(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function $y(t){return _(this,null,function*(){let e=be(t);yield Nd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Aj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function JS(t){return t.map(e=>{var{providerId:n}=e,r=Lf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Rj(t,e){return _(this,null,function*(){let n=yield KS(t,{},()=>_(this,null,function*(){let r=Ja({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=QS(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Rd.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Nj(t,e){return _(this,null,function*(){return tr(t,"POST","/v2/accounts:revokeToken",er(t,e))})}var rc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){K(e.length!==0,"internal-error");let n=NS(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield Rj(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(K(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(K(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(K(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Jn("not implemented")}};function jr(t,e){K(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var no=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Lf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ey(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new sc(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield ic(this,this.stsTokenManager.getToken(this.auth,e));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return jy(this,e)}reload(){return $y(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Nd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(Bt(this.auth.app))return Promise.reject(Xn(this.auth));let e=yield this.getIdToken();return yield ic(this,Cj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,D=(o=n.photoURL)!==null&&o!==void 0?o:void 0,R=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,P=(l=n.createdAt)!==null&&l!==void 0?l:void 0,V=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:k,emailVerified:B,isAnonymous:ae,providerData:z,stsTokenManager:E}=n;K(k&&E,e,"internal-error");let v=rc.fromJSON(this.name,E);K(typeof k=="string",e,"internal-error"),jr(p,e.name),jr(m,e.name),K(typeof B=="boolean",e,"internal-error"),K(typeof ae=="boolean",e,"internal-error"),jr(y,e.name),jr(D,e.name),jr(R,e.name),jr(S,e.name),jr(P,e.name),jr(V,e.name);let I=new t({uid:k,auth:e,email:m,emailVerified:B,displayName:p,isAnonymous:ae,photoURL:D,phoneNumber:y,tenantId:R,stsTokenManager:v,createdAt:P,lastLoginAt:V});return z&&Array.isArray(z)&&(I.providerData=z.map(T=>Object.assign({},T))),S&&(I._redirectEventId=S),I}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new rc;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Nd(s),s})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];K(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?JS(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new rc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new sc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var MS=new Map;function Zn(t){Br(t instanceof Function,"Expected a class definition");let e=MS.get(t);return e?(Br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,MS.set(t,e),e)}var Mj=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Ty=Mj;function bd(t,e,n){return`firebase:${t}:${e}:${n}`}var Md=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=bd(this.userKey,i.apiKey,s),this.fullPersistenceKey=bd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?no._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(Zn(Ty),e,r);let i=(yield Promise.all(n.map(l=>_(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Zn(Ty),o=bd(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=no._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>_(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function xS(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(t0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(r0(e))return"Blackberry";if(i0(e))return"Webos";if(XS(e))return"Safari";if((e.includes("chrome/")||e0(e))&&!e.includes("edge/"))return"Chrome";if(n0(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function ZS(t=Ge()){return/firefox\//i.test(t)}function XS(t=Ge()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function e0(t=Ge()){return/crios\//i.test(t)}function t0(t=Ge()){return/iemobile/i.test(t)}function n0(t=Ge()){return/android/i.test(t)}function r0(t=Ge()){return/blackberry/i.test(t)}function i0(t=Ge()){return/webos/i.test(t)}function qy(t=Ge()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xj(t=Ge()){var e;return qy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Pj(){return rS()&&document.documentMode===10}function s0(t=Ge()){return qy(t)||n0(t)||i0(t)||r0(t)||/windows phone/i.test(t)||t0(t)}function o0(t,e=[]){let n;switch(t){case"Browser":n=xS(Ge());break;case"Worker":n=`${xS(Ge())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zt}/${r}`}var Dy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Oj(n){return _(this,arguments,function*(t,e={}){return tr(t,"GET","/v2/passwordPolicy",er(t,e))})}var kj=6,by=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:kj,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Cy=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xd(this),this.idTokenSubscription=new xd(this),this.beforeStateQueue=new Dy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zn(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Md.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield YS(this,{idToken:e}),r=yield no._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(Bt(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Nd(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=wj()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(Bt(this.app))return Promise.reject(Xn(this));let n=e?be(e):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return Bt(this.app)?Promise.reject(Xn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Bt(this.app)?Promise.reject(Xn(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Zn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield Oj(this),n=new by(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Nj(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Zn(e)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=yield Md.create(this,[Zn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=o0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&vj(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Mi(t){return be(t)}var xd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=aS(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ud={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Lj(t){Ud=t}function a0(t){return Ud.loadJS(t)}function Fj(){return Ud.recaptchaEnterpriseScript}function Vj(){return Ud.gapiScript}function c0(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Uj="recaptcha-enterprise",jj="NO_RECAPTCHA",Sy=class{constructor(e){this.type=Uj,this.auth=Mi(e)}verify(e="verify",n=!1){return _(this,null,function*(){function r(s){return _(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>_(this,null,function*(){bj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new wy(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;RS(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(jj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&RS(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Fj();u.length!==0&&(u+=a),a0(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function PS(t,e,n,r=!1){return _(this,null,function*(){let i=new Sy(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Ay(t,e,n,r){return _(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield PS(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>_(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield PS(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function Hy(t,e){let n=Wn(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Di(s,e??{}))return i;mn(i,"already-initialized")}return n.initialize({options:e})}function Bj(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Zn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function zy(t,e,n){let r=Mi(t);K(r._canInitEmulator,r,"emulator-config-failed"),K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=u0(e),{host:o,port:a}=$j(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||qj()}function u0(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function $j(t){let e=u0(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:OS(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:OS(o)}}}function OS(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function qj(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var oc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Jn("not implemented")}_getIdTokenResponse(e){return Jn("not implemented")}_linkToIdToken(e,n){return Jn("not implemented")}_getReauthenticationResolver(e){return Jn("not implemented")}};function Hj(t,e){return _(this,null,function*(){return tr(t,"POST","/v1/accounts:signUp",e)})}function zj(t,e){return _(this,null,function*(){return uc(t,"POST","/v1/accounts:signInWithPassword",er(t,e))})}function Gj(t,e){return _(this,null,function*(){return tr(t,"POST","/v1/accounts:sendOobCode",er(t,e))})}function Wj(t,e){return _(this,null,function*(){return Gj(t,e)})}function Kj(t,e){return _(this,null,function*(){return uc(t,"POST","/v1/accounts:signInWithEmailLink",er(t,e))})}function Qj(t,e){return _(this,null,function*(){return uc(t,"POST","/v1/accounts:signInWithEmailLink",er(t,e))})}var ac=class t extends oc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ay(e,n,"signInWithPassword",zj);case"emailLink":return Kj(e,{email:this._email,oobCode:this._password});default:mn(e,"internal-error")}})}_linkToIdToken(e,n){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ay(e,r,"signUpPassword",Hj);case"emailLink":return Qj(e,{idToken:n,email:this._email,oobCode:this._password});default:mn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function yy(t,e){return _(this,null,function*(){return uc(t,"POST","/v1/accounts:signInWithIdp",er(t,e))})}function Yj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Jj(t){let e=Ys(Js(t)).link,n=e?Ys(Js(e)).deep_link_id:null,r=Ys(Js(t)).deep_link_id;return(r?Ys(Js(r)).link:null)||r||n||e||t}var Pd=class t{constructor(e){var n,r,i,s,o,a;let u=Ys(Js(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=Yj((i=u.mode)!==null&&i!==void 0?i:null);K(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=Jj(e);try{return new t(n)}catch{return null}}};var l0=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return ac._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Pd.parseLink(r);return K(i,"argument-error"),ac._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Od=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Ry=class extends Od{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function Zj(t,e){return _(this,null,function*(){return uc(t,"POST","/v1/accounts:signUp",er(t,e))})}var ro=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return _(this,null,function*(){let s=yield no._fromIdTokenResponse(e,r,i),o=kS(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=kS(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function kS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Ny=class t extends at{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function d0(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ny._fromErrorAndOperation(t,s,e,r):s})}function Xj(t,e,n=!1){return _(this,null,function*(){let r=yield ic(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ro._forOperation(t,"link",r)})}function e2(t,e,n=!1){return _(this,null,function*(){let{auth:r}=t;if(Bt(r.app))return Promise.reject(Xn(r));let i="reauthenticate";try{let s=yield ic(t,d0(r,i,e,t),n);K(s.idToken,r,"internal-error");let o=By(s.idToken);K(o,r,"internal-error");let{sub:a}=o;return K(t.uid===a,r,"user-mismatch"),ro._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&mn(r,"user-mismatch"),s}})}function h0(t,e,n=!1){return _(this,null,function*(){if(Bt(t.app))return Promise.reject(Xn(t));let r="signIn",i=yield d0(t,r,e),s=yield ro._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Gy(t,e){return _(this,null,function*(){return h0(Mi(t),e)})}function t2(t,e,n){var r;K(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),K(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(K(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(K(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function f0(t){return _(this,null,function*(){let e=Mi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Wy(t,e,n){return _(this,null,function*(){if(Bt(t.app))return Promise.reject(Xn(t));let r=Mi(t),o=yield Ay(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zj).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&f0(t),u}),a=yield ro._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function Ky(t,e,n){return Bt(t.app)?Promise.reject(Xn(t)):Gy(be(t),l0.credential(e,n)).catch(r=>_(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&f0(t),r}))}function Qy(t,e){return _(this,null,function*(){let n=be(t),i={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&t2(n.auth,i,e);let{email:s}=yield Wj(n.auth,i);s!==t.email&&(yield t.reload())})}function Yy(t,e,n,r){return be(t).onIdTokenChanged(e,n,r)}function Jy(t,e,n){return be(t).beforeAuthStateChanged(e,n)}var kd="__sak";var Ld=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kd,"1"),this.storage.removeItem(kd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var n2=1e3,r2=10,i2=(()=>{class t extends Ld{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=s0(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);Pj()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,r2):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},n2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return _(this,null,function*(){yield hr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return _(this,null,function*(){let r=yield hr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return _(this,null,function*(){yield hr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),p0=i2;var s2=(()=>{class t extends Ld{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Zy=s2;function o2(t){return Promise.all(t.map(e=>_(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var a2=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return _(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,o)})),l=yield o2(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function g0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var My=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=g0("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function gn(){return window}function c2(t){gn().location.href=t}function m0(){return typeof gn().WorkerGlobalScope<"u"&&typeof gn().importScripts=="function"}function u2(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function l2(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function d2(){return m0()?self:null}var y0="firebaseLocalStorageDb",h2=1,Fd="firebaseLocalStorage",v0="fbase_key",Ni=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function jd(t,e){return t.transaction([Fd],e?"readwrite":"readonly").objectStore(Fd)}function f2(){let t=indexedDB.deleteDatabase(y0);return new Ni(t).toPromise()}function xy(){let t=indexedDB.open(y0,h2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Fd,{keyPath:v0})}catch(i){n(i)}}),t.addEventListener("success",()=>_(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Fd)?e(r):(r.close(),yield f2(),e(yield xy()))}))})}function LS(t,e,n){return _(this,null,function*(){let r=jd(t,!0).put({[v0]:e,value:n});return new Ni(r).toPromise()})}function p2(t,e){return _(this,null,function*(){let n=jd(t,!1).get(e),r=yield new Ni(n).toPromise();return r===void 0?null:r.value})}function FS(t,e){let n=jd(t,!0).delete(e);return new Ni(n).toPromise()}var g2=800,m2=3,y2=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield xy(),this.db)})}_withRetries(n){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>m2)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return m0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=a2._getInstance(d2()),this.receiver._subscribe("keyChanged",(n,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var n,r;if(this.activeServiceWorker=yield u2(),!this.activeServiceWorker)return;this.sender=new My(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||l2()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let n=yield xy();return yield LS(n,kd,"1"),yield FS(n,kd),!0}catch{}return!1})}_withPendingWrite(n){return _(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>LS(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return _(this,null,function*(){let r=yield this._withRetries(i=>p2(i,n));return this.localCache[n]=r,r})}_remove(n){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>FS(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return _(this,null,function*(){let n=yield this._withRetries(s=>{let o=jd(s,!1).getAll();return new Ni(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),g2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),_0=y2;var yK=c0("rcb"),vK=new Ri(3e4,6e4);function v2(t,e){return e?Zn(e):(K(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var cc=class extends oc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yy(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yy(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yy(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function _2(t){return h0(t.auth,new cc(t),t.bypassAuthState)}function I2(t){let{auth:e,user:n}=t;return K(n,e,"internal-error"),e2(n,new cc(t),t.bypassAuthState)}function w2(t){return _(this,null,function*(){let{auth:e,user:n}=t;return K(n,e,"internal-error"),Xj(n,new cc(t),t.bypassAuthState)})}var Py=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _2;case"linkViaPopup":case"linkViaRedirect":return w2;case"reauthViaPopup":case"reauthViaRedirect":return I2;default:mn(this.auth,"internal-error")}}resolve(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var _K=new Ri(2e3,1e4);var E2="pendingRedirect",Cd=new Map,Oy=class t extends Py{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=Cd.get(this.auth._key());if(!e){try{let r=(yield T2(this.resolver,this.auth))?yield hr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cd.set(this.auth._key(),e)}return this.bypassAuthState||Cd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return hr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,hr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function T2(t,e){return _(this,null,function*(){let n=C2(e),r=b2(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function D2(t,e){Cd.set(t._key(),e)}function b2(t){return Zn(t._redirectPersistence)}function C2(t){return bd(E2,t.config.apiKey,t.name)}function S2(t,e,n=!1){return _(this,null,function*(){if(Bt(t.app))return Promise.reject(Xn(t));let r=Mi(t),i=v2(r,e),o=yield new Oy(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var A2=10*60*1e3,ky=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!R2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!I0(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ai(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=A2&&this.cachedEventUids.clear(),this.cachedEventUids.has(VS(e))}saveEventToCache(e){this.cachedEventUids.add(VS(e)),this.lastProcessedEventTime=Date.now()}};function VS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function I0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function R2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return I0(t);default:return!1}}function N2(n){return _(this,arguments,function*(t,e={}){return tr(t,"GET","/v1/projects",e)})}var M2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,x2=/^https?/;function P2(t){return _(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield N2(t);for(let n of e)try{if(O2(n))return}catch{}mn(t,"unauthorized-domain")})}function O2(t){let e=_y(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!x2.test(n))return!1;if(M2.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var k2=new Ri(3e4,6e4);function US(){let t=gn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function L2(t){return new Promise((e,n)=>{var r,i,s;function o(){US(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{US(),n(Ai(t,"network-request-failed"))},timeout:k2.get()})}if(!((i=(r=gn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=gn().gapi)===null||s===void 0)&&s.load)o();else{let a=c0("iframefcb");return gn()[a]=()=>{gapi.load?o():n(Ai(t,"network-request-failed"))},a0(`${Vj()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Sd=null,e})}var Sd=null;function F2(t){return Sd=Sd||L2(t),Sd}var V2=new Ri(5e3,15e3),U2="__/auth/iframe",j2="emulator/auth/iframe",B2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function q2(t){let e=t.config;K(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Uy(e,j2):`https://${t.config.authDomain}/${U2}`,r={apiKey:e.apiKey,appName:t.name,v:Zt},i=$2.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ja(r).slice(1)}`}function H2(t){return _(this,null,function*(){let e=yield F2(t),n=gn().gapi;return K(n,t,"internal-error"),e.open({where:document.body,url:q2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B2,dontclear:!0},r=>new Promise((i,s)=>_(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Ai(t,"network-request-failed"),a=gn().setTimeout(()=>{s(o)},V2.get());function u(){gn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var z2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},G2=500,W2=600,K2="_blank",Q2="http://localhost",Vd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Y2(t,e,n,r=G2,i=W2){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},z2),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Ge().toLowerCase();n&&(a=e0(l)?K2:n),ZS(l)&&(e=e||Q2,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,D])=>`${m}${y}=${D},`,"");if(xj(l)&&a!=="_self")return J2(e||"",a),new Vd(null);let p=window.open(e||"",a,h);K(p,t,"popup-blocked");try{p.focus()}catch{}return new Vd(p)}function J2(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Z2="__/auth/handler",X2="emulator/auth/handler",eB=encodeURIComponent("fac");function jS(t,e,n,r,i,s){return _(this,null,function*(){K(t.config.authDomain,t,"auth-domain-config-required"),K(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Zt,eventId:i};if(e instanceof Od){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",oS(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof Ry){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${eB}=${encodeURIComponent(u)}`:"";return`${tB(t)}?${Ja(a).slice(1)}${l}`})}function tB({config:t}){return t.emulator?Uy(t,X2):`https://${t.authDomain}/${Z2}`}var vy="webStorageSupport",Ly=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zy,this._completeRedirectFn=S2,this._overrideRedirectResult=D2}_openPopup(e,n,r,i){return _(this,null,function*(){var s;Br((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield jS(e,n,r,_y(),i);return Y2(e,o,g0())})}_openRedirect(e,n,r,i){return _(this,null,function*(){yield this._originValidation(e);let s=yield jS(e,n,r,_y(),i);return c2(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Br(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return _(this,null,function*(){let n=yield H2(e),r=new ky(e);return n.register("authEvent",i=>(K(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vy,{type:vy},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[vy];o!==void 0&&n(!!o),mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=P2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return s0()||XS()||qy()}},w0=Ly;var BS="@firebase/auth",$S="1.7.9";var Fy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function nB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rB(t){Jt(new Tt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;K(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:o0(t)},l=new Cy(r,i,s,u);return Bj(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Jt(new Tt("auth-internal",e=>{let n=Mi(e.getProvider("auth").getImmediate());return(r=>new Fy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Te(BS,$S,nB(t)),Te(BS,$S,"esm2017")}var iB=5*60,sB=Ym("authIdTokenMaxAge")||iB,qS=null,oB=t=>e=>_(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sB)return;let i=n?.token;qS!==i&&(qS=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Xy(t=Kn()){let e=Wn(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Hy(t,{popupRedirectResolver:w0,persistence:[_0,p0,Zy]}),r=Ym("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=oB(s.toString());Jy(n,o,()=>o(n.currentUser)),Yy(n,a=>o(a))}}let i=Km("auth");return i&&zy(n,`http://${i}`),n}function aB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Lj({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Ai("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",aB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rB("Browser");var E0="auth",xi=class{constructor(e){return e}},Pi=class{constructor(){return Si(E0)}};var ev=new q("angularfire2.auth-instances");function JB(t,e){let n=to(E0,t,e);return n&&new xi(n)}function ZB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new xi(r)}}var XB={provide:Pi,deps:[[new ke,ev]]},e$={provide:xi,useFactory:JB,deps:[[new ke,ev],Xt]};function n7(t,...e){return Te("angularfire",Qn.full,"auth"),Et([e$,XB,{provide:ev,useFactory:ZB(t),multi:!0,deps:[he,He,Ur,Yn,[new ke,Vr],...e]}])}var r7=Ce(Wy,!0);var i7=Ce(Xy,!0);var s7=Ce(Qy,!0);var o7=Ce(Ky,!0);var T0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},D0={};var $r,tv;(function(){var t;function e(E,v){function I(){}I.prototype=v.prototype,E.D=v.prototype,E.prototype=new I,E.prototype.constructor=E,E.C=function(T,b,A){for(var w=Array(arguments.length-2),bn=2;bn<arguments.length;bn++)w[bn-2]=arguments[bn];return v.prototype[b].apply(T,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,I){I||(I=0);var T=Array(16);if(typeof v=="string")for(var b=0;16>b;++b)T[b]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(b=0;16>b;++b)T[b]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=E.g[0],I=E.g[1],b=E.g[2];var A=E.g[3],w=v+(A^I&(b^A))+T[0]+3614090360&4294967295;v=I+(w<<7&4294967295|w>>>25),w=A+(b^v&(I^b))+T[1]+3905402710&4294967295,A=v+(w<<12&4294967295|w>>>20),w=b+(I^A&(v^I))+T[2]+606105819&4294967295,b=A+(w<<17&4294967295|w>>>15),w=I+(v^b&(A^v))+T[3]+3250441966&4294967295,I=b+(w<<22&4294967295|w>>>10),w=v+(A^I&(b^A))+T[4]+4118548399&4294967295,v=I+(w<<7&4294967295|w>>>25),w=A+(b^v&(I^b))+T[5]+1200080426&4294967295,A=v+(w<<12&4294967295|w>>>20),w=b+(I^A&(v^I))+T[6]+2821735955&4294967295,b=A+(w<<17&4294967295|w>>>15),w=I+(v^b&(A^v))+T[7]+4249261313&4294967295,I=b+(w<<22&4294967295|w>>>10),w=v+(A^I&(b^A))+T[8]+1770035416&4294967295,v=I+(w<<7&4294967295|w>>>25),w=A+(b^v&(I^b))+T[9]+2336552879&4294967295,A=v+(w<<12&4294967295|w>>>20),w=b+(I^A&(v^I))+T[10]+4294925233&4294967295,b=A+(w<<17&4294967295|w>>>15),w=I+(v^b&(A^v))+T[11]+2304563134&4294967295,I=b+(w<<22&4294967295|w>>>10),w=v+(A^I&(b^A))+T[12]+1804603682&4294967295,v=I+(w<<7&4294967295|w>>>25),w=A+(b^v&(I^b))+T[13]+4254626195&4294967295,A=v+(w<<12&4294967295|w>>>20),w=b+(I^A&(v^I))+T[14]+2792965006&4294967295,b=A+(w<<17&4294967295|w>>>15),w=I+(v^b&(A^v))+T[15]+1236535329&4294967295,I=b+(w<<22&4294967295|w>>>10),w=v+(b^A&(I^b))+T[1]+4129170786&4294967295,v=I+(w<<5&4294967295|w>>>27),w=A+(I^b&(v^I))+T[6]+3225465664&4294967295,A=v+(w<<9&4294967295|w>>>23),w=b+(v^I&(A^v))+T[11]+643717713&4294967295,b=A+(w<<14&4294967295|w>>>18),w=I+(A^v&(b^A))+T[0]+3921069994&4294967295,I=b+(w<<20&4294967295|w>>>12),w=v+(b^A&(I^b))+T[5]+3593408605&4294967295,v=I+(w<<5&4294967295|w>>>27),w=A+(I^b&(v^I))+T[10]+38016083&4294967295,A=v+(w<<9&4294967295|w>>>23),w=b+(v^I&(A^v))+T[15]+3634488961&4294967295,b=A+(w<<14&4294967295|w>>>18),w=I+(A^v&(b^A))+T[4]+3889429448&4294967295,I=b+(w<<20&4294967295|w>>>12),w=v+(b^A&(I^b))+T[9]+568446438&4294967295,v=I+(w<<5&4294967295|w>>>27),w=A+(I^b&(v^I))+T[14]+3275163606&4294967295,A=v+(w<<9&4294967295|w>>>23),w=b+(v^I&(A^v))+T[3]+4107603335&4294967295,b=A+(w<<14&4294967295|w>>>18),w=I+(A^v&(b^A))+T[8]+1163531501&4294967295,I=b+(w<<20&4294967295|w>>>12),w=v+(b^A&(I^b))+T[13]+2850285829&4294967295,v=I+(w<<5&4294967295|w>>>27),w=A+(I^b&(v^I))+T[2]+4243563512&4294967295,A=v+(w<<9&4294967295|w>>>23),w=b+(v^I&(A^v))+T[7]+1735328473&4294967295,b=A+(w<<14&4294967295|w>>>18),w=I+(A^v&(b^A))+T[12]+2368359562&4294967295,I=b+(w<<20&4294967295|w>>>12),w=v+(I^b^A)+T[5]+4294588738&4294967295,v=I+(w<<4&4294967295|w>>>28),w=A+(v^I^b)+T[8]+2272392833&4294967295,A=v+(w<<11&4294967295|w>>>21),w=b+(A^v^I)+T[11]+1839030562&4294967295,b=A+(w<<16&4294967295|w>>>16),w=I+(b^A^v)+T[14]+4259657740&4294967295,I=b+(w<<23&4294967295|w>>>9),w=v+(I^b^A)+T[1]+2763975236&4294967295,v=I+(w<<4&4294967295|w>>>28),w=A+(v^I^b)+T[4]+1272893353&4294967295,A=v+(w<<11&4294967295|w>>>21),w=b+(A^v^I)+T[7]+4139469664&4294967295,b=A+(w<<16&4294967295|w>>>16),w=I+(b^A^v)+T[10]+3200236656&4294967295,I=b+(w<<23&4294967295|w>>>9),w=v+(I^b^A)+T[13]+681279174&4294967295,v=I+(w<<4&4294967295|w>>>28),w=A+(v^I^b)+T[0]+3936430074&4294967295,A=v+(w<<11&4294967295|w>>>21),w=b+(A^v^I)+T[3]+3572445317&4294967295,b=A+(w<<16&4294967295|w>>>16),w=I+(b^A^v)+T[6]+76029189&4294967295,I=b+(w<<23&4294967295|w>>>9),w=v+(I^b^A)+T[9]+3654602809&4294967295,v=I+(w<<4&4294967295|w>>>28),w=A+(v^I^b)+T[12]+3873151461&4294967295,A=v+(w<<11&4294967295|w>>>21),w=b+(A^v^I)+T[15]+530742520&4294967295,b=A+(w<<16&4294967295|w>>>16),w=I+(b^A^v)+T[2]+3299628645&4294967295,I=b+(w<<23&4294967295|w>>>9),w=v+(b^(I|~A))+T[0]+4096336452&4294967295,v=I+(w<<6&4294967295|w>>>26),w=A+(I^(v|~b))+T[7]+1126891415&4294967295,A=v+(w<<10&4294967295|w>>>22),w=b+(v^(A|~I))+T[14]+2878612391&4294967295,b=A+(w<<15&4294967295|w>>>17),w=I+(A^(b|~v))+T[5]+4237533241&4294967295,I=b+(w<<21&4294967295|w>>>11),w=v+(b^(I|~A))+T[12]+1700485571&4294967295,v=I+(w<<6&4294967295|w>>>26),w=A+(I^(v|~b))+T[3]+2399980690&4294967295,A=v+(w<<10&4294967295|w>>>22),w=b+(v^(A|~I))+T[10]+4293915773&4294967295,b=A+(w<<15&4294967295|w>>>17),w=I+(A^(b|~v))+T[1]+2240044497&4294967295,I=b+(w<<21&4294967295|w>>>11),w=v+(b^(I|~A))+T[8]+1873313359&4294967295,v=I+(w<<6&4294967295|w>>>26),w=A+(I^(v|~b))+T[15]+4264355552&4294967295,A=v+(w<<10&4294967295|w>>>22),w=b+(v^(A|~I))+T[6]+2734768916&4294967295,b=A+(w<<15&4294967295|w>>>17),w=I+(A^(b|~v))+T[13]+1309151649&4294967295,I=b+(w<<21&4294967295|w>>>11),w=v+(b^(I|~A))+T[4]+4149444226&4294967295,v=I+(w<<6&4294967295|w>>>26),w=A+(I^(v|~b))+T[11]+3174756917&4294967295,A=v+(w<<10&4294967295|w>>>22),w=b+(v^(A|~I))+T[2]+718787259&4294967295,b=A+(w<<15&4294967295|w>>>17),w=I+(A^(b|~v))+T[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(b+(w<<21&4294967295|w>>>11))&4294967295,E.g[2]=E.g[2]+b&4294967295,E.g[3]=E.g[3]+A&4294967295}r.prototype.u=function(E,v){v===void 0&&(v=E.length);for(var I=v-this.blockSize,T=this.B,b=this.h,A=0;A<v;){if(b==0)for(;A<=I;)i(this,E,A),A+=this.blockSize;if(typeof E=="string"){for(;A<v;)if(T[b++]=E.charCodeAt(A++),b==this.blockSize){i(this,T),b=0;break}}else for(;A<v;)if(T[b++]=E[A++],b==this.blockSize){i(this,T),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;var I=8*this.o;for(v=E.length-8;v<E.length;++v)E[v]=I&255,I/=256;for(this.u(E),E=Array(16),v=I=0;4>v;++v)for(var T=0;32>T;T+=8)E[I++]=this.g[v]>>>T&255;return E};function s(E,v){var I=a;return Object.prototype.hasOwnProperty.call(I,E)?I[E]:I[E]=v(E)}function o(E,v){this.h=v;for(var I=[],T=!0,b=E.length-1;0<=b;b--){var A=E[b]|0;T&&A==v||(I[b]=A,T=!1)}this.g=I}var a={};function u(E){return-128<=E&&128>E?s(E,function(v){return new o([v|0],0>v?-1:0)}):new o([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return S(l(-E));for(var v=[],I=1,T=0;E>=I;T++)v[T]=E/I|0,I*=4294967296;return new o(v,0)}function h(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return S(h(E.substring(1),v));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),T=p,b=0;b<E.length;b+=8){var A=Math.min(8,E.length-b),w=parseInt(E.substring(b,b+A),v);8>A?(A=l(Math.pow(v,A)),T=T.j(A).add(l(w))):(T=T.j(I),T=T.add(l(w)))}return T}var p=u(0),m=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(R(this))return-S(this).m();for(var E=0,v=1,I=0;I<this.g.length;I++){var T=this.i(I);E+=(0<=T?T:4294967296+T)*v,v*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(D(this))return"0";if(R(this))return"-"+S(this).toString(E);for(var v=l(Math.pow(E,6)),I=this,T="";;){var b=B(I,v).g;I=P(I,b.j(v));var A=((0<I.g.length?I.g[0]:I.h)>>>0).toString(E);if(I=b,D(I))return A+T;for(;6>A.length;)A="0"+A;T=A+T}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function D(E){if(E.h!=0)return!1;for(var v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function R(E){return E.h==-1}t.l=function(E){return E=P(this,E),R(E)?-1:D(E)?0:1};function S(E){for(var v=E.g.length,I=[],T=0;T<v;T++)I[T]=~E.g[T];return new o(I,~E.h).add(m)}t.abs=function(){return R(this)?S(this):this},t.add=function(E){for(var v=Math.max(this.g.length,E.g.length),I=[],T=0,b=0;b<=v;b++){var A=T+(this.i(b)&65535)+(E.i(b)&65535),w=(A>>>16)+(this.i(b)>>>16)+(E.i(b)>>>16);T=w>>>16,A&=65535,w&=65535,I[b]=w<<16|A}return new o(I,I[I.length-1]&-2147483648?-1:0)};function P(E,v){return E.add(S(v))}t.j=function(E){if(D(this)||D(E))return p;if(R(this))return R(E)?S(this).j(S(E)):S(S(this).j(E));if(R(E))return S(this.j(S(E)));if(0>this.l(y)&&0>E.l(y))return l(this.m()*E.m());for(var v=this.g.length+E.g.length,I=[],T=0;T<2*v;T++)I[T]=0;for(T=0;T<this.g.length;T++)for(var b=0;b<E.g.length;b++){var A=this.i(T)>>>16,w=this.i(T)&65535,bn=E.i(b)>>>16,Oo=E.i(b)&65535;I[2*T+2*b]+=w*Oo,V(I,2*T+2*b),I[2*T+2*b+1]+=A*Oo,V(I,2*T+2*b+1),I[2*T+2*b+1]+=w*bn,V(I,2*T+2*b+1),I[2*T+2*b+2]+=A*bn,V(I,2*T+2*b+2)}for(T=0;T<v;T++)I[T]=I[2*T+1]<<16|I[2*T];for(T=v;T<2*v;T++)I[T]=0;return new o(I,0)};function V(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function k(E,v){this.g=E,this.h=v}function B(E,v){if(D(v))throw Error("division by zero");if(D(E))return new k(p,p);if(R(E))return v=B(S(E),v),new k(S(v.g),S(v.h));if(R(v))return v=B(E,S(v)),new k(S(v.g),v.h);if(30<E.g.length){if(R(E)||R(v))throw Error("slowDivide_ only works with positive integers.");for(var I=m,T=v;0>=T.l(E);)I=ae(I),T=ae(T);var b=z(I,1),A=z(T,1);for(T=z(T,2),I=z(I,2);!D(T);){var w=A.add(T);0>=w.l(E)&&(b=b.add(I),A=w),T=z(T,1),I=z(I,1)}return v=P(E,b.j(v)),new k(b,v)}for(b=p;0<=E.l(v);){for(I=Math.max(1,Math.floor(E.m()/v.m())),T=Math.ceil(Math.log(I)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),A=l(I),w=A.j(v);R(w)||0<w.l(E);)I-=T,A=l(I),w=A.j(v);D(A)&&(A=m),b=b.add(A),E=P(E,w)}return new k(b,E)}t.A=function(E){return B(this,E).h},t.and=function(E){for(var v=Math.max(this.g.length,E.g.length),I=[],T=0;T<v;T++)I[T]=this.i(T)&E.i(T);return new o(I,this.h&E.h)},t.or=function(E){for(var v=Math.max(this.g.length,E.g.length),I=[],T=0;T<v;T++)I[T]=this.i(T)|E.i(T);return new o(I,this.h|E.h)},t.xor=function(E){for(var v=Math.max(this.g.length,E.g.length),I=[],T=0;T<v;T++)I[T]=this.i(T)^E.i(T);return new o(I,this.h^E.h)};function ae(E){for(var v=E.g.length+1,I=[],T=0;T<v;T++)I[T]=E.i(T)<<1|E.i(T-1)>>>31;return new o(I,E.h)}function z(E,v){var I=v>>5;v%=32;for(var T=E.g.length-I,b=[],A=0;A<T;A++)b[A]=0<v?E.i(A+I)>>>v|E.i(A+I+1)<<32-v:E.i(A+I);return new o(b,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,tv=D0.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,$r=D0.Integer=o}).apply(typeof T0<"u"?T0:typeof self<"u"?self:typeof window<"u"?window:{});var Bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nr={};var nv,n$,io,rv,lc,$d,iv,sv,ov;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bd=="object"&&Bd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var C=c[g];if(!(C in f))break e;f=f[C]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,g=!1,C={next:function(){if(!g&&f<c.length){var N=f++;return{value:d(N,c[N]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function D(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,C,N){for(var L=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)L[Ie-2]=arguments[Ie];return d.prototype[C].apply(g,L)}}function R(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function S(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=c.length||0,N=g.length||0;c.length=C+N;for(let L=0;L<N;L++)c[C+L]=g[L]}else c.push(g)}}class P{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function V(c){return/^[\s\xa0]*$/.test(c)}function k(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function B(c){return B[" "](c),c}B[" "]=function(){};var ae=k().indexOf("Gecko")!=-1&&!(k().toLowerCase().indexOf("webkit")!=-1&&k().indexOf("Edge")==-1)&&!(k().indexOf("Trident")!=-1||k().indexOf("MSIE")!=-1)&&k().indexOf("Edge")==-1;function z(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(c,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)c[f]=g[f];for(let N=0;N<I.length;N++)f=I[N],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function A(c){a.setTimeout(()=>{throw c},0)}function w(){var c=Gh;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class bn{constructor(){this.h=this.g=null}add(d,f){let g=Oo.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Oo=new P(()=>new uN,c=>c.reset());class uN{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ko,Lo=!1,Gh=new bn,AI=()=>{let c=a.Promise.resolve(void 0);ko=()=>{c.then(lN)}};var lN=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){A(f)}var d=Oo;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Lo=!1};function cr(){this.s=this.s,this.C=this.C}cr.prototype.s=!1,cr.prototype.ma=function(){this.s||(this.s=!0,this.N())},cr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Xe(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Xe.prototype.h=function(){this.defaultPrevented=!0};var dN=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Fo(c,d){if(Xe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(ae){e:{try{B(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:hN[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Fo.aa.h.call(this)}}D(Fo,Xe);var hN={2:"touch",3:"pen",4:"mouse"};Fo.prototype.h=function(){Fo.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Vo="closure_listenable_"+(1e6*Math.random()|0),fN=0;function pN(c,d,f,g,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++fN,this.da=this.fa=!1}function qc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Hc(c){this.src=c,this.g={},this.h=0}Hc.prototype.add=function(c,d,f,g,C){var N=c.toString();c=this.g[N],c||(c=this.g[N]=[],this.h++);var L=Kh(c,d,g,C);return-1<L?(d=c[L],f||(d.fa=!1)):(d=new pN(d,this.src,N,!!g,C),d.fa=f,c.push(d)),d};function Wh(c,d){var f=d.type;if(f in c.g){var g=c.g[f],C=Array.prototype.indexOf.call(g,d,void 0),N;(N=0<=C)&&Array.prototype.splice.call(g,C,1),N&&(qc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Kh(c,d,f,g){for(var C=0;C<c.length;++C){var N=c[C];if(!N.da&&N.listener==d&&N.capture==!!f&&N.ha==g)return C}return-1}var Qh="closure_lm_"+(1e6*Math.random()|0),Yh={};function RI(c,d,f,g,C){if(g&&g.once)return MI(c,d,f,g,C);if(Array.isArray(d)){for(var N=0;N<d.length;N++)RI(c,d[N],f,g,C);return null}return f=ef(f),c&&c[Vo]?c.K(d,f,l(g)?!!g.capture:!!g,C):NI(c,d,f,!1,g,C)}function NI(c,d,f,g,C,N){if(!d)throw Error("Invalid event type");var L=l(C)?!!C.capture:!!C,Ie=Zh(c);if(Ie||(c[Qh]=Ie=new Hc(c)),f=Ie.add(d,f,g,L,N),f.proxy)return f;if(g=gN(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)dN||(C=L),C===void 0&&(C=!1),c.addEventListener(d.toString(),g,C);else if(c.attachEvent)c.attachEvent(PI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function gN(){function c(f){return d.call(c.src,c.listener,f)}let d=mN;return c}function MI(c,d,f,g,C){if(Array.isArray(d)){for(var N=0;N<d.length;N++)MI(c,d[N],f,g,C);return null}return f=ef(f),c&&c[Vo]?c.L(d,f,l(g)?!!g.capture:!!g,C):NI(c,d,f,!0,g,C)}function xI(c,d,f,g,C){if(Array.isArray(d))for(var N=0;N<d.length;N++)xI(c,d[N],f,g,C);else g=l(g)?!!g.capture:!!g,f=ef(f),c&&c[Vo]?(c=c.i,d=String(d).toString(),d in c.g&&(N=c.g[d],f=Kh(N,f,g,C),-1<f&&(qc(N[f]),Array.prototype.splice.call(N,f,1),N.length==0&&(delete c.g[d],c.h--)))):c&&(c=Zh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Kh(d,f,g,C)),(f=-1<c?d[c]:null)&&Jh(f))}function Jh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Vo])Wh(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(PI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Zh(d))?(Wh(f,c),f.h==0&&(f.src=null,d[Qh]=null)):qc(c)}}}function PI(c){return c in Yh?Yh[c]:Yh[c]="on"+c}function mN(c,d){if(c.da)c=!0;else{d=new Fo(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Jh(c),c=f.call(g,d)}return c}function Zh(c){return c=c[Qh],c instanceof Hc?c:null}var Xh="__closure_events_fn_"+(1e9*Math.random()>>>0);function ef(c){return typeof c=="function"?c:(c[Xh]||(c[Xh]=function(d){return c.handleEvent(d)}),c[Xh])}function et(){cr.call(this),this.i=new Hc(this),this.M=this,this.F=null}D(et,cr),et.prototype[Vo]=!0,et.prototype.removeEventListener=function(c,d,f,g){xI(this,c,d,f,g)};function ht(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new Xe(d,c);else if(d instanceof Xe)d.target=d.target||c;else{var C=d;d=new Xe(g,c),T(d,C)}if(C=!0,f)for(var N=f.length-1;0<=N;N--){var L=d.g=f[N];C=zc(L,g,!0,d)&&C}if(L=d.g=c,C=zc(L,g,!0,d)&&C,C=zc(L,g,!1,d)&&C,f)for(N=0;N<f.length;N++)L=d.g=f[N],C=zc(L,g,!1,d)&&C}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)qc(f[g]);delete c.g[d],c.h--}}this.F=null},et.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},et.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function zc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,N=0;N<d.length;++N){var L=d[N];if(L&&!L.da&&L.capture==f){var Ie=L.listener,Ke=L.ha||L.src;L.fa&&Wh(c.i,L),C=Ie.call(Ke,g)!==!1&&C}}return C&&!g.defaultPrevented}function OI(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function kI(c){c.g=OI(()=>{c.g=null,c.i&&(c.i=!1,kI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class yN extends cr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:kI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Uo(c){cr.call(this),this.h=c,this.g={}}D(Uo,cr);var LI=[];function FI(c){z(c.g,function(d,f){this.g.hasOwnProperty(f)&&Jh(d)},c),c.g={}}Uo.prototype.N=function(){Uo.aa.N.call(this),FI(this)},Uo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tf=a.JSON.stringify,vN=a.JSON.parse,_N=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function nf(){}nf.prototype.h=null;function VI(c){return c.h||(c.h=c.i())}function UI(){}var jo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rf(){Xe.call(this,"d")}D(rf,Xe);function sf(){Xe.call(this,"c")}D(sf,Xe);var Jr={},jI=null;function Gc(){return jI=jI||new et}Jr.La="serverreachability";function BI(c){Xe.call(this,Jr.La,c)}D(BI,Xe);function Bo(c){let d=Gc();ht(d,new BI(d))}Jr.STAT_EVENT="statevent";function $I(c,d){Xe.call(this,Jr.STAT_EVENT,c),this.stat=d}D($I,Xe);function ft(c){let d=Gc();ht(d,new $I(d,c))}Jr.Ma="timingevent";function qI(c,d){Xe.call(this,Jr.Ma,c),this.size=d}D(qI,Xe);function $o(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function qo(){this.g=!0}qo.prototype.xa=function(){this.g=!1};function IN(c,d,f,g,C,N){c.info(function(){if(c.g)if(N)for(var L="",Ie=N.split("&"),Ke=0;Ke<Ie.length;Ke++){var ge=Ie[Ke].split("=");if(1<ge.length){var tt=ge[0];ge=ge[1];var nt=tt.split("_");L=2<=nt.length&&nt[1]=="type"?L+(tt+"="+ge+"&"):L+(tt+"=redacted&")}}else L=null;else L=N;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+L})}function wN(c,d,f,g,C,N,L){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+N+" "+L})}function Qi(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+TN(c,f)+(g?" "+g:"")})}function EN(c,d){c.info(function(){return"TIMEOUT: "+d})}qo.prototype.info=function(){};function TN(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var N=C[0];if(N!="noop"&&N!="stop"&&N!="close")for(var L=1;L<C.length;L++)C[L]=""}}}}return tf(f)}catch{return d}}var Wc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},HI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},of;function Kc(){}D(Kc,nf),Kc.prototype.g=function(){return new XMLHttpRequest},Kc.prototype.i=function(){return{}},of=new Kc;function ur(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Uo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zI}function zI(){this.i=null,this.g="",this.h=!1}var GI={},af={};function cf(c,d,f){c.L=1,c.v=Zc(Cn(d)),c.m=f,c.P=!0,WI(c,null)}function WI(c,d){c.F=Date.now(),Qc(c),c.A=Cn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),aw(f.i,"t",g),c.C=0,f=c.j.J,c.h=new zI,c.g=bw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new yN(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(LI[0]=C.toString()),C=LI);for(var N=0;N<C.length;N++){var L=RI(f,C[N],g||d.handleEvent,!1,d.h||d);if(!L)break;d.g[L.key]=L}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Bo(),IN(c.i,c.u,c.A,c.l,c.R,c.m)}ur.prototype.ca=function(c){c=c.target;let d=this.M;d&&Sn(c)==3?d.j():this.Y(c)},ur.prototype.Y=function(c){try{if(c==this.g)e:{let nt=Sn(this.g);var d=this.g.Ba();let Zi=this.g.Z();if(!(3>nt)&&(nt!=3||this.g&&(this.h.h||this.g.oa()||pw(this.g)))){this.J||nt!=4||d==7||(d==8||0>=Zi?Bo(3):Bo(2)),uf(this);var f=this.g.Z();this.X=f;t:if(KI(this)){var g=pw(this.g);c="";var C=g.length,N=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zr(this),Ho(this);var L="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(N&&d==C-1)});g.length=0,this.h.g+=c,this.C=0,L=this.h.g}else L=this.g.oa();if(this.o=f==200,wN(this.i,this.u,this.A,this.l,this.R,nt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,Ke=this.g;if((Ie=Ke.g?Ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(Ie)){var ge=Ie;break t}}ge=null}if(f=ge)Qi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lf(this,f);else{this.o=!1,this.s=3,ft(12),Zr(this),Ho(this);break e}}if(this.P){f=!0;let Ht;for(;!this.J&&this.C<L.length;)if(Ht=DN(this,L),Ht==af){nt==4&&(this.s=4,ft(14),f=!1),Qi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==GI){this.s=4,ft(15),Qi(this.i,this.l,L,"[Invalid Chunk]"),f=!1;break}else Qi(this.i,this.l,Ht,null),lf(this,Ht);if(KI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||L.length!=0||this.h.h||(this.s=1,ft(16),f=!1),this.o=this.o&&f,!f)Qi(this.i,this.l,L,"[Invalid Chunked Response]"),Zr(this),Ho(this);else if(0<L.length&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.ba&&!tt.M&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),mf(tt),tt.M=!0,ft(11))}}else Qi(this.i,this.l,L,null),lf(this,L);nt==4&&Zr(this),this.o&&!this.J&&(nt==4?ww(this.j,this):(this.o=!1,Qc(this)))}else BN(this.g),f==400&&0<L.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),Zr(this),Ho(this)}}}catch{}finally{}};function KI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function DN(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?af:(f=Number(d.substring(f,g)),isNaN(f)?GI:(g+=1,g+f>d.length?af:(d=d.slice(g,g+f),c.C=g+f,d)))}ur.prototype.cancel=function(){this.J=!0,Zr(this)};function Qc(c){c.S=Date.now()+c.I,QI(c,c.I)}function QI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=$o(m(c.ba,c),d)}function uf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ur.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(EN(this.i,this.A),this.L!=2&&(Bo(),ft(17)),Zr(this),this.s=2,Ho(this)):QI(this,this.S-c)};function Ho(c){c.j.G==0||c.J||ww(c.j,c)}function Zr(c){uf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,FI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function lf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||df(f.h,c))){if(!c.K&&df(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)ru(f),tu(f);else break e;gf(f),ft(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=$o(m(f.Za,f),6e3));if(1>=ZI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ei(f,11)}else if((c.K||f.g==c)&&ru(f),!V(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let ge=C[d];if(f.T=ge[0],ge=ge[1],f.G==2)if(ge[0]=="c"){f.K=ge[1],f.ia=ge[2];let tt=ge[3];tt!=null&&(f.la=tt,f.j.info("VER="+f.la));let nt=ge[4];nt!=null&&(f.Aa=nt,f.j.info("SVER="+f.Aa));let Zi=ge[5];Zi!=null&&typeof Zi=="number"&&0<Zi&&(g=1.5*Zi,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Ht=c.g;if(Ht){let su=Ht.g?Ht.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(su){var N=g.h;N.g||su.indexOf("spdy")==-1&&su.indexOf("quic")==-1&&su.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(hf(N,N.h),N.h=null))}if(g.D){let yf=Ht.g?Ht.g.getResponseHeader("X-HTTP-Session-Id"):null;yf&&(g.ya=yf,De(g.I,g.D,yf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var L=c;if(g.qa=Dw(g,g.J?g.ia:null,g.W),L.K){XI(g.h,L);var Ie=L,Ke=g.L;Ke&&(Ie.I=Ke),Ie.B&&(uf(Ie),Qc(Ie)),g.g=L}else _w(g);0<f.i.length&&nu(f)}else ge[0]!="stop"&&ge[0]!="close"||ei(f,7);else f.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?ei(f,7):pf(f):ge[0]!="noop"&&f.l&&f.l.ta(ge),f.v=0)}}Bo(4)}catch{}}var bN=class{constructor(c,d){this.g=c,this.map=d}};function YI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function JI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ZI(c){return c.h?1:c.g?c.g.size:0}function df(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function hf(c,d){c.g?c.g.add(d):c.h=d}function XI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}YI.prototype.cancel=function(){if(this.i=ew(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function ew(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return R(c.i)}function CN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function SN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function tw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=SN(c),g=CN(c),C=g.length,N=0;N<C;N++)d.call(void 0,g[N],f&&f[N],c)}var nw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function AN(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),C=null;if(0<=g){var N=c[f].substring(0,g);C=c[f].substring(g+1)}else N=c[f];d(N,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Xr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Xr){this.h=c.h,Yc(this,c.j),this.o=c.o,this.g=c.g,Jc(this,c.s),this.l=c.l;var d=c.i,f=new Wo;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),rw(this,f),this.m=c.m}else c&&(d=String(c).match(nw))?(this.h=!1,Yc(this,d[1]||"",!0),this.o=zo(d[2]||""),this.g=zo(d[3]||"",!0),Jc(this,d[4]),this.l=zo(d[5]||"",!0),rw(this,d[6]||"",!0),this.m=zo(d[7]||"")):(this.h=!1,this.i=new Wo(null,this.h))}Xr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Go(d,iw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Go(d,iw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Go(f,f.charAt(0)=="/"?MN:NN,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Go(f,PN)),c.join("")};function Cn(c){return new Xr(c)}function Yc(c,d,f){c.j=f?zo(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Jc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function rw(c,d,f){d instanceof Wo?(c.i=d,ON(c.i,c.h)):(f||(d=Go(d,xN)),c.i=new Wo(d,c.h))}function De(c,d,f){c.i.set(d,f)}function Zc(c){return De(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function zo(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Go(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,RN),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function RN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var iw=/[#\/\?@]/g,NN=/[#\?:]/g,MN=/[#\?]/g,xN=/[#\?@]/g,PN=/#/g;function Wo(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function lr(c){c.g||(c.g=new Map,c.h=0,c.i&&AN(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Wo.prototype,t.add=function(c,d){lr(this),this.i=null,c=Yi(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function sw(c,d){lr(c),d=Yi(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function ow(c,d){return lr(c),d=Yi(c,d),c.g.has(d)}t.forEach=function(c,d){lr(this),this.g.forEach(function(f,g){f.forEach(function(C){c.call(d,C,g,this)},this)},this)},t.na=function(){lr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=c[g];for(let N=0;N<C.length;N++)f.push(d[g])}return f},t.V=function(c){lr(this);let d=[];if(typeof c=="string")ow(this,c)&&(d=d.concat(this.g.get(Yi(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return lr(this),this.i=null,c=Yi(this,c),ow(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function aw(c,d,f){sw(c,d),0<f.length&&(c.i=null,c.g.set(Yi(c,d),R(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let N=encodeURIComponent(String(g)),L=this.V(g);for(g=0;g<L.length;g++){var C=N;L[g]!==""&&(C+="="+encodeURIComponent(String(L[g]))),c.push(C)}}return this.i=c.join("&")};function Yi(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function ON(c,d){d&&!c.j&&(lr(c),c.i=null,c.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(sw(this,g),aw(this,C,f))},c)),c.j=d}function kN(c,d){let f=new qo;if(a.Image){let g=new Image;g.onload=y(dr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(dr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(dr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(dr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function LN(c,d){let f=new qo,g=new AbortController,C=setTimeout(()=>{g.abort(),dr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(N=>{clearTimeout(C),N.ok?dr(f,"TestPingServer: ok",!0,d):dr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),dr(f,"TestPingServer: error",!1,d)})}function dr(c,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function FN(){this.g=new _N}function VN(c,d,f){let g=f||"";try{tw(c,function(C,N){let L=C;l(C)&&(L=tf(C)),d.push(g+N+"="+encodeURIComponent(L))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function Ko(c){this.l=c.Ub||null,this.j=c.eb||!1}D(Ko,nf),Ko.prototype.g=function(){return new Xc(this.l,this.j)},Ko.prototype.i=function(c){return function(){return c}}({});function Xc(c,d){et.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Xc,et),t=Xc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Yo(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qo(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yo(this)),this.g&&(this.readyState=3,Yo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function cw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Qo(this):Yo(this),this.readyState==3&&cw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Qo(this))},t.Qa=function(c){this.g&&(this.response=c,Qo(this))},t.ga=function(){this.g&&Qo(this)};function Qo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Yo(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Yo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Xc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function uw(c){let d="";return z(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function ff(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=uw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):De(c,d,f))}function xe(c){et.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(xe,et);var UN=/^https?$/i,jN=["POST","PUT"];t=xe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():of.g(),this.v=this.o?VI(this.o):VI(of),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(N){lw(this,N);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let N of g.keys())f.set(N,g.get(N));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(N=>N.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(jN,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,L]of f)this.g.setRequestHeader(N,L);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fw(this),this.u=!0,this.g.send(c),this.u=!1}catch(N){lw(this,N)}};function lw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,dw(c),eu(c)}function dw(c){c.A||(c.A=!0,ht(c,"complete"),ht(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ht(this,"complete"),ht(this,"abort"),eu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),eu(this,!0)),xe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?hw(this):this.bb())},t.bb=function(){hw(this)};function hw(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Sn(c)!=4||c.Z()!=2)){if(c.u&&Sn(c)==4)OI(c.Ea,0,c);else if(ht(c,"readystatechange"),Sn(c)==4){c.h=!1;try{let L=c.Z();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=L===0){var C=String(c.D).match(nw)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),g=!UN.test(C?C.toLowerCase():"")}f=g}if(f)ht(c,"complete"),ht(c,"success");else{c.m=6;try{var N=2<Sn(c)?c.g.statusText:""}catch{N=""}c.l=N+" ["+c.Z()+"]",dw(c)}}finally{eu(c)}}}}function eu(c,d){if(c.g){fw(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||ht(c,"ready");try{f.onreadystatechange=g}catch{}}}function fw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Sn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),vN(d)}};function pw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function BN(c){let d={};c=(c.g&&2<=Sn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(V(c[g]))continue;var f=b(c[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let N=d[C]||[];d[C]=N,N.push(f)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jo(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function gw(c){this.Aa=0,this.i=[],this.j=new qo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jo("baseRetryDelayMs",5e3,c),this.cb=Jo("retryDelaySeedMs",1e4,c),this.Wa=Jo("forwardChannelMaxRetries",2,c),this.wa=Jo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new YI(c&&c.concurrentRequestLimit),this.Da=new FN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=gw.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){ft(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=Dw(this,null,this.W),nu(this)};function pf(c){if(mw(c),c.G==3){var d=c.U++,f=Cn(c.I);if(De(f,"SID",c.K),De(f,"RID",d),De(f,"TYPE","terminate"),Zo(c,f),d=new ur(c,c.j,d),d.L=2,d.v=Zc(Cn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=bw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Qc(d)}Tw(c)}function tu(c){c.g&&(mf(c),c.g.cancel(),c.g=null)}function mw(c){tu(c),c.u&&(a.clearTimeout(c.u),c.u=null),ru(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function nu(c){if(!JI(c.h)&&!c.s){c.s=!0;var d=c.Ga;ko||AI(),Lo||(ko(),Lo=!0),Gh.add(d,c),c.B=0}}function $N(c,d){return ZI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=$o(m(c.Ga,c,d),Ew(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new ur(this,this.j,c),N=this.o;if(this.S&&(N?(N=v(N),T(N,this.S)):N=this.S),this.m!==null||this.O||(C.H=N,N=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=vw(this,C,d),f=Cn(this.I),De(f,"RID",c),De(f,"CVER",22),this.D&&De(f,"X-HTTP-Session-Id",this.D),Zo(this,f),N&&(this.O?d="headers="+encodeURIComponent(String(uw(N)))+"&"+d:this.m&&ff(f,this.m,N)),hf(this.h,C),this.Ua&&De(f,"TYPE","init"),this.P?(De(f,"$req",d),De(f,"SID","null"),C.T=!0,cf(C,f,null)):cf(C,f,d),this.G=2}}else this.G==3&&(c?yw(this,c):this.i.length==0||JI(this.h)||yw(this))};function yw(c,d){var f;d?f=d.l:f=c.U++;let g=Cn(c.I);De(g,"SID",c.K),De(g,"RID",f),De(g,"AID",c.T),Zo(c,g),c.m&&c.o&&ff(g,c.m,c.o),f=new ur(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=vw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),hf(c.h,f),cf(f,g,d)}function Zo(c,d){c.H&&z(c.H,function(f,g){De(d,g,f)}),c.l&&tw({},function(f,g){De(d,g,f)})}function vw(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var C=c.i;let N=-1;for(;;){let L=["count="+f];N==-1?0<f?(N=C[0].g,L.push("ofs="+N)):N=0:L.push("ofs="+N);let Ie=!0;for(let Ke=0;Ke<f;Ke++){let ge=C[Ke].g,tt=C[Ke].map;if(ge-=N,0>ge)N=Math.max(0,C[Ke].g-100),Ie=!1;else try{VN(tt,L,"req"+ge+"_")}catch{g&&g(tt)}}if(Ie){g=L.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function _w(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ko||AI(),Lo||(ko(),Lo=!0),Gh.add(d,c),c.v=0}}function gf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=$o(m(c.Fa,c),Ew(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Iw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=$o(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),tu(this),Iw(this))};function mf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Iw(c){c.g=new ur(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Cn(c.qa);De(d,"RID","rpc"),De(d,"SID",c.K),De(d,"AID",c.T),De(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&De(d,"TO",c.ja),De(d,"TYPE","xmlhttp"),Zo(c,d),c.m&&c.o&&ff(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Zc(Cn(d)),f.m=null,f.P=!0,WI(f,c)}t.Za=function(){this.C!=null&&(this.C=null,tu(this),gf(this),ft(19))};function ru(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function ww(c,d){var f=null;if(c.g==d){ru(c),mf(c),c.g=null;var g=2}else if(df(c.h,d))f=d.D,XI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;g=Gc(),ht(g,new qI(g,f)),nu(c)}else _w(c);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&$N(c,d)||g==2&&gf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:ei(c,5);break;case 4:ei(c,10);break;case 3:ei(c,6);break;default:ei(c,2)}}}function Ew(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function ei(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let C=!g;g=new Xr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Yc(g,"https"),Zc(g),C?kN(g.toString(),f):LN(g.toString(),f)}else ft(2);c.G=0,c.l&&c.l.sa(d),Tw(c),mw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function Tw(c){if(c.G=0,c.ka=[],c.l){let d=ew(c.h);(d.length!=0||c.i.length!=0)&&(S(c.ka,d),S(c.ka,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.ra()}}function Dw(c,d,f){var g=f instanceof Xr?Cn(f):new Xr(f);if(g.g!="")d&&(g.g=d+"."+g.g),Jc(g,g.s);else{var C=a.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var N=new Xr(null);g&&Yc(N,g),d&&(N.g=d),C&&Jc(N,C),f&&(N.l=f),g=N}return f=c.D,d=c.ya,f&&d&&De(g,f,d),De(g,"VER",c.la),Zo(c,g),g}function bw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new xe(new Ko({eb:f})):new xe(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cw(){}t=Cw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function iu(){}iu.prototype.g=function(c,d){return new bt(c,d)};function bt(c,d){et.call(this),this.g=new gw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!V(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!V(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Ji(this)}D(bt,et),bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bt.prototype.close=function(){pf(this.g)},bt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=tf(c),c=f);d.i.push(new bN(d.Ya++,c)),d.G==3&&nu(d)},bt.prototype.N=function(){this.g.l=null,delete this.j,pf(this.g),delete this.g,bt.aa.N.call(this)};function Sw(c){rf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}D(Sw,rf);function Aw(){sf.call(this),this.status=1}D(Aw,sf);function Ji(c){this.g=c}D(Ji,Cw),Ji.prototype.ua=function(){ht(this.g,"a")},Ji.prototype.ta=function(c){ht(this.g,new Sw(c))},Ji.prototype.sa=function(c){ht(this.g,new Aw)},Ji.prototype.ra=function(){ht(this.g,"b")},iu.prototype.createWebChannel=iu.prototype.g,bt.prototype.send=bt.prototype.o,bt.prototype.open=bt.prototype.m,bt.prototype.close=bt.prototype.close,ov=nr.createWebChannelTransport=function(){return new iu},sv=nr.getStatEventTarget=function(){return Gc()},iv=nr.Event=Jr,$d=nr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wc.NO_ERROR=0,Wc.TIMEOUT=8,Wc.HTTP_ERROR=6,lc=nr.ErrorCode=Wc,HI.COMPLETE="complete",rv=nr.EventType=HI,UI.EventType=jo,jo.OPEN="a",jo.CLOSE="b",jo.ERROR="c",jo.MESSAGE="d",et.prototype.listen=et.prototype.K,io=nr.WebChannel=UI,n$=nr.FetchXmlHttpFactory=Ko,xe.prototype.listenOnce=xe.prototype.L,xe.prototype.getLastError=xe.prototype.Ka,xe.prototype.getLastErrorCode=xe.prototype.Ba,xe.prototype.getStatus=xe.prototype.Z,xe.prototype.getResponseJson=xe.prototype.Oa,xe.prototype.getResponseText=xe.prototype.oa,xe.prototype.send=xe.prototype.ea,xe.prototype.setWithCredentials=xe.prototype.Ha,nv=nr.XhrIo=xe}).apply(typeof Bd<"u"?Bd:typeof self<"u"?self:typeof window<"u"?window:{});var b0="@firebase/firestore";var We=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");var Do="10.14.0";var Fi=new Lr("@firebase/firestore");function dc(){return Fi.logLevel}function j(t,...e){if(Fi.logLevel<=ce.DEBUG){let n=e.map($_);Fi.debug(`Firestore (${Do}): ${t}`,...n)}}function rr(t,...e){if(Fi.logLevel<=ce.ERROR){let n=e.map($_);Fi.error(`Firestore (${Do}): ${t}`,...n)}}function ho(t,...e){if(Fi.logLevel<=ce.WARN){let n=e.map($_);Fi.warn(`Firestore (${Do}): ${t}`,...n)}}function $_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Y(t="Unexpected state"){let e=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: `+t;throw rr(e),new Error(e)}function _e(t,e){t||Y()}function X(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=class extends at{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var en=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Wd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},dv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(We.UNAUTHENTICATED))}shutdown(){}},hv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},fv=class{constructor(e){this.t=e,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_e(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new en;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new en,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new en)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(_e(typeof r.accessToken=="string"),new Wd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return _e(e===null||typeof e=="string"),new We(e)}},pv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=We.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},gv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new pv(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(We.FIRST_PARTY))}shutdown(){}invalidateToken(){}},mv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},yv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){_e(this.o===void 0);let r=s=>{s.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,j("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_e(typeof n.token=="string"),this.R=n.token,new mv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function r$(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Kd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=r$(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function me(t,e){return t<e?-1:t>e?1:0}function fo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Je=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new F(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new F(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new F(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new F(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var te=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Je(0,0))}static max(){return new t(new Je(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Qd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(),r===void 0?r=e.length-n:r>e.length-n&&Y(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ne=class t extends Qd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new F(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},i$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,xt=class t extends Qd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return i$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new F(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new F(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new F(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new F(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var W=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ne.fromString(e))}static fromName(e){return new t(Ne.fromString(e).popFirst(5))}static empty(){return new t(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ne(e.slice()))}};var vv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};vv.UNKNOWN_ID=-1;function s$(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new Je(n+1,0):new Je(n,r));return new Vi(i,W.empty(),e)}function o$(t){return new Vi(t.readTime,t.key,-1)}var Vi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(te.min(),W.empty(),-1)}static max(){return new t(te.max(),W.empty(),-1)}};function a$(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=W.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}var c$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",_v=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function xc(t){return _(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==c$)throw t;j("LocalStore","Unexpectedly lost primary lease")})}var O=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function u$(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pc(t){return t.name==="IndexedDbTransactionError"}var oA=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Sh(t){return t==null}function yc(t){return t===0&&1/t==-1/0}function l$(t){return typeof t=="number"&&Number.isInteger(t)&&!yc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var d$=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],v7=[...d$,"documentOverlays"],h$=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],f$=h$,p$=[...f$,"indexConfiguration","indexState","indexEntries"];var _7=[...p$,"globals"];function C0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hi(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function aA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Oe=class t{constructor(e,n){this.comparator=e,this.root=n||vn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new co(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new co(this.root,e,this.comparator,!1)}getReverseIterator(){return new co(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new co(this.root,e,this.comparator,!0)}},co=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},vn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();let e=this.left.check();if(e!==this.right.check())throw Y();return e+(this.isRed()?0:1)}};vn.EMPTY=null,vn.RED=!0,vn.BLACK=!1;vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(e,n,r,i,s){return this}insert(e,n,r){return new vn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ut=class t{constructor(e){this.comparator=e,this.data=new Oe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yd(this.data.getIterator())}getIteratorFrom(e){return new Yd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Yd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var $t=class t{constructor(e){this.fields=e,e.sort(xt.comparator)}static empty(){return new t([])}unionWith(e){let n=new ut(xt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Jd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var dt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Jd("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};dt.EMPTY_BYTE_STRING=new dt("");var g$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ir(t){if(_e(!!t),typeof t=="string"){let e=0,n=g$.exec(t);if(_e(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ae(t.seconds),nanos:Ae(t.nanos)}}function Ae(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zr(t){return typeof t=="string"?dt.fromBase64String(t):dt.fromUint8Array(t)}function q_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function H_(t){let e=t.mapValue.fields.__previous_value__;return q_(e)?H_(e):e}function vc(t){let e=ir(t.mapValue.fields.__local_write_time__.timestampValue);return new Je(e.seconds,e.nanos)}var Iv=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Zd=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var qd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ui(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?q_(t)?4:uA(t)?9007199254740991:cA(t)?10:11:Y()}function wn(t,e){if(t===e)return!0;let n=Ui(t);if(n!==Ui(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vc(t).isEqual(vc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=ir(i.timestampValue),a=ir(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return zr(i.bytesValue).isEqual(zr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ae(i.geoPointValue.latitude)===Ae(s.geoPointValue.latitude)&&Ae(i.geoPointValue.longitude)===Ae(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ae(i.integerValue)===Ae(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Ae(i.doubleValue),a=Ae(s.doubleValue);return o===a?yc(o)===yc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return fo(t.arrayValue.values||[],e.arrayValue.values||[],wn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(C0(o)!==C0(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!wn(o[u],a[u])))return!1;return!0}(t,e);default:return Y()}}function _c(t,e){return(t.values||[]).find(n=>wn(n,e))!==void 0}function po(t,e){if(t===e)return 0;let n=Ui(t),r=Ui(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Ae(s.integerValue||s.doubleValue),u=Ae(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return S0(t.timestampValue,e.timestampValue);case 4:return S0(vc(t),vc(e));case 5:return me(t.stringValue,e.stringValue);case 6:return function(s,o){let a=zr(s),u=zr(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=me(a[l],u[l]);if(h!==0)return h}return me(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=me(Ae(s.latitude),Ae(o.latitude));return a!==0?a:me(Ae(s.longitude),Ae(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return A0(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,h;let p=s.fields||{},m=o.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,D=(u=m.value)===null||u===void 0?void 0:u.arrayValue,R=me(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=D?.values)===null||h===void 0?void 0:h.length)||0);return R!==0?R:A0(y,D)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===qd.mapValue&&o===qd.mapValue)return 0;if(s===qd.mapValue)return 1;if(o===qd.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=me(u[p],h[p]);if(m!==0)return m;let y=po(a[u[p]],l[h[p]]);if(y!==0)return y}return me(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Y()}}function S0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);let n=ir(t),r=ir(e),i=me(n.seconds,r.seconds);return i!==0?i:me(n.nanos,r.nanos)}function A0(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=po(n[i],r[i]);if(s)return s}return me(n.length,r.length)}function go(t){return wv(t)}function wv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=ir(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return W.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=wv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${wv(n.fields[o])}`;return i+"}"}(t.mapValue):Y()}function R0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ev(t){return!!t&&"integerValue"in t}function z_(t){return!!t&&"arrayValue"in t}function N0(t){return!!t&&"nullValue"in t}function M0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zd(t){return!!t&&"mapValue"in t}function cA(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function fc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Hi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=fc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function uA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Mt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fc(n)}setAll(e){let n=xt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=fc(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());zd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hi(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(fc(this.value))}};function lA(t){let e=[];return Hi(t.fields,(n,r)=>{let i=new xt([n]);if(zd(r)){let s=lA(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new $t(e)}var tn=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,te.min(),te.min(),te.min(),Mt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,te.min(),te.min(),Mt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,te.min(),te.min(),Mt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var mo=class{constructor(e,n){this.position=e,this.inclusive=n}};function x0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=W.comparator(W.fromName(o.referenceValue),n.key):r=po(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function P0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wn(t.position[n],e.position[n]))return!1;return!0}var ji=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function m$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Xd=class{},Be=class t extends Xd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Dv(e,n,r):n==="array-contains"?new Sv(e,r):n==="in"?new Av(e,r):n==="not-in"?new Rv(e,r):n==="array-contains-any"?new Nv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new bv(e,r):new Cv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(po(n,this.value)):n!==null&&Ui(this.value)===Ui(n)&&this.matchesComparison(po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},nn=class t extends Xd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return dA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function dA(t){return t.op==="and"}function hA(t){return y$(t)&&dA(t)}function y$(t){for(let e of t.filters)if(e instanceof nn)return!1;return!0}function Tv(t){if(t instanceof Be)return t.field.canonicalString()+t.op.toString()+go(t.value);if(hA(t))return t.filters.map(e=>Tv(e)).join(",");{let e=t.filters.map(n=>Tv(n)).join(",");return`${t.op}(${e})`}}function fA(t,e){return t instanceof Be?function(r,i){return i instanceof Be&&r.op===i.op&&r.field.isEqual(i.field)&&wn(r.value,i.value)}(t,e):t instanceof nn?function(r,i){return i instanceof nn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&fA(o,i.filters[a]),!0):!1}(t,e):void Y()}function pA(t){return t instanceof Be?function(n){return`${n.field.canonicalString()} ${n.op} ${go(n.value)}`}(t):t instanceof nn?function(n){return n.op.toString()+" {"+n.getFilters().map(pA).join(" ,")+"}"}(t):"Filter"}var Dv=class extends Be{constructor(e,n,r){super(e,n,r),this.key=W.fromName(r.referenceValue)}matches(e){let n=W.comparator(e.key,this.key);return this.matchesComparison(n)}},bv=class extends Be{constructor(e,n){super(e,"in",n),this.keys=gA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Cv=class extends Be{constructor(e,n){super(e,"not-in",n),this.keys=gA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function gA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>W.fromName(r.referenceValue))}var Sv=class extends Be{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return z_(n)&&_c(n.arrayValue,this.value)}},Av=class extends Be{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&_c(this.value.arrayValue,n)}},Rv=class extends Be{constructor(e,n){super(e,"not-in",n)}matches(e){if(_c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!_c(this.value.arrayValue,n)}},Nv=class extends Be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!z_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_c(this.value.arrayValue,r))}};var Mv=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function O0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Mv(t,e,n,r,i,s,o)}function G_(t){let e=X(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Tv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Sh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>go(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>go(r)).join(",")),e.ue=n}return e.ue}function W_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!m$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!P0(t.startAt,e.startAt)&&P0(t.endAt,e.endAt)}function xv(t){return W.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Gr=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function v$(t,e,n,r,i,s,o,a){return new Gr(t,e,n,r,i,s,o,a)}function Ah(t){return new Gr(t)}function k0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mA(t){return t.collectionGroup!==null}function pc(t){let e=X(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ut(xt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ji(s,r))}),n.has(xt.keyField().canonicalString())||e.ce.push(new ji(xt.keyField(),r))}return e.ce}function _n(t){let e=X(t);return e.le||(e.le=_$(e,pc(t))),e.le}function _$(t,e){if(t.limitType==="F")return O0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new ji(i.field,s)});let n=t.endAt?new mo(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new mo(t.startAt.position,t.startAt.inclusive):null;return O0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Pv(t,e){let n=t.filters.concat([e]);return new Gr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ov(t,e,n){return new Gr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rh(t,e){return W_(_n(t),_n(e))&&t.limitType===e.limitType}function yA(t){return`${G_(_n(t))}|lt:${t.limitType}`}function so(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>pA(i)).join(", ")}]`),Sh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>go(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>go(i)).join(",")),`Target(${r})`}(_n(t))}; limitType=${t.limitType})`}function Nh(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):W.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of pc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=x0(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,pc(r),i)||r.endAt&&!function(o,a,u){let l=x0(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,pc(r),i))}(t,e)}function I$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vA(t){return(e,n)=>{let r=!1;for(let i of pc(t)){let s=w$(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function w$(t,e,n){let r=t.field.isKeyField()?W.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?po(u,l):Y()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}var Wr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hi(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return aA(this.inner)}size(){return this.innerSize}};var E$=new Oe(W.comparator);function sr(){return E$}var _A=new Oe(W.comparator);function hc(...t){let e=_A;for(let n of t)e=e.insert(n.key,n);return e}function IA(t){let e=_A;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Oi(){return gc()}function wA(){return gc()}function gc(){return new Wr(t=>t.toString(),(t,e)=>t.isEqual(e))}var T$=new Oe(W.comparator),D$=new ut(W.comparator);function le(...t){let e=D$;for(let n of t)e=e.add(n);return e}var b$=new ut(me);function C$(){return b$}function K_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yc(e)?"-0":e}}function EA(t){return{integerValue:""+t}}function S$(t,e){return l$(e)?EA(e):K_(t,e)}var yo=class{constructor(){this._=void 0}};function A$(t,e,n){return t instanceof vo?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&q_(s)&&(s=H_(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Bi?DA(t,e):t instanceof $i?bA(t,e):function(i,s){let o=TA(i,s),a=L0(o)+L0(i.Pe);return Ev(o)&&Ev(i.Pe)?EA(a):K_(i.serializer,a)}(t,e)}function R$(t,e,n){return t instanceof Bi?DA(t,e):t instanceof $i?bA(t,e):n}function TA(t,e){return t instanceof _o?function(r){return Ev(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var vo=class extends yo{},Bi=class extends yo{constructor(e){super(),this.elements=e}};function DA(t,e){let n=CA(e);for(let r of t.elements)n.some(i=>wn(i,r))||n.push(r);return{arrayValue:{values:n}}}var $i=class extends yo{constructor(e){super(),this.elements=e}};function bA(t,e){let n=CA(e);for(let r of t.elements)n=n.filter(i=>!wn(i,r));return{arrayValue:{values:n}}}var _o=class extends yo{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function L0(t){return Ae(t.integerValue||t.doubleValue)}function CA(t){return z_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function N$(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Bi&&i instanceof Bi||r instanceof $i&&i instanceof $i?fo(r.elements,i.elements,wn):r instanceof _o&&i instanceof _o?wn(r.Pe,i.Pe):r instanceof vo&&i instanceof vo}(t.transform,e.transform)}var kv=class{constructor(e,n){this.version=e,this.transformResults=n}},qr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Gd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Io=class{};function SA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new eh(t.key,qr.none()):new qi(t.key,t.data,qr.none());{let n=t.data,r=Mt.empty(),i=new ut(xt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new En(t.key,r,new $t(i.toArray()),qr.none())}}function M$(t,e,n){t instanceof qi?function(i,s,o){let a=i.value.clone(),u=V0(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof En?function(i,s,o){if(!Gd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=V0(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(AA(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function mc(t,e,n,r){return t instanceof qi?function(s,o,a,u){if(!Gd(s.precondition,o))return a;let l=s.value.clone(),h=U0(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof En?function(s,o,a,u){if(!Gd(s.precondition,o))return a;let l=U0(s.fieldTransforms,u,o),h=o.data;return h.setAll(AA(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return Gd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function x$(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=TA(r.transform,i||null);s!=null&&(n===null&&(n=Mt.empty()),n.set(r.field,s))}return n||null}function F0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&fo(r,i,(s,o)=>N$(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var qi=class extends Io{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},En=class extends Io{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function AA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function V0(t,e,n){let r=new Map;_e(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,R$(o,a,n[i]))}return r}function U0(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,A$(s,o,e))}return r}var eh=class extends Io{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Lv=class extends Io{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Fv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&M$(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=mc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=mc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=wA();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=SA(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),le())}isEqual(e){return this.batchId===e.batchId&&fo(this.mutations,e.mutations,(n,r)=>F0(n,r))&&fo(this.baseMutations,e.baseMutations,(n,r)=>F0(n,r))}},Vv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){_e(e.mutations.length===r.length);let i=function(){return T$}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var Uv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var jv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ue,fe;function P$(t){switch(t){default:return Y();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function RA(t){if(t===void 0)return rr("GRPC error has no .code"),M.UNKNOWN;switch(t){case Ue.OK:return M.OK;case Ue.CANCELLED:return M.CANCELLED;case Ue.UNKNOWN:return M.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return M.INTERNAL;case Ue.UNAVAILABLE:return M.UNAVAILABLE;case Ue.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Ue.NOT_FOUND:return M.NOT_FOUND;case Ue.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Ue.ABORTED:return M.ABORTED;case Ue.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Ue.DATA_LOSS:return M.DATA_LOSS;default:return Y()}}(fe=Ue||(Ue={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";var j0=null;function O$(){return new TextEncoder}var k$=new $r([4294967295,4294967295],0);function B0(t){let e=O$().encode(t),n=new tv;return n.update(e),new Uint8Array(n.digest())}function $0(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new $r([n,r],0),new $r([i,s],0)]}var Bv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ki(`Invalid padding: ${n}`);if(r<0)throw new ki(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ki(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ki(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=$r.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply($r.fromNumber(r)));return i.compare(k$)===1&&(i=new $r([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=B0(e),[r,i]=$0(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=B0(e),[r,i]=$0(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},ki=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var th=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ic.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(te.min(),i,new Oe(me),sr(),le())}},Ic=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,le(),le(),le())}};var uo=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},nh=class{constructor(e,n){this.targetId=e,this.me=n}},rh=class{constructor(e,n,r=dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},ih=class{constructor(){this.fe=0,this.ge=H0(),this.pe=dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=le(),n=le(),r=le();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y()}}),new Ic(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=H0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,_e(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},$v=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=sr(),this.qe=q0(),this.Qe=new Oe(me)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Y()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(xv(s))if(r===0){let o=new W(s.path);this.Ue(n,o,tn.newNoDocument(o,te.min()))}else _e(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}j0?.et(function(h,p,m,y,D){var R,S,P,V,k,B;let ae={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},z=p.unchangedNames;return z&&(ae.bloomFilter={applied:D===0,hashCount:(R=z?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(V=(P=(S=z?.bits)===null||S===void 0?void 0:S.bitmap)===null||P===void 0?void 0:P.length)!==null&&V!==void 0?V:0,padding:(B=(k=z?.bits)===null||k===void 0?void 0:k.padding)!==null&&B!==void 0?B:0,mightContain:E=>{var v;return(v=y?.mightContain(E))!==null&&v!==void 0&&v}}),ae}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=zr(r).toUint8Array()}catch(u){if(u instanceof Jd)return ho("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Bv(o,i,s)}catch(u){return ho(u instanceof ki?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&xv(a.target)){let u=new W(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,tn.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=le();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new th(e,n,this.Qe,this.ke,r);return this.ke=sr(),this.qe=q0(),this.Qe=new Oe(me),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new ih,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ut(me),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ih),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function q0(){return new Oe(W.comparator)}function H0(){return new Oe(W.comparator)}var L$={asc:"ASCENDING",desc:"DESCENDING"},F$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V$={and:"AND",or:"OR"},qv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Hv(t,e){return t.useProto3Json||Sh(e)?e:{value:e}}function sh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function U$(t,e){return sh(t,e.toTimestamp())}function In(t){return _e(!!t),te.fromTimestamp(function(n){let r=ir(n);return new Je(r.seconds,r.nanos)}(t))}function Q_(t,e){return zv(t,e).canonicalString()}function zv(t,e){let n=function(i){return new Ne(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function MA(t){let e=Ne.fromString(t);return _e(LA(e)),e}function Gv(t,e){return Q_(t.databaseId,e.path)}function av(t,e){let n=MA(e);if(n.get(1)!==t.databaseId.projectId)throw new F(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new F(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new W(PA(n))}function xA(t,e){return Q_(t.databaseId,e)}function j$(t){let e=MA(t);return e.length===4?Ne.emptyPath():PA(e)}function Wv(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PA(t){return _e(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function z0(t,e,n){return{name:Gv(t,e),fields:n.value.mapValue.fields}}function B$(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Y()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(_e(h===void 0||typeof h=="string"),dt.fromBase64String(h||"")):(_e(h===void 0||h instanceof Buffer||h instanceof Uint8Array),dt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let h=l.code===void 0?M.UNKNOWN:RA(l.code);return new F(h,l.message||"")}(o);n=new rh(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=av(t,r.document.name),s=In(r.document.updateTime),o=r.document.createTime?In(r.document.createTime):te.min(),a=new Mt({mapValue:{fields:r.document.fields}}),u=tn.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new uo(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=av(t,r.document),s=r.readTime?In(r.readTime):te.min(),o=tn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new uo([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=av(t,r.document),s=r.removedTargetIds||[];n=new uo([],s,i,null)}else{if(!("filter"in e))return Y();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new jv(i,s),a=r.targetId;n=new nh(a,o)}}return n}function $$(t,e){let n;if(e instanceof qi)n={update:z0(t,e.key,e.value)};else if(e instanceof eh)n={delete:Gv(t,e.key)};else if(e instanceof En)n={update:z0(t,e.key,e.data),updateMask:J$(e.fieldMask)};else{if(!(e instanceof Lv))return Y();n={verify:Gv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof vo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Bi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof $i)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof _o)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Y()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:U$(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Y()}(t,e.precondition)),n}function q$(t,e){return t&&t.length>0?(_e(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?In(i.updateTime):In(s);return o.isEqual(te.min())&&(o=In(s)),new kv(o,i.transformResults||[])}(n,e))):[]}function H$(t,e){return{documents:[xA(t,e.path)]}}function z$(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xA(t,i);let s=function(l){if(l.length!==0)return kA(nn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:oo(m.field),direction:K$(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=Hv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function G$(t){let e=j$(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){_e(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let m=OA(p);return m instanceof nn&&hA(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(D){return new ji(ao(D.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Sh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new mo(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new mo(y,m)}(n.endAt)),v$(e,i,o,s,a,"F",u,l)}function W$(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ao(n.unaryFilter.field);return Be.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ao(n.unaryFilter.field);return Be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=ao(n.unaryFilter.field);return Be.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=ao(n.unaryFilter.field);return Be.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(t):t.fieldFilter!==void 0?function(n){return Be.create(ao(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return nn.create(n.compositeFilter.filters.map(r=>OA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y()}}(n.compositeFilter.op))}(t):Y()}function K$(t){return L$[t]}function Q$(t){return F$[t]}function Y$(t){return V$[t]}function oo(t){return{fieldPath:t.canonicalString()}}function ao(t){return xt.fromServerFormat(t.fieldPath)}function kA(t){return t instanceof Be?function(n){if(n.op==="=="){if(M0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NAN"}};if(N0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(M0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NAN"}};if(N0(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(n.field),op:Q$(n.op),value:n.value}}}(t):t instanceof nn?function(n){let r=n.getFilters().map(i=>kA(i));return r.length===1?r[0]:{compositeFilter:{op:Y$(n.op),filters:r}}}(t):Y()}function J$(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function LA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var wc=class t{constructor(e,n,r,i,s=te.min(),o=te.min(),a=dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Kv=class{constructor(e){this.ct=e}};function Z$(t){let e=G$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ov(e,e.limit,"L"):e}var oh=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ae(e.integerValue));else if("doubleValue"in e){let r=Ae(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),yc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=ir(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(zr(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?uA(e)?this.dt(n,Number.MAX_SAFE_INTEGER):cA(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Y()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Ae(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),W.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};oh.vt=new oh;var Qv=class{constructor(){this.un=new Yv}addToCollectionParentIndex(e,n){return this.un.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(Vi.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(Vi.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}},Yv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ut(Ne.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ut(Ne.comparator)).toArray()}};var w7=new Uint8Array(0);var yn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(41943040,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);var Ec=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Jv=class{constructor(){this.changes=new Wr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Zv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Xv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&mc(r.mutation,i,$t.empty(),Je.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,le()).next(()=>r))}getLocalViewOfDocuments(e,n,r=le()){let i=Oi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=hc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Oi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,le()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=sr(),o=gc(),a=function(){return gc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof En)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),mc(h.mutation,l,h.mutation.getFieldMask(),Je.now())):o.set(l.key,$t.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Zv(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=gc(),i=new Oe((o,a)=>o-a),s=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||$t.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||le()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=wA();h.forEach(m=>{if(!s.has(m)){let y=SA(n.get(m),r.get(m));y!==null&&p.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return O.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return W.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):O.resolve(Oi()),a=-1,u=s;return o.next(l=>O.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?O.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,le())).next(h=>({batchId:a,changes:IA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new W(n)).next(r=>{let i=hc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=hc();return this.indexManager.getCollectionParents(e,s).next(a=>O.forEach(a,u=>{let l=function(p,m){return new Gr(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,tn.newInvalidDocument(h)))});let a=hc();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&mc(h.mutation,l,$t.empty(),Je.now()),Nh(n,l)&&(a=a.insert(u,l))}),a})}};var e_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return O.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:In(i.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Z$(i.bundledQuery),readTime:In(i.readTime)}}(n)),O.resolve()}};var t_=class{constructor(){this.overlays=new Oe(W.comparator),this.Ir=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Oi();return O.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),O.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){let i=Oi(),s=n.length+1,o=new W(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Oe((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=Oi(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Oi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return O.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Uv(n,r));let s=this.Ir.get(n);s===void 0&&(s=le(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var n_=class{constructor(){this.sessionToken=dt.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,O.resolve()}};var Tc=class{constructor(){this.Tr=new ut(je.Er),this.dr=new ut(je.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new je(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new je(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new W(new Ne([])),r=new je(n,e),i=new je(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new W(new Ne([])),r=new je(n,e),i=new je(n,e+1),s=le();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new je(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},je=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return W.comparator(e.key,n.key)||me(e.wr,n.wr)}static Ar(e,n){return me(e.wr,n.wr)||W.comparator(e.key,n.key)}};var r_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ut(je.Er)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Fv(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new je(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(o)}lookupMutationBatch(e,n){return O.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return O.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new je(n,0),i=new je(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),O.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ut(me);return n.forEach(i=>{let s=new je(i,0),o=new je(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),O.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;W.isDocumentKey(s)||(s=s.child(""));let o=new je(new W(s),0),a=new ut(me);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),O.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){_e(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return O.forEach(n.mutations,i=>{let s=new je(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new je(n,0),i=this.br.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var i_=class{constructor(e){this.Mr=e,this.docs=function(){return new Oe(W.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let r=sr();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():tn.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=sr(),o=n.path,a=new W(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||a$(o$(h),r)<=0||(i.has(h.key)||Nh(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return O.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Y()}Or(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new s_(this)}getSize(e){return O.resolve(this.size)}},s_=class extends Jv{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var o_=class{constructor(e){this.persistence=e,this.Nr=new Wr(n=>G_(n),W_),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Tc,this.targetCount=0,this.kr=Ec.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),O.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Ec(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Kn(n),O.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(s).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),O.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),O.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Br.containsKey(n))}};var a_=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new oA(0),this.Kr=!1,this.Kr=!0,this.$r=new n_,this.referenceDelegate=e(this),this.Ur=new o_(this),this.indexManager=new Qv,this.remoteDocumentCache=function(i){return new i_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Kv(n),this.Gr=new e_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new t_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new r_(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);let i=new c_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return O.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},c_=class extends _v{constructor(e){super(),this.currentSequenceNumber=e}},u_=class t{constructor(e){this.persistence=e,this.Jr=new Tc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw Y()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),O.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Xr,r=>{let i=W.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return O.or([()=>O.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var l_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=le(),i=le();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var d_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var h_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return iS()?8:u$(Ge())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new d_;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(dc()<=ce.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",so(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),O.resolve()):(dc()<=ce.DEBUG&&j("QueryEngine","Query:",so(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(dc()<=ce.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",so(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_n(n))):O.resolve())}Yi(e,n){if(k0(n))return O.resolve(null);let r=_n(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ov(n,null,"F"),r=_n(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=le(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,Ov(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return k0(n)||i.isEqual(te.min())?O.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?O.resolve(null):(dc()<=ce.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),so(n)),this.rs(e,o,n,s$(i,-1)).next(a=>a))})}ts(e,n){let r=new ut(vA(e));return n.forEach((i,s)=>{Nh(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return dc()<=ce.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",so(n)),this.Ji.getDocumentsMatchingQuery(e,n,Vi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var f_=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Oe(me),this._s=new Wr(s=>G_(s),W_),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function X$(t,e,n,r){return new f_(t,e,n,r)}function FA(t,e){return _(this,null,function*(){let n=X(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=le();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function eq(t,e){let n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=O.resolve();return m.forEach(D=>{y=y.next(()=>h.getEntry(u,D)).next(R=>{let S=l.docVersions.get(D);_e(S!==null),R.version.compareTo(S)<0&&(p.applyToRemoteDocument(R,l),R.isValidDocument()&&(R.setReadTime(l.commitVersion),h.addEntry(R)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=le();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function VA(t){let e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function tq(t,e){let n=X(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(dt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(R,S,P){return R.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(m,y,h)&&a.push(n.Ur.updateTargetData(s,y))});let u=sr(),l=le();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(nq(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(te.min())){let h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return O.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function nq(t,e,n){let r=le(),i=le();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=sr();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function rq(t,e){let n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function iq(t,e){let n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,O.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new wc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function p_(t,e,n){return _(this,null,function*(){let r=X(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Pc(o))throw o;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function G0(t,e,n){let r=X(t),i=te.min(),s=le();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=X(u),m=p._s.get(h);return m!==void 0?O.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,o,_n(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:le())).next(a=>(sq(r,I$(e),a),{documents:a,Ts:s})))}function sq(t,e,n){let r=t.us.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var ah=class{constructor(){this.activeTargetIds=C$()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var g_=class{constructor(){this.so=new ah,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ah,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var m_=class{_o(e){}shutdown(){}};var ch=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Hd=null;function cv(){return Hd===null?Hd=function(){return 268435456+Math.round(2147483648*Math.random())}():Hd++,"0x"+Hd.toString(16)}var oq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var y_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var ct="WebChannelConnection",v_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=cv(),u=this.xo(n,r.toUriEncodedString());j("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(h=>(j("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw ho("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Do}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=oq[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=cv();return new Promise((o,a)=>{let u=new nv;u.setWithCredentials(!0),u.listenOnce(rv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case lc.NO_ERROR:let h=u.getResponseJson();j(ct,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case lc.TIMEOUT:j(ct,`RPC '${e}' ${s} timed out`),a(new F(M.DEADLINE_EXCEEDED,"Request time out"));break;case lc.HTTP_ERROR:let p=u.getStatus();if(j(ct,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let D=function(S){let P=S.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(P)>=0?P:M.UNKNOWN}(y.status);a(new F(D,y.message))}else a(new F(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new F(M.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{j(ct,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);j(ct,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=cv(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ov(),a=sv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=s.join("");j(ct,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),m=!1,y=!1,D=new y_({Io:S=>{y?j(ct,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(m||(j(ct,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),j(ct,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},To:()=>p.close()}),R=(S,P,V)=>{S.listen(P,k=>{try{V(k)}catch(B){setTimeout(()=>{throw B},0)}})};return R(p,io.EventType.OPEN,()=>{y||(j(ct,`RPC '${e}' stream ${i} transport opened.`),D.yo())}),R(p,io.EventType.CLOSE,()=>{y||(y=!0,j(ct,`RPC '${e}' stream ${i} transport closed`),D.So())}),R(p,io.EventType.ERROR,S=>{y||(y=!0,ho(ct,`RPC '${e}' stream ${i} transport errored:`,S),D.So(new F(M.UNAVAILABLE,"The operation could not be completed")))}),R(p,io.EventType.MESSAGE,S=>{var P;if(!y){let V=S.data[0];_e(!!V);let k=V,B=k.error||((P=k[0])===null||P===void 0?void 0:P.error);if(B){j(ct,`RPC '${e}' stream ${i} received error:`,B);let ae=B.status,z=function(I){let T=Ue[I];if(T!==void 0)return RA(T)}(ae),E=B.message;z===void 0&&(z=M.INTERNAL,E="Unknown error status: "+ae+" with message "+B.message),y=!0,D.So(new F(z,E)),p.close()}else j(ct,`RPC '${e}' stream ${i} received:`,V),D.bo(V)}}),R(a,iv.STAT_EVENT,S=>{S.stat===$d.PROXY?j(ct,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===$d.NOPROXY&&j(ct,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.wo()},0),D}};function uv(){return typeof document<"u"?document:null}function Mh(t){return new qv(t,!0)}var uh=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var lh=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new uh(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return _(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return _(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return _(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(rr(n.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new F(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>_(this,null,function*(){this.state=0,this.start()}))}I_(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},__=class extends lh{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=B$(this.serializer,e),r=function(s){if(!("targetChange"in s))return te.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?In(o.readTime):te.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=Wv(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=xv(u)?{documents:H$(s,u)}:{query:z$(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=NA(s,o.resumeToken);let l=Hv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=sh(s,o.snapshotVersion.toTimestamp());let l=Hv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=W$(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=Wv(this.serializer),n.removeTarget=e,this.a_(n)}},I_=class extends lh{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return _e(!!e.streamToken),this.lastStreamToken=e.streamToken,_e(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){_e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=q$(e.writeResults,e.commitTime),r=In(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Wv(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>$$(this.serializer,r))};this.a_(n)}};var w_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new F(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,zv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new F(M.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,zv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new F(M.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},E_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(rr(n),this.D_=!1):j("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var T_=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>_(this,null,function*(){zi(this)&&(j("RemoteStore","Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=X(u);l.L_.add(4),yield Oc(l),l.q_.set("Unknown"),l.L_.delete(4),yield xh(l)})}(this))}))}),this.q_=new E_(r,i)}};function xh(t){return _(this,null,function*(){if(zi(t))for(let e of t.B_)yield e(!0)})}function Oc(t){return _(this,null,function*(){for(let e of t.B_)yield e(!1)})}function UA(t,e){let n=X(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),X_(n)?Z_(n):bo(n).r_()&&J_(n,e))}function Y_(t,e){let n=X(t),r=bo(n);n.N_.delete(e),r.r_()&&jA(n,e),n.N_.size===0&&(r.r_()?r.o_():zi(n)&&n.q_.set("Unknown"))}function J_(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}bo(t).A_(e)}function jA(t,e){t.Q_.xe(e),bo(t).R_(e)}function Z_(t){t.Q_=new $v({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),bo(t).start(),t.q_.v_()}function X_(t){return zi(t)&&!bo(t).n_()&&t.N_.size>0}function zi(t){return X(t).L_.size===0}function BA(t){t.Q_=void 0}function aq(t){return _(this,null,function*(){t.q_.set("Online")})}function cq(t){return _(this,null,function*(){t.N_.forEach((e,n)=>{J_(t,e)})})}function uq(t,e){return _(this,null,function*(){BA(t),X_(t)?(t.q_.M_(e),Z_(t)):t.q_.set("Unknown")})}function lq(t,e,n){return _(this,null,function*(){if(t.q_.set("Online"),e instanceof rh&&e.state===2&&e.cause)try{yield function(i,s){return _(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield dh(t,r)}else if(e instanceof uo?t.Q_.Ke(e):e instanceof nh?t.Q_.He(e):t.Q_.We(e),!n.isEqual(te.min()))try{let r=yield VA(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(dt.EMPTY_BYTE_STRING,h.snapshotVersion)),jA(s,u);let p=new wc(h.target,u,l,h.sequenceNumber);J_(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){j("RemoteStore","Failed to raise snapshot:",r),yield dh(t,r)}})}function dh(t,e,n){return _(this,null,function*(){if(!Pc(e))throw e;t.L_.add(1),yield Oc(t),t.q_.set("Offline"),n||(n=()=>VA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(this,null,function*(){j("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield xh(t)}))})}function $A(t,e){return e().catch(n=>dh(t,n,e))}function Ph(t){return _(this,null,function*(){let e=X(t),n=Kr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;dq(e);)try{let i=yield rq(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,hq(e,i)}catch(i){yield dh(e,i)}qA(e)&&HA(e)})}function dq(t){return zi(t)&&t.O_.length<10}function hq(t,e){t.O_.push(e);let n=Kr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function qA(t){return zi(t)&&!Kr(t).n_()&&t.O_.length>0}function HA(t){Kr(t).start()}function fq(t){return _(this,null,function*(){Kr(t).p_()})}function pq(t){return _(this,null,function*(){let e=Kr(t);for(let n of t.O_)e.m_(n.mutations)})}function gq(t,e,n){return _(this,null,function*(){let r=t.O_.shift(),i=Vv.from(r,e,n);yield $A(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Ph(t)})}function mq(t,e){return _(this,null,function*(){e&&Kr(t).V_&&(yield function(r,i){return _(this,null,function*(){if(function(o){return P$(o)&&o!==M.ABORTED}(i.code)){let s=r.O_.shift();Kr(r).s_(),yield $A(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Ph(r)}})}(t,e)),qA(t)&&HA(t)})}function W0(t,e){return _(this,null,function*(){let n=X(t);n.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");let r=zi(n);n.L_.add(3),yield Oc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield xh(n)})}function yq(t,e){return _(this,null,function*(){let n=X(t);e?(n.L_.delete(2),yield xh(n)):e||(n.L_.add(2),yield Oc(n),n.q_.set("Unknown"))})}function bo(t){return t.K_||(t.K_=function(n,r,i){let s=X(n);return s.w_(),new __(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:aq.bind(null,t),Ro:cq.bind(null,t),mo:uq.bind(null,t),d_:lq.bind(null,t)}),t.B_.push(e=>_(this,null,function*(){e?(t.K_.s_(),X_(t)?Z_(t):t.q_.set("Unknown")):(yield t.K_.stop(),BA(t))}))),t.K_}function Kr(t){return t.U_||(t.U_=function(n,r,i){let s=X(n);return s.w_(),new I_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:fq.bind(null,t),mo:mq.bind(null,t),f_:pq.bind(null,t),g_:gq.bind(null,t)}),t.B_.push(e=>_(this,null,function*(){e?(t.U_.s_(),yield Ph(t)):(yield t.U_.stop(),t.O_.length>0&&(j("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var D_=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new en,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function eI(t,e){if(rr("AsyncQueue",`${e}: ${t}`),Pc(t))return new F(M.UNAVAILABLE,`${e}: ${t}`);throw t}var hh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||W.comparator(n.key,r.key):(n,r)=>W.comparator(n.key,r.key),this.keyedMap=hc(),this.sortedSet=new Oe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var fh=class{constructor(){this.W_=new Oe(W.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Y():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},wo=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,hh.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var b_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},C_=class{constructor(){this.queries=K0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=X(n),s=i.queries;i.queries=K0(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new F(M.ABORTED,"Firestore shutting down"))}};function K0(){return new Wr(t=>yA(t),Rh)}function tI(t,e){return _(this,null,function*(){let n=X(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new b_,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=eI(o,`Initialization of query '${so(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&rI(n)})}function nI(t,e){return _(this,null,function*(){let n=X(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function vq(t,e){let n=X(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&rI(n)}function _q(t,e,n){let r=X(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function rI(t){t.Y_.forEach(e=>{e.next()})}var S_,Q0;(Q0=S_||(S_={})).ea="default",Q0.Cache="cache";var Dc=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new wo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==S_.Cache}};var ph=class{constructor(e){this.key=e}},gh=class{constructor(e){this.key=e}},A_=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=le(),this.mutatedKeys=le(),this.Aa=vA(e),this.Ra=new hh(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new fh,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Nh(this.query,p)?p:null,D=!!m&&this.mutatedKeys.has(m.key),R=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),S=!1;m&&y?m.data.isEqual(y.data)?D!==R&&(r.track({type:3,doc:y}),S=!0):this.ga(m,y)||(r.track({type:2,doc:y}),S=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),S=!0):m&&!y&&(r.track({type:1,doc:m}),S=!0,(u||l)&&(a=!0)),S&&(y?(o=o.add(y),s=R?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(y,D){let R=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return R(y)-R(D)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new wo(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new fh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=le(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new gh(r))}),this.da.forEach(r=>{e.has(r)||n.push(new ph(r))}),n}ba(e){this.Ta=e.Ts,this.da=le();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return wo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},R_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},N_=class{constructor(e){this.key=e,this.va=!1}},M_=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Wr(a=>yA(a),Rh),this.Ma=new Map,this.xa=new Set,this.Oa=new Oe(W.comparator),this.Na=new Map,this.La=new Tc,this.Ba={},this.ka=new Map,this.qa=Ec.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function Iq(t,e,n=!0){return _(this,null,function*(){let r=YA(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield zA(r,e,n,!0),i})}function wq(t,e){return _(this,null,function*(){let n=YA(t);yield zA(n,e,!0,!1)})}function zA(t,e,n,r){return _(this,null,function*(){let i=yield iq(t.localStore,_n(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return r&&(a=yield Eq(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&UA(t.remoteStore,i),a})}function Eq(t,e,n,r,i){return _(this,null,function*(){t.Ka=(p,m,y)=>function(R,S,P,V){return _(this,null,function*(){let k=S.view.ma(P);k.ns&&(k=yield G0(R.localStore,S.query,!1).then(({documents:E})=>S.view.ma(E,k)));let B=V&&V.targetChanges.get(S.targetId),ae=V&&V.targetMismatches.get(S.targetId)!=null,z=S.view.applyChanges(k,R.isPrimaryClient,B,ae);return J0(R,S.targetId,z.wa),z.snapshot})}(t,p,m,y);let s=yield G0(t.localStore,e,!0),o=new A_(e,s.Ts),a=o.ma(s.documents),u=Ic.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);J0(t,n,l.wa);let h=new R_(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function Tq(t,e,n){return _(this,null,function*(){let r=X(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Rh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield p_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Y_(r.remoteStore,i.targetId),x_(r,i.targetId)}).catch(xc))):(x_(r,i.targetId),yield p_(r.localStore,i.targetId,!0))})}function Dq(t,e){return _(this,null,function*(){let n=X(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Y_(n.remoteStore,r.targetId))})}function bq(t,e,n){return _(this,null,function*(){let r=xq(t);try{let i=yield function(o,a){let u=X(o),l=Je.now(),h=a.reduce((y,D)=>y.add(D.key),le()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let D=sr(),R=le();return u.cs.getEntries(y,h).next(S=>{D=S,D.forEach((P,V)=>{V.isValidDocument()||(R=R.add(P))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,D)).next(S=>{p=S;let P=[];for(let V of a){let k=x$(V,p.get(V.key).overlayedDocument);k!=null&&P.push(new En(V.key,k,lA(k.value.mapValue),qr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,P,a)}).next(S=>{m=S;let P=S.applyToLocalDocumentSet(p,R);return u.documentOverlayCache.saveOverlays(y,S.batchId,P)})}).then(()=>({batchId:m.batchId,changes:IA(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Oe(me)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield kc(r,i.changes),yield Ph(r.remoteStore)}catch(i){let s=eI(i,"Failed to persist write");n.reject(s)}})}function GA(t,e){return _(this,null,function*(){let n=X(t);try{let r=yield tq(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(_e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?_e(o.va):i.removedDocuments.size>0&&(_e(o.va),o.va=!1))}),yield kc(n,r,e)}catch(r){yield xc(r)}})}function Y0(t,e,n){let r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=X(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&rI(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Cq(t,e,n){return _(this,null,function*(){let r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Oe(W.comparator);o=o.insert(s,tn.newNoDocument(s,te.min()));let a=le().add(s),u=new th(te.min(),new Map,new Oe(me),o,a);yield GA(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),iI(r)}else yield p_(r.localStore,e,!1).then(()=>x_(r,e,n)).catch(xc)})}function Sq(t,e){return _(this,null,function*(){let n=X(t),r=e.batch.batchId;try{let i=yield eq(n.localStore,e);KA(n,r,null),WA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield kc(n,i)}catch(i){yield xc(i)}})}function Aq(t,e,n){return _(this,null,function*(){let r=X(t);try{let i=yield function(o,a){let u=X(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(_e(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);KA(r,e,n),WA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield kc(r,i)}catch(i){yield xc(i)}})}function WA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function KA(t,e,n){let r=X(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function x_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||QA(t,r)})}function QA(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(Y_(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),iI(t))}function J0(t,e,n){for(let r of n)r instanceof ph?(t.La.addReference(r.key,e),Rq(t,r)):r instanceof gh?(j("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||QA(t,r.key)):Y()}function Rq(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(j("SyncEngine","New document in limbo: "+n),t.xa.add(r),iI(t))}function iI(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new W(Ne.fromString(e)),r=t.qa.next();t.Na.set(r,new N_(n)),t.Oa=t.Oa.insert(n,r),UA(t.remoteStore,new wc(_n(Ah(n.path)),r,"TargetPurposeLimboResolution",oA.oe))}}function kc(t,e,n){return _(this,null,function*(){let r=X(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=l_.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return _(this,null,function*(){let h=X(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>O.forEach(l,m=>O.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>O.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Pc(p))throw p;j("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.os.get(m),D=y.snapshotVersion,R=y.withLastLimboFreeSnapshotVersion(D);h.os=h.os.insert(m,R)}}})}(r.localStore,s))})}function Nq(t,e){return _(this,null,function*(){let n=X(t);if(!n.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());let r=yield FA(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new F(M.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield kc(n,r.hs)}})}function Mq(t,e){let n=X(t),r=n.Na.get(e);if(r&&r.va)return le().add(r.key);{let i=le(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function YA(t){let e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=GA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cq.bind(null,e),e.Ca.d_=vq.bind(null,e.eventManager),e.Ca.$a=_q.bind(null,e.eventManager),e}function xq(t){let e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Sq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Aq.bind(null,e),e}var Z0=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return _(this,null,function*(){this.serializer=Mh(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return X$(this.persistence,new h_,n.initialUser,this.serializer)}Ga(n){return new a_(u_.Zr,this.serializer)}Wa(n){return new g_}terminate(){return _(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var Pq=(()=>{class t{initialize(n,r){return _(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Y0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Nq.bind(null,this.syncEngine),yield yq(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new C_}()}createDatastore(n){let r=Mh(n.databaseInfo.databaseId),i=function(o){return new v_(o)}(n.databaseInfo);return function(o,a,u,l){return new w_(o,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,a,u){return new T_(i,s,o,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>Y0(this.syncEngine,r,0),function(){return ch.D()?new ch:new m_}())}createSyncEngine(n,r){return function(s,o,a,u,l,h,p){let m=new M_(s,o,a,u,l,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var n,r;yield function(s){return _(this,null,function*(){let o=X(s);j("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Oc(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var bc=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var P_=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=We.UNAUTHENTICATED,this.clientId=Kd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>_(this,null,function*(){j("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(j("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new en;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=eI(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function lv(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(this,null,function*(){r.isEqual(i)||(yield FA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function X0(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Oq(t);j("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>W0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>W0(e.remoteStore,i)),t._onlineComponents=e})}function Oq(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{yield lv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ho("Error using user provided cache. Falling back to memory cache: "+n),yield lv(t,new Z0)}}else j("FirestoreClient","Using default OfflineComponentProvider"),yield lv(t,new Z0);return t._offlineComponents})}function JA(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),yield X0(t,t._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),yield X0(t,new Pq))),t._onlineComponents})}function kq(t){return JA(t).then(e=>e.syncEngine)}function mh(t){return _(this,null,function*(){let e=yield JA(t),n=e.eventManager;return n.onListen=Iq.bind(null,e.syncEngine),n.onUnlisten=Tq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Dq.bind(null,e.syncEngine),n})}function Lq(t,e,n={}){let r=new en;return t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(s,o,a,u,l){let h=new bc({next:m=>{h.Za(),o.enqueueAndForget(()=>nI(s,p));let y=m.docs.has(a);!y&&m.fromCache?l.reject(new F(M.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?l.reject(new F(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Dc(Ah(a.path),h,{includeMetadataChanges:!0,_a:!0});return tI(s,p)}(yield mh(t),t.asyncQueue,e,n,r)})),r.promise}function Fq(t,e,n={}){let r=new en;return t.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return function(s,o,a,u,l){let h=new bc({next:m=>{h.Za(),o.enqueueAndForget(()=>nI(s,p)),m.fromCache&&u.source==="server"?l.reject(new F(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Dc(a,h,{includeMetadataChanges:!0,_a:!0});return tI(s,p)}(yield mh(t),t.asyncQueue,e,n,r)})),r.promise}function ZA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var eA=new Map;function XA(t,e,n){if(!n)throw new F(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Vq(t,e,n,r){if(e===!0&&r===!0)throw new F(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tA(t){if(!W.isDocumentKey(t))throw new F(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nA(t){if(W.isDocumentKey(t))throw new F(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Oh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y()}function qt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new F(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Oh(t);throw new F(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var yh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new F(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new F(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Vq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ZA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new F(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new F(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new F(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Eo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yh({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new F(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new F(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new dv;switch(r.type){case"firstParty":return new gv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new F(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=eA.get(n);r&&(j("ComponentProvider","Removing Datastore"),eA.delete(n),r.terminate())}(this),Promise.resolve()}};function eR(t,e,n,r={}){var i;let s=(t=qt(t,Eo))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=We.MOCK_USER;else{a=md(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new F(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new We(l)}t._authCredentials=new hv(new Wd(a,u))}}var Qr=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},lt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Hr=class t extends Qr{constructor(e,n,r){super(e,n,Ah(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new lt(this.firestore,null,new W(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function tR(t,e,...n){if(t=be(t),XA("collection","path",e),t instanceof Eo){let r=Ne.fromString(e,...n);return nA(r),new Hr(t,null,r)}{if(!(t instanceof lt||t instanceof Hr))throw new F(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ne.fromString(e,...n));return nA(r),new Hr(t.firestore,null,r)}}function nR(t,e,...n){if(t=be(t),arguments.length===1&&(e=Kd.newId()),XA("doc","path",e),t instanceof Eo){let r=Ne.fromString(e,...n);return tA(r),new lt(t,null,new W(r))}{if(!(t instanceof lt||t instanceof Hr))throw new F(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Ne.fromString(e,...n));return tA(r),new lt(t.firestore,t instanceof Hr?t.converter:null,new W(r))}}var vh=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new uh(this,"async_queue_retry"),this.Vu=()=>{let r=uv();r&&j("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=uv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=uv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new en;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return _(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Pc(e))throw e;j("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw rr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=D_.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Y()}verifyOperationInProgress(){}wu(){return _(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function rA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var or=class extends Eo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new vh,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new vh(e),this._firestoreClient=void 0,yield e}})}};function rR(t,e){let n=typeof t=="object"?t:Kn(),r=typeof t=="string"?t:e||"(default)",i=Wn(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=gd("firestore");s&&eR(i,...s)}return i}function kh(t){if(t._terminated)throw new F(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Uq(t),t._firestoreClient}function Uq(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,h){return new Iv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,ZA(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new P_(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var Cc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(dt.fromBase64String(e))}catch(n){throw new F(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var To=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new F(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Sc=class{constructor(e){this._methodName=e}};var Ac=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new F(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new F(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}};var Rc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var jq=/^__.*__$/,O_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new En(e,this.data,this.fieldMask,n,this.fieldTransforms):new qi(e,this.data,n,this.fieldTransforms)}},_h=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new En(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function iR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}var k_=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return wh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(iR(this.Cu)&&jq.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},L_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mh(e)}Qu(e,n,r,i=!1){return new k_({Cu:e,methodName:n,qu:r,path:xt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function sI(t){let e=t._freezeSettings(),n=Mh(t._databaseId);return new L_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Bq(t,e,n,r,i,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);oI("Data must be an object, but it was:",o,r);let a=sR(r,o),u,l;if(s.merge)u=new $t(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let m=F_(e,p,n);if(!o.contains(m))throw new F(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);aR(h,m)||h.push(m)}u=new $t(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new O_(new Mt(a),u,l)}var Ih=class t extends Sc{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function $q(t,e,n,r){let i=t.Qu(1,e,n);oI("Data must be an object, but it was:",i,r);let s=[],o=Mt.empty();Hi(r,(u,l)=>{let h=aI(e,u,n);l=be(l);let p=i.Nu(h);if(l instanceof Ih)s.push(h);else{let m=Lc(l,p);m!=null&&(s.push(h),o.set(h,m))}});let a=new $t(s);return new _h(o,a,i.fieldTransforms)}function qq(t,e,n,r,i,s){let o=t.Qu(1,e,n),a=[F_(e,r,n)],u=[i];if(s.length%2!=0)throw new F(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(F_(e,s[m])),u.push(s[m+1]);let l=[],h=Mt.empty();for(let m=a.length-1;m>=0;--m)if(!aR(l,a[m])){let y=a[m],D=u[m];D=be(D);let R=o.Nu(y);if(D instanceof Ih)l.push(y);else{let S=Lc(D,R);S!=null&&(l.push(y),h.set(y,S))}}let p=new $t(l);return new _h(h,p,o.fieldTransforms)}function Hq(t,e,n,r=!1){return Lc(n,t.Qu(r?4:3,e))}function Lc(t,e){if(oR(t=be(t)))return oI("Unsupported field value:",e,t),sR(t,e);if(t instanceof Sc)return function(r,i){if(!iR(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=Lc(a,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=be(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return S$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Je.fromDate(r);return{timestampValue:sh(i.serializer,s)}}if(r instanceof Je){let s=new Je(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sh(i.serializer,s)}}if(r instanceof Ac)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cc)return{bytesValue:NA(i.serializer,r._byteString)};if(r instanceof lt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Q_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Rc)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return K_(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Oh(r)}`)}(t,e)}function sR(t,e){let n={};return aA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hi(t,(r,i)=>{let s=Lc(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function oR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Je||t instanceof Ac||t instanceof Cc||t instanceof lt||t instanceof Sc||t instanceof Rc)}function oI(t,e,n){if(!oR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Oh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function F_(t,e,n){if((e=be(e))instanceof To)return e._internalPath;if(typeof e=="string")return aI(t,e);throw wh("Field path arguments must be of type string or ",t,!1,void 0,n)}var zq=new RegExp("[~\\*/\\[\\]]");function aI(t,e,n){if(e.search(zq)>=0)throw wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new To(...e.split("."))._internalPath}catch{throw wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wh(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new F(M.INVALID_ARGUMENT,a+t+u)}function aR(t,e){return t.some(n=>n.isEqual(e))}var Eh=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new V_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Lh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},V_=class extends Eh{data(){return super.data()}};function Lh(t,e){return typeof e=="string"?aI(t,e):e instanceof To?e._internalPath:e._delegate._internalPath}function cR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new F(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Nc=class{},Th=class extends Nc{};function uR(t,e,...n){let r=[];e instanceof Nc&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof U_).length,a=s.filter(u=>u instanceof Dh).length;if(o>1||o>0&&a>0)throw new F(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Dh=class t extends Th{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return hR(e._query,n),new Qr(e.firestore,e.converter,Pv(e._query,n))}_parse(e){let n=sI(e.firestore);return function(s,o,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new F(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){sA(p,h);let y=[];for(let D of p)y.push(iA(u,s,D));m={arrayValue:{values:y}}}else m=iA(u,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||sA(p,h),m=Hq(a,o,p,h==="in"||h==="not-in");return Be.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function lR(t,e,n){let r=e,i=Lh("where",t);return Dh._create(i,r,n)}var U_=class t extends Nc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:nn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)hR(o,u),o=Pv(o,u)}(e._query,n),new Qr(e.firestore,e.converter,Pv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var j_=class t extends Th{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new F(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new F(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ji(s,o)}(e._query,this._field,this._direction);return new Qr(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new Gr(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function dR(t,e="asc"){let n=e,r=Lh("orderBy",t);return j_._create(r,n)}function iA(t,e,n){if(typeof(n=be(n))=="string"){if(n==="")throw new F(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mA(e)&&n.indexOf("/")!==-1)throw new F(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Ne.fromString(n));if(!W.isDocumentKey(r))throw new F(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return R0(t,new W(r))}if(n instanceof lt)return R0(t,n._key);throw new F(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Oh(n)}.`)}function sA(t,e){if(!Array.isArray(t)||t.length===0)throw new F(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hR(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new F(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new F(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var B_=class{convertValue(e,n="none"){switch(Ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ae(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Hi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Ae(o.doubleValue));return new Rc(s)}convertGeoPoint(e){return new Ac(Ae(e.latitude),Ae(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=H_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vc(e));default:return null}}convertTimestamp(e){let n=ir(e);return new Je(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Ne.fromString(e);_e(LA(r));let i=new Zd(r.get(1),r.get(3)),s=new W(r.popFirst(5));return i.isEqual(n)||rr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function Gq(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Li=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},bh=class extends Eh{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new lo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Lh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},lo=class extends bh{data(e={}){return super.data(e)}},Ch=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Li(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new lo(this._firestore,this._userDataWriter,r.key,r,new Li(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new F(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new lo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Li(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new lo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Li(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Wq(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Wq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}function fR(t){t=qt(t,lt);let e=qt(t.firestore,or);return Lq(kh(e),t._key).then(n=>vR(e,t,n))}var Mc=class extends B_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new lt(this.firestore,null,n)}};function pR(t){t=qt(t,Qr);let e=qt(t.firestore,or),n=kh(e),r=new Mc(e);return cR(t._query),Fq(n,t._query).then(i=>new Ch(e,r,t,i))}function gR(t,e,n){t=qt(t,lt);let r=qt(t.firestore,or),i=Gq(t.converter,e,n);return yR(r,[Bq(sI(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,qr.none())])}function mR(t,e,n,...r){t=qt(t,lt);let i=qt(t.firestore,or),s=sI(i),o;return o=typeof(e=be(e))=="string"||e instanceof To?qq(s,"updateDoc",t._key,e,n,r):$q(s,"updateDoc",t._key,e),yR(i,[o.toMutation(t._key,qr.exists(!0))])}function cI(t,...e){var n,r,i;t=be(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||rA(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(rA(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof lt)l=qt(t.firestore,or),h=Ah(t._key.path),u={next:p=>{e[o]&&e[o](vR(l,t,p))},error:e[o+1],complete:e[o+2]};else{let p=qt(t,Qr);l=qt(p.firestore,or),h=p._query;let m=new Mc(l);u={next:y=>{e[o]&&e[o](new Ch(l,m,p,y))},error:e[o+1],complete:e[o+2]},cR(t._query)}return function(m,y,D,R){let S=new bc(R),P=new Dc(y,S,D);return m.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return tI(yield mh(m),P)})),()=>{S.Za(),m.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return nI(yield mh(m),P)}))}}(kh(l),h,a,u)}function yR(t,e){return function(r,i){let s=new en;return r.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return bq(yield kq(r),i,s)})),s.promise}(kh(t),e)}function vR(t,e,n){let r=n.docs.get(e._key),i=new Mc(t);return new bh(t,i,e._key,r,new Li(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Do=i})(Zt),Jt(new Tt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new or(new fv(r.getProvider("auth-internal")),new yv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new F(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zd(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Te(b0,"4.7.3",e),Te(b0,"4.7.3","esm2017")})();var Fh=function(){return Fh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Fh.apply(this,arguments)};var Yq={includeMetadataChanges:!1};function uI(t,e){return e===void 0&&(e=Yq),new ie(function(n){var r=cI(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function _R(t){return uI(t,{includeMetadataChanges:!0})}function IR(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Fh(Fh({},r),(n={},n[e.idField]=t.id,n))}function wR(t){return uI(t,{includeMetadataChanges:!0}).pipe(J(function(e){return e.docs}))}function ER(t,e){return e===void 0&&(e={}),wR(t).pipe(J(function(n){return n.map(function(r){return IR(r,e)})}))}var Gi=class{constructor(e){return e}},TR="firestore",lI=class{constructor(){return Si(TR)}};var dI=new q("angularfire2.firestore-instances");function Jq(t,e){let n=to(TR,t,e);return n&&new Gi(n)}function Zq(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Gi(r)}}var Xq={provide:lI,deps:[[new ke,dI]]},eH={provide:Gi,useFactory:Jq,deps:[[new ke,dI],Xt]};function KQ(t,...e){return Te("angularfire",Qn.full,"fst"),Et([eH,Xq,{provide:dI,useFactory:Zq(t),multi:!0,deps:[he,He,Ur,Yn,[new ke,Pi],[new ke,Vr],...e]}])}var Co=Ce(ER,!0);var Vh=Ce(_R,!0);var Tn=Ce(tR,!0);var Wi=Ce(nR,!0);var DR=Ce(fR,!0);var bR=Ce(pR,!0);var QQ=Ce(rR,!0);var hI=Ce(dR,!0);var So=Ce(uR,!0);var Uh=Ce(gR,!0);var CR=Ce(mR,!0);var jh=Ce(lR,!0);var OR="firebasestorage.googleapis.com",kR="storageBucket",nH=2*60*1e3,rH=10*60*1e3,iH=1e3;var Me=class t extends at{constructor(e,n,r=0){super(fI(e),`Firebase Storage: ${n} (${fI(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fI(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Re=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Re||{});function fI(t){return"storage/"+t}function EI(){let t="An unknown error occurred, please check the error payload for server response.";return new Me(Re.UNKNOWN,t)}function sH(t){return new Me(Re.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function oH(t){return new Me(Re.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function aH(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Me(Re.UNAUTHENTICATED,t)}function cH(){return new Me(Re.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function uH(t){return new Me(Re.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function LR(){return new Me(Re.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function FR(){return new Me(Re.CANCELED,"User canceled the upload/download.")}function lH(t){return new Me(Re.INVALID_URL,"Invalid URL '"+t+"'.")}function dH(t){return new Me(Re.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function hH(){return new Me(Re.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+kR+"' property when initializing the app?")}function VR(){return new Me(Re.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function fH(){return new Me(Re.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function pH(){return new Me(Re.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function gH(t){return new Me(Re.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function gI(t){return new Me(Re.INVALID_ARGUMENT,t)}function UR(){return new Me(Re.APP_DELETED,"The Firebase app was deleted.")}function mH(t){return new Me(Re.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vc(t,e){return new Me(Re.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Fc(t){throw new Me(Re.INTERNAL_ERROR,"Internal error: "+t)}var rn=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw dH(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function l(B){B.path_=decodeURIComponent(B.path)}let h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${p}/${h}/b/${i}/o${m}`,"i"),D={bucket:1,path:3},R=n===OR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",P=new RegExp(`^https?://${R}/${i}/${S}`,"i"),k=[{regex:a,indices:u,postModify:s},{regex:y,indices:D,postModify:l},{regex:P,indices:{bucket:1,path:2},postModify:l}];for(let B=0;B<k.length;B++){let ae=k[B],z=ae.regex.exec(e);if(z){let E=z[ae.indices.bucket],v=z[ae.indices.path];v||(v=""),r=new t(E,v),ae.postModify(r);break}}if(r==null)throw lH(e);return r}},mI=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function yH(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let l=!1;function h(...S){l||(l=!0,e.apply(null,S))}function p(S){i=setTimeout(()=>{i=null,t(y,u())},S)}function m(){s&&clearTimeout(s)}function y(S,...P){if(l){m();return}if(S){m(),h.call(null,S,...P);return}if(u()||o){m(),h.call(null,S,...P);return}r<64&&(r*=2);let k;a===1?(a=2,k=0):k=(r+Math.random())*1e3,p(k)}let D=!1;function R(S){D||(D=!0,m(),!l&&(i!==null?(S||(a=2),clearTimeout(i),p(0)):S||(a=1)))}return p(0),s=setTimeout(()=>{o=!0,R(!0)},n),R}function vH(t){t(!1)}function _H(t){return t!==void 0}function IH(t){return typeof t=="function"}function wH(t){return typeof t=="object"&&!Array.isArray(t)}function Hh(t){return typeof t=="string"||t instanceof String}function SR(t){return TI()&&t instanceof Blob}function TI(){return typeof Blob<"u"}function AR(t,e,n,r){if(r<e)throw gI(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw gI(`Invalid value for '${t}'. Expected ${n} or less.`)}function Bc(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function jR(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Mo=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Mo||{});function BR(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var yI=class{constructor(e,n,r,i,s,o,a,u,l,h,p,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=h,this.connectionFactory_=p,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,D)=>{this.resolve_=y,this.reject_=D,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new No(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===Mo.NO_ERROR,u=s.getStatus();if(!a||BR(u,this.additionalRetryCodes_)&&this.retry){let h=s.getErrorCode()===Mo.ABORT;r(!1,new No(!1,null,h));return}let l=this.successCodes_.indexOf(u)!==-1;r(!0,new No(l,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(a,a.getResponse());_H(u)?s(u):s()}catch(u){o(u)}else if(a!==null){let u=EI();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){let u=this.appDelete_?UR():FR();o(u)}else{let u=LR();o(u)}};this.canceled_?n(!1,new No(!1,null,!0)):this.backoffId_=yH(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&vH(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},No=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function EH(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function TH(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function DH(t,e){e&&(t["X-Firebase-GMPID"]=e)}function bH(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function CH(t,e,n,r,i,s,o=!0){let a=jR(t.urlParams),u=t.url+a,l=Object.assign({},t.headers);return DH(l,e),EH(l,n),TH(l,s),bH(l,r),new yI(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function SH(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function AH(...t){let e=SH();if(e!==void 0){let n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(TI())return new Blob(t);throw new Me(Re.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function RH(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function NH(t){if(typeof atob>"u")throw gH("base-64");return atob(t)}var Dn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Uc=class{constructor(e,n){this.data=e,this.contentType=n||null}};function MH(t,e){switch(t){case Dn.RAW:return new Uc($R(e));case Dn.BASE64:case Dn.BASE64URL:return new Uc(qR(t,e));case Dn.DATA_URL:return new Uc(PH(e),OH(e))}throw EI()}function $R(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function xH(t){let e;try{e=decodeURIComponent(t)}catch{throw Vc(Dn.DATA_URL,"Malformed data URL.")}return $R(e)}function qR(t,e){switch(t){case Dn.BASE64:{let i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Vc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Dn.BASE64URL:{let i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Vc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=NH(e)}catch(i){throw i.message.includes("polyfill")?i:Vc(t,"Invalid character found")}let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var $h=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw Vc(Dn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=n[1]||null;r!=null&&(this.base64=kH(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function PH(t){let e=new $h(t);return e.base64?qR(Dn.BASE64,e.rest):xH(e.rest)}function OH(t){return new $h(t).contentType}function kH(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var qh=class t{constructor(e,n){let r=0,i="";SR(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(SR(this.data_)){let r=this.data_,i=RH(r,e,n);return i===null?null:new t(i)}else{let r=new Uint8Array(this.data_.buffer,e,n-e);return new t(r,!0)}}static getBlob(...e){if(TI()){let n=e.map(r=>r instanceof t?r.data_:r);return new t(AH.apply(null,n))}else{let n=e.map(o=>Hh(o)?MH(Dn.RAW,o).data:o.data_),r=0;n.forEach(o=>{r+=o.byteLength});let i=new Uint8Array(r),s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new t(i,!0)}}uploadData(){return this.data_}};function HR(t){let e;try{e=JSON.parse(t)}catch{return null}return wH(e)?e:null}function LH(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function FH(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function zR(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function VH(t,e){return e}var Ze=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||VH}},Bh=null;function UH(t){return!Hh(t)||t.length<2?t:zR(t)}function GR(){if(Bh)return Bh;let t=[];t.push(new Ze("bucket")),t.push(new Ze("generation")),t.push(new Ze("metageneration")),t.push(new Ze("name","fullPath",!0));function e(s,o){return UH(o)}let n=new Ze("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}let i=new Ze("size");return i.xform=r,t.push(i),t.push(new Ze("timeCreated")),t.push(new Ze("updated")),t.push(new Ze("md5Hash",null,!0)),t.push(new Ze("cacheControl",null,!0)),t.push(new Ze("contentDisposition",null,!0)),t.push(new Ze("contentEncoding",null,!0)),t.push(new Ze("contentLanguage",null,!0)),t.push(new Ze("contentType",null,!0)),t.push(new Ze("metadata","customMetadata",!0)),Bh=t,Bh}function jH(t,e){function n(){let r=t.bucket,i=t.fullPath,s=new rn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function BH(t,e,n){let r={};r.type="file";let i=n.length;for(let s=0;s<i;s++){let o=n[s];r[o.local]=o.xform(r,e[o.server])}return jH(r,t),r}function WR(t,e,n){let r=HR(e);return r===null?null:BH(t,r,n)}function $H(t,e,n,r){let i=HR(e);if(i===null||!Hh(i.downloadTokens))return null;let s=i.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(l=>{let h=t.bucket,p=t.fullPath,m="/b/"+o(h)+"/o/"+o(p),y=Bc(m,n,r),D=jR({alt:"media",token:l});return y+D})[0]}function KR(t,e){let n={},r=e.length;for(let i=0;i<r;i++){let s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var Yr=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function ar(t){if(!t)throw EI()}function DI(t,e){function n(r,i){let s=WR(t,i,e);return ar(s!==null),s}return n}function qH(t,e){function n(r,i){let s=WR(t,i,e);return ar(s!==null),$H(s,i,t.host,t._protocol)}return n}function $c(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=cH():i=aH():n.getStatus()===402?i=oH(t.bucket):n.getStatus()===403?i=uH(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function QR(t){let e=$c(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=sH(t.path)),s.serverResponse=i.serverResponse,s}return n}function HH(t,e,n){let r=e.fullServerUrl(),i=Bc(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Yr(i,s,DI(t,n),o);return a.errorHandler=QR(e),a}function zH(t,e,n){let r=e.fullServerUrl(),i=Bc(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Yr(i,s,qH(t,n),o);return a.errorHandler=QR(e),a}function GH(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function YR(t,e,n){let r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=GH(null,e)),r}function WH(t,e,n,r,i){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let k="";for(let B=0;B<2;B++)k=k+Math.random().toString().slice(2);return k}let u=a();o["Content-Type"]="multipart/related; boundary="+u;let l=YR(e,r,i),h=KR(l,n),p="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+u+`\r
Content-Type: `+l.contentType+`\r
\r
`,m=`\r
--`+u+"--",y=qh.getBlob(p,r,m);if(y===null)throw VR();let D={name:l.fullPath},R=Bc(s,t.host,t._protocol),S="POST",P=t.maxUploadRetryTime,V=new Yr(R,S,DI(t,n),P);return V.urlParams=D,V.headers=o,V.body=y.uploadData(),V.errorHandler=$c(e),V}var xo=class{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}};function bI(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ar(!1)}return ar(!!n&&(e||["active"]).indexOf(n)!==-1),n}function KH(t,e,n,r,i){let s=e.bucketOnlyServerUrl(),o=YR(e,r,i),a={name:o.fullPath},u=Bc(s,t.host,t._protocol),l="POST",h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},p=KR(o,n),m=t.maxUploadRetryTime;function y(R){bI(R);let S;try{S=R.getResponseHeader("X-Goog-Upload-URL")}catch{ar(!1)}return ar(Hh(S)),S}let D=new Yr(u,l,y,m);return D.urlParams=a,D.headers=h,D.body=p,D.errorHandler=$c(e),D}function QH(t,e,n,r){let i={"X-Goog-Upload-Command":"query"};function s(l){let h=bI(l,["active","final"]),p=null;try{p=l.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ar(!1)}p||ar(!1);let m=Number(p);return ar(!isNaN(m)),new xo(m,r.size(),h==="final")}let o="POST",a=t.maxUploadRetryTime,u=new Yr(n,o,s,a);return u.headers=i,u.errorHandler=$c(e),u}var RR=256*1024;function YH(t,e,n,r,i,s,o,a){let u=new xo(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw fH();let l=u.total-u.current,h=l;i>0&&(h=Math.min(h,i));let p=u.current,m=p+h,y="";h===0?y="finalize":l===h?y="upload, finalize":y="upload";let D={"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":`${u.current}`},R=r.slice(p,m);if(R===null)throw VR();function S(B,ae){let z=bI(B,["active","final"]),E=u.current+h,v=r.size(),I;return z==="final"?I=DI(e,s)(B,ae):I=null,new xo(E,v,z==="final",I)}let P="POST",V=e.maxUploadRetryTime,k=new Yr(n,P,S,V);return k.headers=D,k.body=R.uploadData(),k.progressCallback=a||null,k.errorHandler=$c(t),k}var Dt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function pI(t){switch(t){case"running":case"pausing":case"canceling":return Dt.RUNNING;case"paused":return Dt.PAUSED;case"success":return Dt.SUCCESS;case"canceled":return Dt.CANCELED;case"error":return Dt.ERROR;default:return Dt.ERROR}}var vI=class{constructor(e,n,r){if(IH(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{let s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}};function Ao(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}var NR=null,_I=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Mo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Mo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Mo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Fc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},II=class extends _I{initXhr(){this.xhr_.responseType="text"}};function Ro(){return NR?NR():new II}var wI=class{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=GR(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Re.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let s=this.isExponentialBackoffExpired();if(BR(i.status,[]))if(s)i=LR();else{this.sleepTime=Math.max(this.sleepTime*2,iH),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Re.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{let r=KH(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ro,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((n,r)=>{let i=QH(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Ro,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=RR*this._chunkMultiplier,n=new xo(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=YH(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(u){this._error=u,this._transition("error");return}let a=this._ref.storage._makeRequest(o,Ro,i,s,!1);this._request=a,a.getPromise().then(u=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(u.current),u.finalized?(this._metadata=u.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){RR*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{let r=HH(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ro,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{let r=WH(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ro,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=FR(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=pI(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){let s=new vI(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(pI(this._state)){case Dt.SUCCESS:Ao(this._resolve.bind(null,this.snapshot))();break;case Dt.CANCELED:case Dt.ERROR:let n=this._reject;Ao(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(pI(this._state)){case Dt.RUNNING:case Dt.PAUSED:e.next&&Ao(e.next.bind(e,this.snapshot))();break;case Dt.SUCCESS:e.complete&&Ao(e.complete.bind(e))();break;case Dt.CANCELED:case Dt.ERROR:e.error&&Ao(e.error.bind(e,this._error))();break;default:e.error&&Ao(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var Po=class t{constructor(e,n){this._service=e,n instanceof rn?this._location=n:this._location=rn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new rn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zR(this._location.path)}get storage(){return this._service}get parent(){let e=LH(this._location.path);if(e===null)return null;let n=new rn(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw mH(e)}};function JH(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new wI(t,new qh(e),n)}function ZH(t){t._throwIfRoot("getDownloadURL");let e=zH(t.storage,t._location,GR());return t.storage.makeRequestWithTokens(e,Ro).then(n=>{if(n===null)throw pH();return n})}function XH(t,e){let n=FH(t._location.path,e),r=new rn(t._location.bucket,n);return new Po(t.storage,r)}function ez(t){return/^[A-Za-z]+:\/\//.test(t)}function tz(t,e){return new Po(t,e)}function JR(t,e){if(t instanceof jc){let n=t;if(n._bucket==null)throw hH();let r=new Po(n,n._bucket);return e!=null?JR(r,e):r}else return e!==void 0?XH(t,e):t}function nz(t,e){if(e&&ez(e)){if(t instanceof jc)return tz(t,e);throw gI("To use ref(service, url), the first argument must be a Storage instance.")}else return JR(t,e)}function MR(t,e){let n=e?.[kR];return n==null?null:rn.makeFromBucketSpec(n,t)}function rz(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:md(i,t.app.options.projectId))}var jc=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=OR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nH,this._maxUploadRetryTime=rH,this._requests=new Set,i!=null?this._bucket=rn.makeFromBucketSpec(i,this._host):this._bucket=MR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=rn.makeFromBucketSpec(this._url,e):this._bucket=MR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){AR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){AR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return _(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return _(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Po(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new mI(UR());{let o=CH(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return _(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},xR="@firebase/storage",PR="0.13.2";var ZR="storage";function XR(t,e,n){return t=be(t),JH(t,e,n)}function eN(t){return t=be(t),ZH(t)}function tN(t,e){return t=be(t),nz(t,e)}function nN(t=Kn(),e){t=be(t);let r=Wn(t,ZR).getImmediate({identifier:e}),i=gd("storage");return i&&rN(r,...i),r}function rN(t,e,n,r={}){rz(t,e,n,r)}function iz(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new jc(n,r,i,e,Zt)}function sz(){Jt(new Tt(ZR,iz,"PUBLIC").setMultipleInstances(!0)),Te(xR,PR,""),Te(xR,PR,"esm2017")}sz();var Ki=class{constructor(e){return e}},iN="storage",CI=class{constructor(){return Si(iN)}};var SI=new q("angularfire2.storage-instances");function oz(t,e){let n=to(iN,t,e);return n&&new Ki(n)}function az(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ki(r)}}var cz={provide:CI,deps:[[new ke,SI]]},uz={provide:Ki,useFactory:oz,deps:[[new ke,SI],Xt]};function wY(t,...e){return Te("angularfire",Qn.full,"gcs"),Et([uz,cz,{provide:SI,useFactory:az(t),multi:!0,deps:[he,He,Ur,Yn,[new ke,Pi],[new ke,Vr],...e]}])}var sN=Ce(eN,!0);var EY=Ce(nN,!0);var oN=Ce(tN,!0);var aN=Ce(XR,!0);var zh=class t{constructor(e,n){this.firestore=e;this.storage=n}obtenerDatosUsuario(e){return DR(Wi(this.firestore,"usuarios",e))}asignarDatosUsuario(e){let n=Wi(this.firestore,"usuarios",e);return Vh(n).pipe(J(r=>{if(Vh.exists())return Vh.data()}))}obtenerUsuarios(){let e=Tn(this.firestore,"usuarios"),n=So(e,hI("tipo","desc"));return Co(n,{idField:"id"})}obtenerEspecialistas(){let e=Tn(this.firestore,"usuarios"),n=So(e,jh("tipo","==","especialista"));return Co(n,{idField:"id"})}obtenerPacientes(){let e=Tn(this.firestore,"usuarios"),n=So(e,jh("tipo","==","paciente"));return Co(n,{idField:"id"})}obtenerEspecialidades(){let e=Tn(this.firestore,"especialidades");return Co(e,{idField:"id"})}agregarEspecialidad(e){let n=Tn(this.firestore,"especialidades"),r=Wi(n),i=r.id;Uh(r,{id:i,nombre:e})}agregarUsuario(e){return _(this,null,function*(){let n=Tn(this.firestore,"usuarios");e.imagen1=yield this.subirArchivos(e.imagen1,e.id+"-1"),e.imagen2&&(e.imagen2=yield this.subirArchivos(e.imagen2,e.id+"-2"));let r=Wi(n,e.id);Uh(r,e)})}cambiarEstado(e,n){let r=Wi(this.firestore,"usuarios",e);return CR(r,{habilitado:n})}subirArchivos(e,n){return _(this,null,function*(){let r=oN(this.storage,`imagenes/${n}`),i=yield aN(r,e);return yield sN(r)})}usuarioExiste(e){return _(this,null,function*(){let n=Tn(this.firestore,"usuarios"),r=So(n,jh("email","==",e));return(yield bR(r)).size!==0})}generarLog(e){if(e){let n=Tn(this.firestore,"logs"),r=Wi(n),i=r.id;Uh(r,{id:i,idUsuario:e.id,nombre:e.nombre+" "+e.apellido,dni:e.dni,tipo:e.tipo,fecha:new Date().toUTCString()})}}obtenerLogs(){let e=Tn(this.firestore,"logs"),n=So(e,hI("fecha","asc"));return Co(n,{idField:"id"})}static \u0275fac=function(n){return new(n||t)(H(Gi),H(Ki))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};var cN=class t{constructor(e,n){this.db=e;this.auth=n}datos=void 0;sub;obtenerDatos(){return new Promise((e,n)=>{this.db.obtenerDatosUsuario(this.auth.currentUser?.uid).then(r=>{r.exists()&&(this.datos=r.data(),e(this.datos))}).catch(r=>n(r))})}vincularDatos(e){this.sub||(this.sub=this.db.asignarDatosUsuario(e).subscribe(n=>{this.datos=n}))}cerrarSesion(){this.datos=void 0,this.auth.signOut(),this.sub&&(this.sub.unsubscribe(),this.sub=void 0)}static \u0275fac=function(n){return new(n||t)(H(zh),H(xi))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};export{U as a,Ee as b,_ as c,rt as d,Se as e,J as f,EM as g,G as h,iT as i,$ as j,Ns as k,q as l,se as m,H as n,x as o,_T as p,Ms as q,yi as r,pa as s,N6 as t,M6 as u,pg as v,He as w,it as x,he as y,Vn as z,FP as A,x6 as B,Ye as C,ya as D,L6 as E,xk as F,Hk as G,r1 as H,i1 as I,fb as J,pb as K,Fg as L,F6 as M,Vg as N,V6 as O,U6 as P,w1 as Q,E1 as R,j6 as S,B6 as T,D1 as U,mb as V,b1 as W,$6 as X,C1 as Y,q6 as Z,vb as _,H6 as $,va as aa,z6 as ba,Ia as ca,wa as da,G6 as ea,Z1 as fa,Ls as ga,v8 as ha,_8 as ia,I8 as ja,iL as ka,O8 as la,o5 as ma,CF as na,Hn as oa,b5 as pa,C5 as qa,S5 as ra,YV as sa,ZV as ta,zn as ua,N5 as va,aS as wa,Tt as xa,Lr as ya,Xa as za,uy as Aa,YU as Ba,Jt as Ca,Zt as Da,Id as Ea,fy as Fa,Te as Ga,DS as Ha,bS as Ia,oj as Ja,cK as Ka,uK as La,xi as Ma,n7 as Na,r7 as Oa,i7 as Pa,s7 as Qa,o7 as Ra,KQ as Sa,QQ as Ta,wY as Ua,EY as Va,zh as Wa,cN as Xa};
