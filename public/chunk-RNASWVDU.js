import{a as q}from"./chunk-YYPRORVF.js";import{c as V,d as g,f as A,g as R,h as F,i as h,k as D,m as T,n as N,o as j,p as z}from"./chunk-5VHRWU7W.js";import{a as I}from"./chunk-VP4YQ6D5.js";import{A as c,B as d,F as u,G as p,I as i,J as o,K as s,M as m,N as x,S as l,Ta as k,U as P,Xa as E,Ya as O,_ as w,cb as S,m as _,na as L,o as v,qa as M,va as y,x as C}from"./chunk-ZKOOGIRO.js";import"./chunk-WTI2L5DI.js";var b=class a{constructor(n){this.el=n;let r=parseInt(this.el.nativeElement.style.width,10);this.el.nativeElement.style.width=r-10+"px";let t=this.el.nativeElement.parentNode,e=document.createElement("span");e.textContent="\u{1F441}\uFE0F",e.style.backgroundColor="whitesmoke",e.style.border="1px solid gray",e.style.borderRadius="5px",e.style.cursor="pointer",e.style.width="25px",e.style.textAlign="center",e.setAttribute("class","toggle"),e.addEventListener("click",()=>{this.cambiarEstado(e)}),t.appendChild(e)}_visible=!1;cambiarEstado(n){this._visible?this.ocultar(n):this.mostrar(n),this._visible=!this._visible}mostrar(n){this.el.nativeElement.setAttribute("type","text"),n.textContent="X"}ocultar(n){this.el.nativeElement.setAttribute("type","password"),n.textContent="\u{1F441}\uFE0F"}static \u0275fac=function(r){return new(r||a)(d(C))};static \u0275dir=v({type:a,selectors:[["","appMostrarPassword",""]],standalone:!0})};function H(a,n){a&1&&(i(0,"small",20),l(1," Debe Ingresar Un Mail Valido "),o())}function U(a,n){a&1&&(i(0,"small",20),l(1," Al Menos 16 Caracteres "),o())}function Y(a,n){if(a&1&&(i(0,"strong",20),l(1),o()),a&2){let r=x();c(),P(" ",r.error," ")}}function J(a,n){a&1&&s(0,"app-loading",21),a&2&&p("mensaje","Validando")}var G=class a{constructor(n,r,t,e){this.router=n;this.usuario=r;this.auth=t;this.db=e;this.formularioLogin=new F({email:new h("",[g.required,g.email]),password:new h("",[g.minLength(16),g.required])})}formularioLogin;validando=!1;error="";logear(){this.limpiarEspacios(),this.error="",this.validando=!0;let n=this.formularioLogin.value;O(this.auth,n.email,n.password).then(r=>{r.user?r.user.emailVerified?this.usuario.obtenerDatos().then(t=>{t.tipo=="especialista"&&!t.habilitado?(this.validando=!1,this.error="Cuenta NO Verificado Por Administracion. Contacte a la Clinica",this.usuario.cerrarSesion()):(this.db.generarLog(this.usuario.datos),this.router.navigate(["/perfil"]))}):(this.validando=!1,this.error="Debe verificar su email antes de iniciar sesion",E(r.user),this.auth.signOut()):(this.validando=!1,this.error="Credenciales Invalidas")}).catch(r=>{this.validando=!1,this.error="Credenciales Invalidas"})}limpiarEspacios(){this.formularioLogin.get("email")?.setValue(this.formularioLogin.get("email")?.value.trim()),this.formularioLogin.get("password")?.setValue(this.formularioLogin.get("password")?.value.trim())}registro(){this.router.navigate(["registro"])}completarAdmin(){this.formularioLogin.get("email")?.setValue("michellecharotti@gmail.com"),this.formularioLogin.get("password")?.setValue("rootrootrootroot")}completarEspecialista(){this.formularioLogin.get("email")?.setValue("michel_1@hotmail.com.ar"),this.formularioLogin.get("password")?.setValue("medicomedicomedico")}completarEspecialista2(){this.formularioLogin.get("email")?.setValue("hivawim430@aqqor.com"),this.formularioLogin.get("password")?.setValue("hivawim430@aqqor.com")}completarPaciente(){this.formularioLogin.get("email")?.setValue("informmc01@gmail.com"),this.formularioLogin.get("password")?.setValue("pacientepaciente")}completarPaciente2(){this.formularioLogin.get("email")?.setValue("bodas76110@opposir.com"),this.formularioLogin.get("password")?.setValue("bodas76110@opposir.com")}completarPaciente3(){this.formularioLogin.get("email")?.setValue("deyicok435@gianes.com"),this.formularioLogin.get("password")?.setValue("deyicok435@gianes.com")}static \u0275fac=function(r){return new(r||a)(d(y),d(I),d(k),d(S))};static \u0275cmp=_({type:a,selectors:[["app-login"]],standalone:!0,features:[w],decls:47,vars:6,consts:[[1,"zoom"],[1,"login-form",3,"formGroup"],[1,"form-group"],["for","nombre"],["type","text","id","email","placeholder","Ingrese usuario","formControlName","email"],["class","error",4,"ngIf"],["for","password"],[1,"password"],["appMostrarPassword","","type","password","id","password","placeholder","Ingrese contrase\xF1a","formControlName","password"],[1,"button-group"],[1,"botones","login-button",3,"click","disabled"],[1,"botones","register-button",3,"click"],[1,"button-group-sub"],[1,"sub-button",3,"click"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-1ac34.appspot.com/o/imagenes%2FHRlkxFpahqZyEVdLrjReQUBmEBR2-1?alt=media&token=b0be51be-4e73-4b54-85a6-b4fe3c438c98"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-1ac34.appspot.com/o/imagenes%2FIpN92CIzRsQJ3G6erLcHYOJ3DjG3-1?alt=media&token=a69ea650-e3cf-469b-9ed3-bd1c1406466c"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-1ac34.appspot.com/o/imagenes%2Fr1lihwD6qkhQXRyvzPkBhXIxjel2-2?alt=media&token=9b6d5157-7e2e-4343-94c3-7f9917e11006"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-1ac34.appspot.com/o/imagenes%2FjC6CLERNPvgyeYs3si8fkw6EnAV2-1?alt=media&token=ca1957cc-36b1-4bb5-95fd-5e213b9075c5"],["src","https://firebasestorage.googleapis.com/v0/b/tpclinica-1ac34.appspot.com/o/imagenes%2FAaRtxBYJH4doNCugkVtSTlcHCPs2-1?alt=media&token=d3df0b3b-c831-46fb-96e4-4df653ecec78"],[3,"mensaje",4,"ngIf"],[1,"error"],[3,"mensaje"]],template:function(r,t){if(r&1&&(i(0,"span",0)(1,"form",1)(2,"h3"),l(3,"Login"),o(),i(4,"div",2)(5,"label",3),l(6,"Usuario"),o(),s(7,"input",4),u(8,H,2,0,"small",5),o(),i(9,"div",2)(10,"label",6),l(11,"Contrase\xF1a"),o(),i(12,"div",7),s(13,"input",8),o(),u(14,U,2,0,"small",5),o(),i(15,"div",9)(16,"button",10),m("click",function(){return t.logear()}),l(17,"Login"),o(),i(18,"button",11),m("click",function(){return t.registro()}),l(19,"Registrarse"),o()(),i(20,"div",12)(21,"button",13),m("click",function(){return t.completarAdmin()}),s(22,"img",14),i(23,"p"),l(24,"Admin"),o()(),i(25,"button",13),m("click",function(){return t.completarEspecialista()}),s(26,"img",15),i(27,"p"),l(28,"Espe1"),o()(),i(29,"button",13),m("click",function(){return t.completarEspecialista2()}),s(30,"img",15),i(31,"p"),l(32,"Espe2"),o()(),i(33,"button",13),m("click",function(){return t.completarPaciente()}),s(34,"img",16),i(35,"p"),l(36,"Paciente1"),o()(),i(37,"button",13),m("click",function(){return t.completarPaciente2()}),s(38,"img",17),i(39,"p"),l(40,"Paciente2"),o()(),i(41,"button",13),m("click",function(){return t.completarPaciente3()}),s(42,"img",18),i(43,"p"),l(44,"Paciente3"),o()()(),u(45,Y,2,1,"strong",5),o()(),u(46,J,1,1,"app-loading",19)),r&2){let e,f;c(),p("formGroup",t.formularioLogin),c(7),p("ngIf",((e=t.formularioLogin.get("email"))==null?null:e.touched)&&!((e=t.formularioLogin.get("email"))!=null&&e.valid)),c(6),p("ngIf",((f=t.formularioLogin.get("password"))==null?null:f.touched)&&!((f=t.formularioLogin.get("password"))!=null&&f.valid)),c(2),p("disabled",!t.formularioLogin.valid),c(29),p("ngIf",t.error!=""),c(),p("ngIf",t.validando)}},dependencies:[M,L,j,D,V,A,R,z,T,N,q,b],styles:[".login-form[_ngcontent-%COMP%]{margin-top:20px;display:flex;flex-direction:column;align-items:center}.form-group[_ngcontent-%COMP%]{margin:10px 0}.button-group[_ngcontent-%COMP%]{margin-top:20px;display:flex;flex-direction:column;align-items:center}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}input[_ngcontent-%COMP%]{padding:5px;border-radius:5px;border:1px solid #ccc;width:100%;max-width:300px}.botones[_ngcontent-%COMP%]{width:212px;margin:2px 25px;padding:10px;border:none;border-radius:5px;font-size:1rem;font-weight:700;cursor:pointer}.password[_ngcontent-%COMP%]{display:flex;align-items:center}.password[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:195px}.login-button[_ngcontent-%COMP%], .register-button[_ngcontent-%COMP%]{background-color:#3485c3;color:#fff}.login-button[_ngcontent-%COMP%]:hover, .register-button[_ngcontent-%COMP%]:hover{background-color:#2f75aa}.login-button[_ngcontent-%COMP%]:disabled{background-color:#3485c3b3;cursor:not-allowed}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:red 1px solid}small[_ngcontent-%COMP%]{text-decoration:underline;display:block;width:212px}.error[_ngcontent-%COMP%]{color:red}.button-container[_ngcontent-%COMP%]{position:fixed;bottom:.5%;left:.5%}.main-button[_ngcontent-%COMP%]{background-color:#00f;color:#fff;padding:10px 20px;font-size:16px;border:none;border-radius:5px;cursor:pointer}.hidden-buttons[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;opacity:0;visibility:hidden;transition:opacity .3s,visibility .3s}.button-container.active[_ngcontent-%COMP%]   .hidden-buttons[_ngcontent-%COMP%]{opacity:1;visibility:visible}.button-group-sub[_ngcontent-%COMP%]{margin-top:10px;display:flex;flex-direction:row;align-items:center}.sub-button[_ngcontent-%COMP%]{height:70px;width:70px;background-color:#3485c3;color:#fff;padding:0 20px;font-size:10px;border:none;border-radius:100px;cursor:pointer;transition:transform .5s;display:flex;align-items:center;justify-content:center;flex-direction:column;font-weight:700}.sub-button[_ngcontent-%COMP%]:hover{background-color:#2f75aa}.sub-button[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 5px}.sub-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:100%;border:1px solid whitesmoke}.button-container.active[_ngcontent-%COMP%]   .sub-button[_ngcontent-%COMP%]{transform:translateY(-370px)}.zoom[_ngcontent-%COMP%], .zomm[_ngcontent-%COMP%]   .login-form[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInAnimation 1s ease forwards,_ngcontent-%COMP%_sizeChangeAnimation 2s ease forwards}@keyframes _ngcontent-%COMP%_fadeInAnimation{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_sizeChangeAnimation{0%{transform:scale(.1)}to{transform:scale(1)}}.button-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInAnimation 1s ease forwards}"]})};export{G as LoginComponent};
